(self.webpackChunkskote=self.webpackChunkskote||[]).push([[730],{12841:t=>{var e=function(n){"use strict";var r,a=Object.prototype,i=a.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",d=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(p,f,g){return Object.defineProperty(p,f,{value:g,enumerable:!0,configurable:!0,writable:!0}),p[f]}try{u({},"")}catch{u=function(f,g,b){return f[g]=b}}function m(p,f,g,b){var S=Object.create((f&&f.prototype instanceof A?f:A).prototype),D=new Z(b||[]);return S._invoke=function q(p,f,g){var b=y;return function(S,D){if(b===C)throw new Error("Generator is already running");if(b===x){if("throw"===S)throw D;return l()}for(g.method=S,g.arg=D;;){var $=g.delegate;if($){var H=G($,g);if(H){if(H===E)continue;return H}}if("next"===g.method)g.sent=g._sent=g.arg;else if("throw"===g.method){if(b===y)throw b=x,g.arg;g.dispatchException(g.arg)}else"return"===g.method&&g.abrupt("return",g.arg);b=C;var F=h(p,f,g);if("normal"===F.type){if(b=g.done?x:_,F.arg===E)continue;return{value:F.arg,done:g.done}}"throw"===F.type&&(b=x,g.method="throw",g.arg=F.arg)}}}(p,g,D),S}function h(p,f,g){try{return{type:"normal",arg:p.call(f,g)}}catch(b){return{type:"throw",arg:b}}}n.wrap=m;var y="suspendedStart",_="suspendedYield",C="executing",x="completed",E={};function A(){}function I(){}function L(){}var k={};k[s]=function(){return this};var B=Object.getPrototypeOf,O=B&&B(B(v([])));O&&O!==a&&i.call(O,s)&&(k=O);var P=L.prototype=A.prototype=Object.create(k);function U(p){["next","throw","return"].forEach(function(f){u(p,f,function(g){return this._invoke(f,g)})})}function J(p,f){function g(S,D,$,H){var F=h(p[S],p,D);if("throw"!==F.type){var M=F.arg,N=M.value;return N&&"object"==typeof N&&i.call(N,"__await")?f.resolve(N.__await).then(function(R){g("next",R,$,H)},function(R){g("throw",R,$,H)}):f.resolve(N).then(function(R){M.value=R,$(M)},function(R){return g("throw",R,$,H)})}H(F.arg)}var b;this._invoke=function w(S,D){function $(){return new f(function(H,F){g(S,D,H,F)})}return b=b?b.then($,$):$()}}function G(p,f){var g=p.iterator[f.method];if(g===r){if(f.delegate=null,"throw"===f.method){if(p.iterator.return&&(f.method="return",f.arg=r,G(p,f),"throw"===f.method))return E;f.method="throw",f.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var b=h(g,p.iterator,f.arg);if("throw"===b.type)return f.method="throw",f.arg=b.arg,f.delegate=null,E;var w=b.arg;return w?w.done?(f[p.resultName]=w.value,f.next=p.nextLoc,"return"!==f.method&&(f.method="next",f.arg=r),f.delegate=null,E):w:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,E)}function T(p){var f={tryLoc:p[0]};1 in p&&(f.catchLoc=p[1]),2 in p&&(f.finallyLoc=p[2],f.afterLoc=p[3]),this.tryEntries.push(f)}function z(p){var f=p.completion||{};f.type="normal",delete f.arg,p.completion=f}function Z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(T,this),this.reset(!0)}function v(p){if(p){var f=p[s];if(f)return f.call(p);if("function"==typeof p.next)return p;if(!isNaN(p.length)){var g=-1,b=function w(){for(;++g<p.length;)if(i.call(p,g))return w.value=p[g],w.done=!1,w;return w.value=r,w.done=!0,w};return b.next=b}}return{next:l}}function l(){return{value:r,done:!0}}return I.prototype=P.constructor=L,L.constructor=I,I.displayName=u(L,c,"GeneratorFunction"),n.isGeneratorFunction=function(p){var f="function"==typeof p&&p.constructor;return!!f&&(f===I||"GeneratorFunction"===(f.displayName||f.name))},n.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,L):(p.__proto__=L,u(p,c,"GeneratorFunction")),p.prototype=Object.create(P),p},n.awrap=function(p){return{__await:p}},U(J.prototype),J.prototype[d]=function(){return this},n.AsyncIterator=J,n.async=function(p,f,g,b,w){void 0===w&&(w=Promise);var S=new J(m(p,f,g,b),w);return n.isGeneratorFunction(f)?S:S.next().then(function(D){return D.done?D.value:S.next()})},U(P),u(P,c,"Generator"),P[s]=function(){return this},P.toString=function(){return"[object Generator]"},n.keys=function(p){var f=[];for(var g in p)f.push(g);return f.reverse(),function b(){for(;f.length;){var w=f.pop();if(w in p)return b.value=w,b.done=!1,b}return b.done=!0,b}},n.values=v,Z.prototype={constructor:Z,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(z),!p)for(var f in this)"t"===f.charAt(0)&&i.call(this,f)&&!isNaN(+f.slice(1))&&(this[f]=r)},stop:function(){this.done=!0;var f=this.tryEntries[0].completion;if("throw"===f.type)throw f.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var f=this;function g(H,F){return S.type="throw",S.arg=p,f.next=H,F&&(f.method="next",f.arg=r),!!F}for(var b=this.tryEntries.length-1;b>=0;--b){var w=this.tryEntries[b],S=w.completion;if("root"===w.tryLoc)return g("end");if(w.tryLoc<=this.prev){var D=i.call(w,"catchLoc"),$=i.call(w,"finallyLoc");if(D&&$){if(this.prev<w.catchLoc)return g(w.catchLoc,!0);if(this.prev<w.finallyLoc)return g(w.finallyLoc)}else if(D){if(this.prev<w.catchLoc)return g(w.catchLoc,!0)}else{if(!$)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return g(w.finallyLoc)}}}},abrupt:function(p,f){for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g];if(b.tryLoc<=this.prev&&i.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var w=b;break}}w&&("break"===p||"continue"===p)&&w.tryLoc<=f&&f<=w.finallyLoc&&(w=null);var S=w?w.completion:{};return S.type=p,S.arg=f,w?(this.method="next",this.next=w.finallyLoc,E):this.complete(S)},complete:function(p,f){if("throw"===p.type)throw p.arg;return"break"===p.type||"continue"===p.type?this.next=p.arg:"return"===p.type?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):"normal"===p.type&&f&&(this.next=f),E},finish:function(p){for(var f=this.tryEntries.length-1;f>=0;--f){var g=this.tryEntries[f];if(g.finallyLoc===p)return this.complete(g.completion,g.afterLoc),z(g),E}},catch:function(p){for(var f=this.tryEntries.length-1;f>=0;--f){var g=this.tryEntries[f];if(g.tryLoc===p){var b=g.completion;if("throw"===b.type){var w=b.arg;z(g)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(p,f,g){return this.delegate={iterator:v(p),resultName:f,nextLoc:g},"next"===this.method&&(this.arg=r),E}},n}(t.exports);try{regeneratorRuntime=e}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},10220:()=>{Smart("smart-button",class extends Smart.ContentElement{static get properties(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}static get styleUrls(){return["smart.button.css"]}template(){return"<button class=\"smart-button smart-unselectable\" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role=\"presentation\"></button>"}refresh(){}static get listeners(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}focus(){const t=this;t.$.button?t.$.button.focus():HTMLElement.prototype.focus.call(t)}blur(){const t=this;t.$.button?t.$.button.blur():HTMLElement.prototype.blur.call(t)}_upHandler(t){const e=this;if(t.stopPropagation(),e.$.setAttributeValue("active",!1),e.dataset.target){const n=document.querySelector(e.dataset.target);let a=e.dataset.toggle;const i="smart-window".toLowerCase();if(n&&n.nodeName.toLowerCase()===i&&"modal"===a&&(a="openModal"),"tab"===a||"pill"===a||"list"===a){const r=this.closest(".nav, .list-group"),o='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',s=!r||"UL"!==r.nodeName&&"OL"!==r.nodeName?r.children(".active"):r.querySelectorAll("li > .active");if(r){const d=r.querySelectorAll(o);for(let u=0;u<d.length;u++)d[u].classList.remove("primary");for(let u=0;u<s.length;u++)s[u].classList.remove("active");let c=e.parentNode;for(;c;){if("LI"===c.nodeName){c.classList.add("active");break}c=c.parentNode}e.classList.add("primary")}return n.parentNode.querySelectorAll(".active").forEach(d=>{d.classList.remove("active"),d.classList.add("smart-hidden")}),n.classList.add("active"),void n.classList.remove("smart-hidden")}a&&n&&!n[a]&&"collapse"===a&&(setTimeout(()=>{n.classList.contains("smart-hidden")?n.classList.remove("smart-hidden"):n.classList.add("smart-hidden")}),t.originalEvent.preventDefault()),a&&n&&!n[a]&&"dropdown"===a?(setTimeout(()=>{n.opened=!n.opened}),t.originalEvent.preventDefault()):a&&n&&n[a]&&(setTimeout(()=>{n[a]()},50),t.originalEvent.preventDefault())}}_focusHandler(){this.$.setAttributeValue("focus",!0),this.$.fireEvent("focus")}_blurHandler(){this.$.setAttributeValue("focus",!1),this.$.fireEvent("blur")}_clickHandler(t){const e=this;("release"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e.readonly)&&(t.preventDefault(),t.stopPropagation())}_downHandler(t){const e=this;if(!(e.disabled||(e.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(e,t.pageX,t.pageY),e.$.setAttributeValue("active",!0),"press"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e.readonly))){if(e.hasAttribute("smart-blazor"))return void e.$.dispatchEvent(new Event("click"));e.$.fireEvent("click",{buttons:"buttons"in t?t.buttons:t.which,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})}}_mouseEnterHandler(t){const e=this;if(!e.readonly&&(e.$button.setAttributeValue("hover",!0),e.$.setAttributeValue("hover",!0),"hover"===e.clickMode)){const n="buttons"in t?t.buttons:t.which;if(e.hasAttribute("smart-blazor"))return void e.$.dispatchEvent(new Event("click"));e.$.fireEvent("click",{buttons:n,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})}}_touchEndHandler(){const t=this;setTimeout(function(){t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)},300)}_mouseLeaveHandler(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;"disabled"===t?(a._setFocusable(),a.$button&&a.$button.setAttributeValue("hover",!1),a.$.setAttributeValue("hover",!1),a instanceof Smart.RepeatButton&&a._stopRepeat()):"unfocusable"===t&&a._setFocusable()}_setFocusable(){const t=this,e=t.$.button?t.$.button:t;if(t.disabled||t.unfocusable)return e.removeAttribute("tabindex"),void(e.tabIndex=-1);e.tabIndex=t.tabIndex>0?t.tabIndex:0}ready(){const t=this;super.ready(),t.setAttribute("role","button"),t._setFocusable(),t.enableShadowDOM&&t.$.hiddenInput&&t.appendChild(t.$.hiddenInput)}}),Smart("smart-repeat-button",class extends Smart.Button{static get properties(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}static get listeners(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}_clickHandler(t){const e=this;("release"!==e.clickMode||e.preventDefaultClick||e.readonly||e.disabled)&&(t.preventDefault(),t.stopPropagation(),e.preventDefaultClick=!1)}_updateInBoundsFlag(t){const e=this;-1!==t.type.indexOf("leave")?(e._isPointerInBounds=!1,e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)):(e._isPointerInBounds=!0,e.$button.setAttributeValue("hover",!0),e.$.setAttributeValue("hover",!0)),1!==("buttons"in t?t.buttons:t.which)&&e._stopRepeat(t)}_startRepeat(t){const e=this;e.setAttribute("active",""),e._initialTimer||e.readonly||(e._initialTimer=setTimeout(function(){e._repeatTimer=setInterval(()=>{if(e._isPointerInBounds){if(e.hasAttribute("smart-blazor"))return e.$.dispatchEvent(new Event("click")),void(e.preventDefaultClick=!0);e.$.fireEvent("click",{buttons:"buttons"in t?t.buttons:t.which,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY}),e.preventDefaultClick=!0}},e.delay)},e.initialDelay))}_stopRepeat(t){const e=this;e.readonly||t&&("pointercancel"===t.type||t.originalEvent&&"pointercancel"===t.originalEvent.type)||(e.$.setAttributeValue("active",!1),e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null))}_touchmoveHandler(t){this.preventDefaultClick&&t.cancelable&&(t.preventDefault(),t.stopPropagation())}_overriddenHandler(){}}),Smart("smart-toggle-button",class extends Smart.Button{static get properties(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}static get listeners(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}ready(){super.ready(),this._setAriaState(),this._updateGroupValue()}_setAriaState(){const e=this.checked;this.setAttribute("aria-pressed",null!==e?e:"mixed")}_buttonClickHandler(){}_buttonMouseLeaveHandler(){this.removeAttribute("hover")}_buttonMouseEnterHandler(){const t=this;t.setAttribute("hover",""),t.disabled||t.readonly||"hover"!==t.clickMode||(t._changeCheckState("pointer"),t.focus(),t._updateHidenInputNameAndValue())}_documentUpHandler(t){const e=this;e._pressed&&(e._pressed=!1,e.disabled||e.readonly||"press"===e.clickMode||"pointercancel"===t.originalEvent.type||(e._changeCheckState("pointer"),e.focus(),e._updateHidenInputNameAndValue()))}_downHandler(t){const e=this;e.disabled||e.readonly||(e.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(e,t.pageX,t.pageY),e._pressed=!0,"press"!==e.clickMode&&"pressAndRelease"!==e.clickMode||(e._changeCheckState("pointer"),e.hasAttribute("smart-blazor")?e.$.dispatchEvent(new Event("click")):e.$.fireEvent("click"),e._updateHidenInputNameAndValue()),"press"===e.clickMode&&(t.preventDefault(),t.stopPropagation()))}_dragStartHandler(t){t.preventDefault()}_keyHandler(t){const e=this;if(!0!==e.disabled&&!e.readonly&&32===t.keyCode){if("keydown"===t.type)return void t.preventDefault();if("none"===e.switchMode)return;e._changeCheckState("keyboard"),e._updateHidenInputNameAndValue()}}_updateGroupValue(){const t=this;if(t.dataset.target){const e=document.querySelector(t.dataset.target);if(e){const n=document.querySelectorAll('[data-target="'+t.dataset.target+'"]'),a=[];if(t.checked){const i=t.dataset.property;if(i&&void 0!==e[i]){let o=t.dataset.value;"true"===o&&(o=!0),"false"===o&&(o=!1),e[i]=o}}for(let i=0;i<n.length;i++){const r=n[i];r.checked&&(r.name?(a.push(r.name),t.id&&r.setAttribute("data-id",t.id)):t.id&&a.push(t.id))}e.value=a.toString(),t._targetDispatchTimer&&clearTimeout(t._targetDispatchTimer),t._targetDispatchTimer=setTimeout(()=>{e.dispatchEvent(new Event("change"))},100)}}}_changeCheckState(t){const e=this;let n=null;null===e.checked?e.checked=!0:(n=e.checked,e.checked=!e.checked),e._handleTextSelection(),e.$.fireEvent("change",{value:e.checked,oldValue:n,changeType:t}),e.$.fireEvent(e.checked?"checkValue":"uncheckValue",{changeType:t}),e._updateGroupValue(),e._setAriaState()}_handleTextSelection(){const t=this;t.$.addClass("smart-unselectable"),t.timer&&clearTimeout(t.timer),t.timer=setTimeout(()=>t.$.removeClass("smart-unselectable"),500)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;if("checked"===t)return a.$.fireEvent("change",{value:n,oldValue:e,changeType:"api"}),void a._setAriaState();switch(t){case"trueTemplate":a._handleTemplate(!0);break;case"falseTemplate":a._handleTemplate(!1);break;case"indeterminateTemplate":a._handleTemplate()}}_htmlBindOnInitialization(){const t=this;t._bindContentProperty("trueContent","smart-true-content"),t._bindContentProperty("falseContent","smart-false-content"),t._bindContentProperty("indeterminateContent","smart-indeterminate-content")}_bindContentProperty(t,e){const n=this;if(!n.$[t+"Container"])return;let a=document.createElement("div");a.innerHTML=n.innerHTML;let i,r=a.getElementsByClassName(e);if(r.length>0)for(let o=0;o<r.length;o++)i=r[o];""===n[t]&&(n[t]=void 0===i?"":i.outerHTML),n.$[t+"Container"].innerHTML=n[t]}_updateContentProperties(){const t=this;function e(n){t.$[n+"Container"]&&(t[n]=t.$[n+"Container"].innerHTML)}e("trueContent"),e("falseContent"),e("indeterminateContent")}_updateHidenInputValue(){const t=this;if(!t.$.hiddenInput)return;let e;e=null===t.checked?"null":!1===t.checked?"off":t.value||"on",t.$.hiddenInput.setAttribute("value",e)}_updateHidenInputName(){const t=this;t.$.hiddenInput&&t.$.hiddenInput.setAttribute("name",!1===t.checked?"":t.name||"")}_updateHidenInputNameAndValue(){this._updateHidenInputName(),this._updateHidenInputValue()}_handleTemplate(t,e){const n=this;let a,i,r;if(!0===t?(a=n.trueTemplate,i=n.$.trueContentContainer,r=n.trueContent):!1===t?(a=n.falseTemplate,i=n.$.falseContentContainer,r=n.falseContent):(a=n.indeterminateTemplate,i=n.$.indeterminateContentContainer,r=n.indeterminateContent),e&&(i.innerHTML=r||""),null===a||!a)return;if("function"==typeof a)return void a(i,{value:r});if(!("content"in document.createElement("template")))return void n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()}));if(a=document.getElementById(a),null===a||!("content"in a))return void n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:"template"}));const o=a.content,s=o.childNodes.length,d=/{{\w+}}/g;let c,u=[];for(let C=0;C<s;C++)for(c=d.exec(o.childNodes[C].innerHTML);c;)u.push({childNodeIndex:C,bindingString:c[0]}),c=d.exec(o.childNodes[C].innerHTML);const m=u.length;let h,y,_=document.importNode(a.content,!0);for(let C=0;C<m;C++){h=_.childNodes[u[C].childNodeIndex],y=u.length;for(let x=0;x<y;x++)h.innerHTML=h.innerHTML.replace(u[C].bindingString,r)}i.innerHTML="";for(let C=0;C<_.childNodes.length;C++)_.childNodes[C].outerHTML&&(i.innerHTML+=_.childNodes[C].outerHTML)}})},54658:()=>{(()=>{Smart.DataAdapter=window.smartDataAdapter=class{constructor(e){e||(e={});const n=Object.assign(this,e);n.key=(65536*(1+Math.random())|0).toString(16).substring(1),n.$document=Smart.Utilities.Extend(document),n.boundSource=!1===n.observable||n.virtualDataSource?[]:new Smart.ObservableArray,n.dataItemById=[],void 0===n.allowAdd&&(n.allowAdd=!0),void 0===n.allowRemove&&(n.allowRemove=!0),void 0===n.allowUpdate&&(n.allowUpdate=!0),void 0===n.mapChar&&(n.mapChar="."),n.observable=void 0===e.observable&&!n.virtualDataSource,void 0===n.sanitizeHTML&&(n.sanitizeHTML="blackList"),n._expandedRowIds=[],e.dataSource||(n.dataSource=[]),e.dataFields||(n.dataFields=[]),e.dataSourceType||(n.dataSourceType="array"),e.id||(n.id=null),e.autoFetch||(n.autoFetch=!0),void 0===e.skipFirstRow&&(n.skipFirstRow=!1),e.dataFields&&(n.dataFields=e.dataFields),Object.defineProperty(n,"groupBy",{configurable:!1,enumerable:!0,get:()=>n._groupBy?n._groupBy:[],set(a){const i=()=>{n.boundHierarchy=null,n.refreshHierarchy(),n.onGroup&&n.onGroup()};n._groupBy=new Smart.ObservableArray(a),n._groupBy.notify(function(){i()}),n.isInitialized&&i()}}),n.groupBy=e.groupBy?e.groupBy.toArray?e.groupBy.toArray():e.groupBy:[],e&&!1!==e.autoBind&&n.dataBind(),n.isInitialized=!0}beginUpdate(){this.isUpdating=!0}endUpdate(){const e=this;e.isUpdating=!1,e.refreshIndexes(),e.refreshHierarchy()}get expandHierarchy(){return void 0===this._expandHierarchy&&(this._expandHierarchy=!1),this._expandHierarchy}set expandHierarchy(e){const n=this;n._expandHierarchy=e,n.isInitialized&&n.refreshHierarchy()}_getDataField(e){switch(e.name){case"leaf":case"parent":case"expanded":case"checked":case"selected":case"level":case"icon":case"data":case"group":case"children":case"items":e.map=e.map?e.map.replace(e.name,"$"+e.name):e.name,e.name="$"+e.name}}get dataFields(){return this._dataFields}set dataFields(e){const n=this;return n._dataFields=n._getDataFieldObjects(e),n._dataFields}_getDataFieldObjects(e){const n=this;let a=[];if("number"==typeof e){const i="A".charCodeAt(0);let r="",o=0;for(let s=0;s<e;s++){const d=String.fromCharCode(i+o);o++,a.push({name:r+d,dataType:"string"}),o>=26&&(o=0,r+="A")}}else if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const r=e[i];if("string"==typeof r){const o=r.split(":"),s=o[0].trim(),d=o.length>1?o[1].trim():"string";a.push({name:s,dataType:d})}else a.push(r);n._getDataField(a[a.length-1])}return a}get dataSource(){const e=this;return e._dataSource||(e._dataSource=[]),e._dataSource}set dataSource(e){const n=this;n._dataSource=e,n.isInitialized&&(n.boundSource=!1===n.observable||n.virtualDataSource?[]:new Smart.ObservableArray,n.dataItemById=[],n.bindingCompleted=!1,n.dataBind(),n.refreshIndexes())}get canNotify(){const e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify}set canNotify(e){this._canNotify=e}_notify(e){const n=this;n.canNotify&&n.notifyFn&&n.notifyFn(e)}notify(e){e&&(this.notifyFn=e)}toArray(){const e=this;return!1===e.observable?e.boundSource:e.boundSource.toArray()}forEach(e){const n=this;if(e)if(n.boundHierarchy&&n.boundHierarchy.length>0){const a=(i=>{let r=[];for(;i;){r=r.concat(i);for(let o=0;o<i.length;o++)i[o].children&&(r=r.concat(i[o].children));i=i.children}return r})(n.boundHierarchy);for(let i=0;i<a.length;i++)e(a[i],i)}else for(let a=0;a<n.boundSource.length;a++)e(n.boundSource[a],a)}dataBind(){const e=this;e.bindingCompleted=!1,e.clear();const n=()=>{e.observable&&(e.boundSource.notify||(e.boundSource=new Smart.ObservableArray),e.boundSource.notify(function(a){if("update"===a.action&&a.path&&a.path.indexOf(".")>=0&&-1===a.path.indexOf("children")&&-1===a.path.indexOf("parent")&&-1===a.path.indexOf("loaded")&&-1===a.path.indexOf("level")&&-1===a.path.indexOf("leaf")&&-1===a.path.indexOf("expanded")){let i=!1;for(let r=0;r<e.dataFields.length;r++)a.path.indexOf(e.dataFields[r].name)>=0&&(i=!0);e._notify&&i&&e._notify({action:"update",data:a.target,index:a.index})}})),e._onBindingComplete()};if("string"==typeof e.dataSource&&(e.dataSource.indexOf(".json")>=0||"json"===e.dataSourceType))e.url=e.dataSource,e.dataSourceType="json",new t(e,a=>{e.dataSource=a});else if("string"==typeof e.dataSource&&e.dataSource.indexOf(".xml")>=0)e.url=e.dataSource,e.dataSourceType="xml",new t(e,a=>{e.dataSource=a});else if("string"==typeof e.dataSource&&e.dataSource.indexOf(".xlsx")>=0)e.url=e.dataSource,e.dataSourceType="xlsx",new t(e,a=>{if(!a[0])return a=[],e._bindToArray(),void n();const i=Object.keys(a[0]),r={},o=[];if(!1!==e.exportHeader){let s=0;for(let d in i)r[i[d]]=e.dataFields[s++].name;for(let d=1;d<a.length;d++){const c=a[d],u={};for(let m in i){const h=i[m];u[r[h]]=c[h]}o.push(u)}e.dataSource=o}e._bindToArray(),n()});else if("string"==typeof e.dataSource&&e.dataSource.indexOf(".csv")>=0)e.url=e.dataSource,e.dataSourceType="csv",new t(e,a=>{e.dataSource=a});else if("string"==typeof e.dataSource&&e.dataSource.indexOf(".tsv")>=0)e.url=e.dataSource,e.dataSourceType="tsv",new t(e,a=>{e.dataSource=a});else if("string"==typeof e.dataSource&&(e.dataSource.indexOf(".ics")>=0||e.dataSource.indexOf(".php")>=0&&"ics"===e.dataSourceType||e.dataSource.indexOf(".txt")>=0&&"ics"===e.dataSourceType))e.url=e.dataSource,e.dataSourceType="ics",new t(e,a=>{e.dataSource=a});else if("string"==typeof e.dataSource&&(e.dataSource.indexOf("BEGIN:VCALENDAR")>=0||"ics"===e.dataSourceType))e._bindToICS(),n();else if("string"==typeof e.dataSource&&(e.dataSource.indexOf("<?xml")>=0||"xml"===e.dataSourceType))e._bindToXML(),n();else if("string"==typeof e.dataSource&&(e.dataSource.indexOf("  ")>=0||e.dataSource.indexOf(",")>=0||"tsv"===e.dataSourceType||"csv"===e.dataSourceType||"tab"===e.dataSourceType))e._bindToCSV(),n();else if("array"===e.dataSourceType)e._bindToArray(),n();else if("json"===e.dataSourceType){if(e.dataSource&&e.dataSource.url)return e.url=e.dataSource.url,e.dataSource.method&&(e.type=e.dataSource.method),e.dataSource.type&&(e.type=e.dataSource.type),e.dataSource.data&&(e.data=e.dataSource.data),void new t(e,a=>{e.dataSource=a});e._bindToJSON(),n()}}_bindToXML(){const e=this;let n=null,a=null;window.DOMParser&&(n=new DOMParser,a=n.parseFromString(e.dataSource,"text/xml")),void 0===e.root&&(e.root=""),void 0===e.record&&(e.record="");const i=a.querySelectorAll(e.root+" "+e.record),r=i.length,o=[];let s=e.dataFields?e.dataFields.length:0;if(0===s){const d=i[0],c=new Array;for(let u in d)c[c.length]={name:u};e.dataFields=c,s=c.length}for(let d=0;d<r;d++){const c=i[d],u={};if(void 0===c)break;if(e.id){const m=c.querySelector(e.id);u[e.id]=m.textContent}for(let m=0;m<s;m++){const h=e.dataFields[m],y=c.querySelector(h.map||h.name);u[h.name]=y.textContent}o[d]=u}e.canNotify=!1,e.dataSource=o,e.canNotify=!0,e._bindToArray()}static BindToCSV(e,n=!1){const a=""+e,i=-1===a.indexOf(",")?"\t":",",r=a.split("\r"),o=new Array,s=[];let d=a.split("\n"),c=d.length;1===c&&r.length>1&&(d=r,c=d.length);const u=!0===n;for(let m=0;m<c;m++){const h={},y=d[m].split(i);for(let _=0;_<y.length;_++){let C=s[_],x=y[_];if(C||(s.push({name:x.trim()}),C=s[s.length-1]),x=x.trim(),1!==m||u)switch(C.dataType){case"boolean":x="false"!==x;break;case"number":x=parseFloat(x);break;case"date":x=new Date(x)}else{let E="string";"false"===x||"true"===x?(E="boolean",x="false"!==x):isNaN(parseInt(x)&&-1===x.indexOf("/"))?(x.indexOf("-")>=0||x.indexOf("/")>=0||x.indexOf(":")>=0)&&"Invalid Date"!==new Date(x).toString()&&(E="date",x=new Date(x)):(E="number",x=parseFloat(x)),C.dataType||(C.dataType=E)}h[C.name]=x}(u||m>0)&&o.push(h)}return o}_bindToCSV(){const e=this,n=""+e.dataSource,a=-1===n.indexOf(",")?"\t":",",i=n.split("\r"),r=new Array;let o=n.split("\n"),s=o.length;1===s&&i.length>1&&(o=i,s=o.length);const d=e.dataFields.length>0;for(let c=0;c<s;c++){const u=o[c],m={};let h=o[c].split(a);if(c>0){let y=[],_=0,C=!1,x=o[c];for(let A=0;A<x.length;A++)if('"'===x.charAt(A))C=!C;else if(","===x.charAt(A)&&!C){let I=x.substring(_,A);I=I.trim(),I=I.replaceAll('"',""),y.push(I),_=A+1}let E=x.substring(_);E=E.trim(),E=E.replaceAll('"',""),y.push(","===E?'""':E),h=y}for(let y=0;y<h.length;y++){let _=e.dataFields[y],C=h[y];if(_||(e.dataFields.push({name:C.trim()}),_=e.dataFields[e.dataFields.length-1]),_.map&&(C=u[_.map]),C=C.trim(),1!==c||d)switch(_.dataType){case"boolean":C="false"!==C;break;case"number":C=parseFloat(C);break;case"date":C=new Date(C)}else{let x="string";"false"===C||"true"===C?(x="boolean",C="false"!==C):isNaN(parseInt(C)&&-1===C.indexOf("/")&&-1===C.indexOf("-"))?(C.indexOf("-")>=0||C.indexOf("/")>=0||C.indexOf(":")>=0)&&"Invalid Date"!==new Date(C).toString()&&(x="date",C=new Date(C)):C.indexOf(".")>=0&&C.lastIndexOf(".")!==C.indexOf(".")?-1===C.indexOf(",")&&(x="date",C=new Date(C)):(x="number",C=parseFloat(C)),_.dataType||(_.dataType=x)}m[_.map||_.name||y.toString()]=C}0===c&&e.skipFirstRow||(d||c>0)&&r.push(m)}e.canNotify=!1,e.dataSource=r,e.canNotify=!0,e._bindToArray()}_onBindingComplete(){const e=this;e._buildHierarchy(),e.onBindingComplete&&e.onBindingComplete({data:e.boundSource}),e._notify&&e._notify({action:"bindingComplete",data:e.boundSource}),e.bindingCompleted=!0}refreshHierarchy(){this.isUpdating||this._buildHierarchy()}find(){return this.boundSource.find.apply(this.boundSource,arguments)}onVirtualDataSourceRequested(e,n){const a=this;let i=n?n.first:1/0,r=n?n.last:1/0,o=n?n.row:null;if(void 0===i&&(i=1/0),void 0===r&&(r=1/0),a.virtualFirstIndex=i,a.virtualLastIndex=r,a.virtualDataSource){const s=function(c){void 0!==c.virtualDataSourceLength&&(a.virtualDataSourceLength=c.virtualDataSourceLength),new Smart.DataAdapter({dataSource:c.dataSource,dataFields:c.dataFields||a.dataFields,data:n,keyDataField:c.keyDataField,parentDataField:c.parentDataField,observable:!1,id:c.id||a.id,onBindingComplete(u){if(void 0===n.result&&(n.result=!0),n.data=u.data,a.virtualDataSourceOnExpand&&o)return a.groupBy.length>0?u.data&&u.data.length>0&&a.add(u.data):u.data&&u.data.length>0?a.add(u.data,o.$.id):o.leaf=!0,a.onFilter&&a.onFilter(),void e(n);i===1/0&&"scroll"===n.action?u.data&&u.data.length&&a.add(u.data):(a.canNotify=!1,a.dataSource=u.data,a.canNotify=!0),a.onFilter&&a.onFilter(),e(n)}})};let d={};if(n.sorting&&n.sorting.length>0){let c=[];for(let m in n.sorting)c.push(m+" "+n.sorting[m].sortOrder.toUpperCase());const u=" ORDER BY "+c.join(", ");d.orderBy=u}else d.orderBy="";if(void 0===i||void 0===r||0===i&&0===r)d.limit="";else{const c=r-i;d.limit=" LIMIT "+c+" OFFSET "+i,isNaN(c)&&(d.limit="")}if(d.groupBy=n.grouping&&n.grouping.length>0?" GROUP BY "+n.grouping[0]:"",n.filtering&&n.filtering.length>0){const c=(y,_)=>{switch(_.condition){case"EMPTY":return y+" = ''";case"NOT_EMPTY":return y+" != ''";case"EQUAL":return y+" = '"+_.value+"'";case"NOT_EQUAL":return y+" != '"+_.value+"'";case"CONTAINS_CASE_SENSITIVE":case"CONTAINS":return y+" LIKE '%"+_.value+"%'";case"DOES_NOT_CONTAIN_CASE_SENSITIVE":case"DOES_NOT_CONTAIN":return y+" NOT LIKE '%"+_.value+"%'";case"STARTS_WITH_CASE_SENSITIVE":case"STARTS_WITH":return y+" LIKE '"+_.value+"%'";case"ENDS_WITH_CASE_SENSITIVE":case"ENDS_WITH":return y+" LIKE '%"+_.value+"'";case"NULL":return y+" IS NULL";case"NOT_NULL":return y+" IS NOT NULL"}},u=(y,_)=>{switch(_.condition){case"EQUAL":return y+" = "+_.value;case"NOT_EQUAL":return y+" != "+_.value;case"GREATER_THAN":return y+" > "+_.value;case"GREATER_THAN_OR_EQUAL":return y+" >= "+_.value;case"LESS_THAN":return y+" < "+_.value;case"LESS_THAN_OR_EQUAL":return y+" <= "+_.value;case"NULL":return y+" IS NULL";case"NOT_NULL":return y+" IS NOT NULL";case"RANGE":return"("+y+" >= "+_.value+" and "+y+" <= "+_.valueTo+")"}},m=(y,_,C)=>{if(C.operator){var x=y(_,C.condition1),E=y(_,C.condition2);return"("+x+" "+C.operator+" "+E+")"}return y(_,C)};let h=[];for(let y in n.filtering){const _=n.filtering[y];let C=_.filters,x=[],E=" AND ";for(let A=0;A<C.length;A++){const I=C[A];switch(I.type){case"stringFilter":x.push(m(c,y,I));break;case"numericFilter":case"dateFilter":case"booleanFilter":x.push(m(u,y,I))}1===_.logicalOperators[A]&&(E=" OR ")}h.push("("+x.join(E)+")")}if(h.length>0){let y=" AND ";n.filterOperator&&"or"===n.filterOperator.toLowerCase()&&(y=" OR "),d.where=" WHERE "+h.join(y)}else d.where=""}else d.where="";if("dataBind"===n.action&&a.virtualDataSourceOnExpand&&a.keyDataField&&a.parentDataField&&(d.where?d.where+=" AND "+a.parentDataField+" IS NULL":d.where=" WHERE "+a.parentDataField+" IS NULL"),"update"===n.action){const c=[];for(let u in n.edit.row)"$"!==u&&u!==a.id&&c.push(u+"='"+n.edit.row[u]+"'");d.update=null===a.id?" SET "+c.join(", "):" SET "+c.join(", ")+" WHERE "+a.id+"="+n.edit.row[a.id]}if("remove"===n.action){const c=[];for(let u in n.edit.row)"$"!==u&&u!==a.id&&c.push(u+" = '"+n.edit.row[u]+"'");d.remove=" WHERE "+a.id+"="+n.edit.row[a.id]}if("add"===n.action){const c=[],u=[];for(let m in n.edit.row)"$"!==m&&(u.push(m),c.push(null!==n.edit.row[m]?"'"+n.edit.row[m]+"'":"null"));d.add=" ("+u.join(", ")+")  VALUES ("+c.join(", ")+")"}"expand"===n.action?(a.groupDataField?d.where?d.where+=" AND "+a.groupDataField+" = '"+o[a.groupDataField]+"'":d.where=" WHERE "+a.groupDataField+" = '"+o[a.groupDataField]+"'":a.keyDataField&&a.parentDataField?d.where?d.where+=" AND "+a.parentDataField+" = "+o[a.keyDataField]:d.where=" WHERE "+a.parentDataField+" = "+o[a.keyDataField]:d.where?d.where+=" AND "+o.groupDataField+" = '"+o.label+"'":d.where=" WHERE "+o.groupDataField+" = '"+o.label+"'",d.where.indexOf("undefined")>=0&&(d.where=""),d.limit="",d.groupBy="",a.virtualDataSourceOnExpand(s,{first:i,last:r,row:n.row,sorting:n.sorting,filtering:n.filtering,grouping:n.grouping,action:n.action,query:d})):a.virtualDataSource(s,{first:i,last:r,sorting:n.sorting,edit:n.edit,filtering:n.filtering,filterOperator:n.filterOperator||"and",grouping:n.grouping,action:n.action,query:d})}else e()}add(e,n){const a=this;if(!e)return;let i=!0;const r=function(o){const s=a._getDataItem(o,a.boundSource.length);if(a.dataItemById[s.$.id])return void 0!==n&&(s.$.parentId=n),null;a[a.boundSource.length]=s,a.dataItemById[s.$.id]=s;const d=a.boundSource.push(s);return void 0!==n&&(s.$.parentId=n),d||(i=!1),s};if(e.length){let o=[];for(let s=0;s<e.length;s++){const d=r(e[s]);d&&o.push(d)}a._notify({action:"add",data:o})}else{const o=r(e);a._notify({action:"add",data:o})}return a.refreshHierarchy(),i}refreshIndexes(){const e=this;for(let a=0;a<e.boundSource.length;a++)e[a]=e.boundSource[a],e[a].$.index=a,e.dataItemById[e[a].$.id]=e[a];let n=e.boundSource.length;for(;e[n];)delete e[n],n++}removeLast(){const e=this;delete e[e.boundSource.length-1];const n=e.boundSource.pop();return delete e.dataItemById[n.$.id],e._notify({action:"removeLast",data:n}),e.refreshHierarchy(),n}removeById(e){const n=this,a=n.indexOf(n.dataItemById[e]);n.boundSource[a]&&n.removeAt(a)}remove(e){const n=this;let a=n.indexOf(e);-1===a&&e&&e.$&&(a=n.indexOf(n.dataItemById[e.$.id])),n.boundSource[a]&&n.removeAt(a)}removeAt(e){const n=this,a=n.boundSource[e];if(!a)throw new Error("Invalid Item Index");n.boundSource.splice(e,1),delete n.dataItemById[a.$.id],n.refreshIndexes(),n._notify({action:"remove",index:e,data:a}),n.refreshHierarchy()}update(e,n){const a=this;if(Smart.Utilities.Types.isArray(e)&&Smart.Utilities.Types.isArray(n)&&0===e.length&&0===n.length)return void a.refreshHierarchy();if(n.length&&e.length){let o=[];for(let s=0;s<e.length;s++){const d=a._getDataItem(n[s],e[s]),c=e[s];o.push(d),a.boundSource[c]=d,a[c]=a.boundSource[c],a.dataItemById[d.$.id]=a[c]}return a._notify({action:"update",index:e,data:o}),void a.refreshHierarchy()}const i=a._getDataItem(n,e);return i.$.id=a.boundSource[e].$.id,a.boundSource[e]=i,a[e]=a.boundSource[e],a.dataItemById[i.$.id]=a[e],a._notify({action:"update",index:e,data:i}),a.refreshHierarchy(),i}insert(e,n){const a=this;if(n.length){const r=[];for(let o=0;o<n.length;o++){const s=a._getDataItem(n[o],e+o);r.push(s)}n=r}else n=a._getDataItem(n,e);const i=a.boundSource.splice(e,0,n);return a.refreshIndexes(),a._notify({action:"insert",index:e,data:n}),a.refreshHierarchy(),i}move(e,n){if(n>e&&n-e==1||e===n)return;const a=this,i=a.boundSource.splice(e,1)[0];n>e&&n--,a.boundSource.splice(n,0,i),a.refreshIndexes(),a._notify({action:"move",index:n,data:a.boundSource[n]}),a.refreshHierarchy()}indexOf(e){return this.boundSource.indexOf(e)}get length(){const e=this;return void 0!==e.virtualDataSourceLength?e.virtualDataSourceLength:e.dataSourceLength?e.dataSourceLength:"number"==typeof e.dataSource?e.dataSource:e.bindingCompleted?e.boundSource.length:e.dataSource&&"string"!=typeof e.dataSource&&e.dataSource.length?e.dataSource.length:e.boundSource.length}clear(){const e=this;if(!e.isInitialized)return e._cachedValues=[],void(e.dataItemById=[]);for(let n=0;n<e.boundSource.length;n++)delete e[n];e._expandedRowIds=[],e._cachedValues=[],e.boundSource=e.observable?new Smart.ObservableArray:[],e.dataItemById=[],e.refreshHierarchy()}_getId(e,n,a){if(null===e||void 0===e.name||!e.name||!n.getAttribute){if(e&&e.toString().length>0&&n.getAttribute){let i=n.getAttribute(e);if(null!==i&&i.toString().length>0)return i.trim().split(" ").join("").replace(/([ #;?%&,.+*~\':'!^$[\]()=>|\/@])/g,"");{let r=e.split(this.mapChar);if(r.length>1){let o=n;for(let s=0;s<r.length;s++)void 0!==o&&(o=o[r[s]]);if(void 0!==o)return o}else if(void 0!==n[e])return n[e]}}return a}{let i=n.getAttribute(e.name);if(null!==i&&i.toString().length>0)return i;if(e.map)try{let r=n.getAttribute(e.map);if(null!==r&&r.toString().length>0)return r}catch{return a}}}_buildHierarchy(){const e=this;if(e.reservedNames){const a=e.reservedNames;a.leaf||(a.leaf="leaf"),a.parent||(a.parent="parent"),a.expanded||(a.expanded="expanded"),a.checked||(a.checked="checked"),a.selected||(a.selected="selected"),a.level||(a.level="level"),a.data||(a.data="data")}else e.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};const n=e.reservedNames;if(e.childrenDataField){const a=[];for(let i=0;i<e.boundSource.length;i++){const r=JSON.parse(JSON.stringify(e.boundSource[i]));if(!r)continue;a.push(r);const o=function(d){const c=e.childrenDataField.split(e.mapChar);let u=null;if(c.length>1){let m=d;for(let h=0;h<c.length;h++)void 0!==m&&(m=m[c[h]]);u=m}else u=d.children;d.children=u,(null==d.children||d.children&&0===d.children.length)&&(d[n.leaf]=!0)};o(r),r[n.level]=0,r.$||(r.$={}),r[n.parent]=null,r[n.data]=r,void 0===r[n.expanded]&&(r[n.expanded]=!1,e.expandHierarchy&&(r[n.expanded]=!0));const s=function(d,c){if(c)for(let u=0;u<c.length;u++){let m=e._getDataItem(c[u],u);m&&(o(m),e.id||(m.$.id=function(){const y=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return y()+y()}()),m[n.level]=d[n.level]+1,m[n.parent]=d,m[n.data]=Object.assign({},m),d&&(d.children[u]=m),void 0===m[n.expanded]&&(m[n.expanded]=!1,e.expandHierarchy&&(m[n.expanded]=!0)),s(m,m.children))}else d.children=new Array};s(r,r.children)}if(e.boundHierarchy=a,!e._boundSourceUpdate){for(let i=0;i<e.boundHierarchy.length;i++){const r=e.boundHierarchy[i];if(r.children){const o=function(s){if(e.dataItemById[s.$.id]||(e.boundSource.canNotify=!1,e.dataItemById[s.$.id]=s,e.boundSource.canNotify=!0),s.children)for(let d=0;d<s.children.length;d++){const c=s.children[d];c.children&&o(c)}};o(r)}}e._boundSourceUpdate=!0}}if(e.xmlRoot&&"xml"===e.dataSourceType&&(e.boundHierarchy=this._getHierarchy("uid","_parentuid","children",null,e.boundSource)),e.keyDataField&&e.parentDataField)return["keyDataField","parentDataField"].forEach(a=>{"parent"===e[a]&&(e[a]="$"+e[a])}),void(e.boundHierarchy=this._getHierarchy(e.keyDataField,e.parentDataField,"children",null,e.boundSource));e.groupBy&&e.groupBy.length>0?e.boundHierarchy=this._getGroupHierarchy(e.groupBy,"children","label",null,"data",null,"parent",e.boundSource):e.virtualDataSourceOnExpand&&(e.boundHierarchy=this._getHierarchy("id","parentId","children",null,e.boundSource))}_getGroupHierarchy(e,n,a,i,r,o,s,d,c){let u=this;c||(c=0);let m=u.reservedNames;const h=function(){function I(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return I()+I()+"-"+I()+"-"+I()+"-"+I()+"-"+I()+I()+I()};let y=new Array;for(let I=0;I<e.length;I++)y[I]=h();n||(n="children"),a||(a="group"),r||(r="item"),s||(s="parent"),void 0===o&&(o="value");const _=new Array,C=new Array;let x=0;const E=function(I){let L=I;for(let k=0;k<e.length;k++)if(void 0===I[e[k]]){L=u._getDataItem(I,I.$.index);break}if(i)for(let k in i){const B=i[k];B.name&&B.map&&(L[B.map]=L[B.name])}return L};let A=!1;for(let I=0;I<d.length;I++){let L=Object.assign({},E(d[I]));L[m.leaf]=!1;let k=new Array,B=0;for(let U=0;U<e.length;U++){const J=e[U],q=L[J];null!=q?((""===q||void 0===q&&0===U)&&(A=!0),k[B++]={value:q,group:J,hash:y[U]}):(k[B++]={value:null,group:J,hash:y[U]},0===U&&(A=!0))}if(k.length!==e.length)break;let O=null,P="";for(let U=0;U<k.length;U++){const J=k[U].value,q=k[U].group;if(P=P+"_"+k[U].hash+"_"+J,null==C[P]){if(null===O){O={$:{}},O[m.level]=0,O[m.leaf]=!1,O[s]=null,O[a]=J,O[r]=L,O.groupDataField=q,O[q]||(O[q]=O.data[q]),void 0!==L[m.expanded]?O[m.expanded]=L[m.expanded]:(O[m.expanded]=!1,u.expandHierarchy&&(O[m.expanded]=!0)),o&&(O[o]=L[o]),O[n]=new Array;let G=_.length+c;this.id&&"number"!=typeof L.$.id&&!isFinite(L.$.id)||(G="Item"+G),void 0===O.$.id&&(O.$.id=G),u._expandedRowIds[O.$.id]&&(O[m.expanded]=!0),u.expandHierarchy&&u._collapsedIds&&u._collapsedIds[O.$.id]&&(O[m.expanded]=!1),_[x++]=O}else{const G={$:{}};G[m.level]=O[m.level]+1,G[s]=O,G[a]=J,G[n]=new Array,G[r]=L,G.groupDataField=q,G[m.leaf]=!1,G[q]||(G[q]=G.data[q]),void 0!==L[m.expanded]?G[m.expanded]=L[m.expanded]:(G[m.expanded]=!1,u.expandHierarchy&&(G[m.expanded]=!0)),o&&(G[o]=L[o]),void 0===G.$.id&&(G.$.id=O.$.id+"_"+O[n].length),u.expandHierarchy&&u._collapsedIds&&u._collapsedIds[G.$.id]&&(G[m.expanded]=!1),u._expandedRowIds[G.$.id]&&(G[m.expanded]=!0),O[n][O[n].length]=G,O=G}C[P]=O}else O=C[P]}L&&(L[m.leaf]=!0),null!==O?(null===this.id?void 0===L.$.id&&(L.$.id=O.$.id+"_"+O[n].length):void 0===L.$.id&&-1===L.$.id.toString().indexOf(O.$.id)&&(L.$.id=O.$.id+"_"+L.$.id),L[s]=O,L[m.level]=O[m.level]+1,O[n][O[n].length]=L):void 0===L.$.id&&(L.$.id=h())}if(A){let I=null,L=!1;for(let k=0;k<_.length;k++){const B=_[k];if(!B[B.groupDataField]){I=B,I.$.id.toString().startsWith("Item")&&(L=!0),_.splice(k,1);break}}if(I&&(_.push(I),L))for(let k=0;k<_.length;k++){const B=_[k];B.$.id="Item"+k,Object.keys(u._expandedRowIds).length>0&&(B[m.expanded]=!!u._expandedRowIds[B.$.id],u.expandHierarchy&&(B[m.expanded]=!0,u._collapsedIds&&u._collapsedIds[B.$.id]&&(B[m.expanded]=!1)))}}return _}_getHierarchy(e,n,a,i,r){const o=this,s=new Array;let d=this.boundSource;if(r&&(d=r),0===this.boundSource.length)return null;const c=null!==a?a:"children";let u=new Array,m=d,h=m.length,y=o.reservedNames;const _=function(C){let x=C;if(i)for(let E in i){const A=i[E];A.name&&A.map&&(x[A.map]=x[A.name])}return x};for(let C=0;C<h;C++){let x=m[C],E=x[n],A=x[e];"parentId"===n&&(E=x.$.parentId),"id"===e&&(A=x.$.id),null===A&&(A=x[e]=x.$.id),x[c]=new Array,o.expandHierarchy&&void 0===x[y.expanded]&&(x[y.expanded]=o.expandHierarchy),u[A]={parentId:E,item:x}}for(let C=0;C<h;C++){const x=m[C];let E=x[n],A=x[e];if("parentId"===n&&(E=x.$.parentId),"id"===e&&(A=x.$.id),void 0!==u[E]){let I={parentId:E,item:u[A].item},L=u[E].item;L[c]||(L[c]=new Array);let k=L[c].length;I=I.item,y?I[y.parent]=L:I.parent=L;const B=_(I);L[c][k]=B,u[E].item=L,u[A].item=I}else{let I=u[A].item;y?void 0===I[y.parent]&&(I[y.parent]=null):void 0===I.parent&&(I.parent=null);const L=_(I);y?L[y.level]=0:L.level=0,s[s.length]=L}}if(0!==s.length){let C=function(x,E){for(let A=0;A<E.length;A++){const I=E[A];y?I[y.level]=x:I.level=x;const L=I[c];L&&L.length>0?(I.leaf=!1,C(x+1,L)):o.virtualDataSourceOnExpand?void 0===I.leaf&&(I.leaf=!1):y?I[y.leaf]=!0:I.leaf=!0}};C(0,s)}return s}summarize(e,n){Array.isArray(e)||(e=[e]);let i=[];for(let c=0;c<e.length;c++){const u=e[c];for(let m in u)i.push({dataField:m,functions:u[m]})}e=i;let r={},o=new Array;n||(n=this.boundSource);let s=n.length,d=0;if(0!==s&&void 0!==s){for(let c=0;c<s;c++){let u=n[c];if((!u||!u.$||!1!==u.$.filtered)&&u){d++;for(let m=0;m<e.length;m++){const h=e[m];let y=u[h.dataField];if(void 0!==y&&"uncategorized"!==y||(y=""),h.functions&&h.functions.length>0){r[h.dataField]=r[h.dataField]||{},o[h.dataField]=o[h.dataField]||0,o[h.dataField]++;const _=function(E){for(let A in E){let I=r[h.dataField][A];null==I&&(r[h.dataField][A]=0,I=0),"function"==typeof E[A]&&(I=E[A](I,y,h.dataField,u)),r[h.dataField][A]=I}},C=y;let x=parseFloat(y);x=!isNaN(x),C&&C.toDate&&(x=!1),"string"==typeof y&&y.startsWith("+")&&(x=!1),x&&(y=parseFloat(y)),"number"==typeof y&&isFinite(y)?h.functions.forEach(function(E){let A=r[h.dataField][E];if(null==A&&(A=0,"min"===E&&(A=9999999999999),"max"===E&&(A=-9999999999999),"median"===E&&(A=[])),"sum"===E||"avg"===E||"stdev"===E||"stdevp"===E||"var"===E||"varp"===E)A+=parseFloat(y);else if("product"===E)0===c?A=parseFloat(y):A*=parseFloat(y);else if("min"===E)A=Math.min(A,parseFloat(y));else if("max"===E)A=Math.max(A,parseFloat(y));else if("count"===E)A++;else if("median"===E)A.push(parseFloat(y));else if("blank"===E)A=r[h.dataField][E],null==A&&(A=0),y||A++;else if("filled"===E)A=r[h.dataField][E],null==A&&(A=0),void 0!==y&&A++;else if("unique"===E)A=r[h.dataField][E],null==A&&(A=[]),-1===A.indexOf(y)&&A.push(y);else if("status"===E)A=r[h.dataField][E],null==A&&(A=[]),A[y]||(A[y]=[]),A[y].push(y);else if("object"==typeof E)return void _(E);r[h.dataField][E]=A}):h.functions.forEach(function(E){if("min"===E||"max"===E||"count"===E||"product"===E||"sum"===E||"avg"===E||"stdev"===E||"stdevp"===E||"var"===E||"varp"===E){if(null===y&&"count"!==E)return!0;let A=r[h.dataField][E];return null==A&&(A=0),r[h.dataField][E]=A,!0}if("blank"===E){let A=r[h.dataField][E];null==A&&(A=0),y||A++,r[h.dataField][E]=A}else if("filled"===E){let A=r[h.dataField][E];null==A&&(A=0),y&&A++,r[h.dataField][E]=A}else if("unique"===E){let A=r[h.dataField][E];null==A&&(A=[]),-1===A.indexOf(y)&&A.push(y),r[h.dataField][E]=A}else if("status"===E){let A=r[h.dataField][E];null==A&&(A=[]),A[y]||(A[y]=[]),A[y].push(y),r[h.dataField][E]=A}"object"==typeof E&&_(E)})}}}}for(let c=0;c<e.length;c++){const u=e[c];if(u.functions&&(!u.functions||0!==u.functions.length)){if(r[u.dataField]||(r[u.dataField]={},u.functions.forEach(function(m){r[u.dataField][m]=0})),void 0!==r[u.dataField].avg){const h=o[u.dataField];r[u.dataField].avg=0===h||void 0===h?0:r[u.dataField].avg/h}else void 0!==r[u.dataField].count&&(r[u.dataField].count=d);if(void 0!==r[u.dataField].unique&&(r[u.dataField].unique=r[u.dataField].unique.length),void 0!==r[u.dataField].status&&(r[u.dataField].status=r[u.dataField].status),void 0!==r[u.dataField].median){let m=r[u.dataField].median;m.sort(function(h,y){return h-y}),r[u.dataField].median=.5*(m[Math.floor((m.length+1)/2)-1]+m[Math.ceil((m.length+1)/2)-1])}(r[u.dataField].stdev||r[u.dataField].stdevp||r[u.dataField].var||r[u.dataField].varp)&&u.functions.forEach(function(m){if("stdev"===m||"var"===m||"varp"===m||"stdevp"===m){const y=s,_=r[u.dataField][m]/s;let C=0;for(let E=0;E<s;E++){let A=n[E][u.dataField];C+=(A-_)*(A-_)}let x="stdevp"===m||"varp"===m?y:y-1;0===x&&(x=1),"var"===m||"varp"===m?r[u.dataField][m]=C/x:"stdevp"!==m&&"stdev"!==m||(r[u.dataField][m]=Math.sqrt(C/x))}})}}return r}}_getDataItem(e,n){const a=this,i={};if(!e)return{$:{id:n,isEmpty:!0,index:n}};if("string"==typeof e&&(e={"":e}),"number"==typeof a.dataSource||a.dataSourceLength){for(let d=0;d<a.dataFields.length;d++)i[(a.dataFields?a.dataFields[d]:{}).name]="";return i.$={},i.$.id=n,i.$.index=n,i}const o=e;if(void 0!==o.expanded&&(i.expanded=o.expanded,i.expanded="true"===o.expanded||!0===o.expanded||1===o.expanded),a.childrenDataField?void 0!==o[a.childrenDataField]&&(i.children=o[a.childrenDataField]):void 0!==o.children?i.children=o.children:void 0!==o.items&&(i.children=o.items),void 0!==o.leaf&&(i.leaf=o.leaf),void 0!==o.level&&(i.level=o.level),a.keyDataField&&void 0!==o[a.keyDataField]&&(i[a.keyDataField]=o[a.keyDataField]),a.parentDataField&&void 0!==o[a.parentDataField]&&(i[a.parentDataField]=o[a.parentDataField]),0===a.dataFields.length){const d=Object.getOwnPropertyNames(e);for(let c=0;c<d.length;c++)"$"!==d[c]&&a.dataFields.push({name:d[c],dataType:"string"})}for(let d=0;d<a.dataFields.length;d++){const c=a.dataFields?a.dataFields[d]:{};let u="";if(null==c)continue;if(e.length&&(u=e[d]),c.map){let h=c.map.split(a.mapChar);if(h.length>0){let y=o;for(let _=0;_<h.length;_++)o&&y&&(y=y[h[_]]);u=y}else u=o[c.map]}null!=u?u=u.toString():void 0===u&&null!==u&&(u="");let m=!1;if(""===u&&(m=!0,u=e[c.name],void 0===c.dataType&&(c.dataType="any"),null!=u?"array"!==c.dataType&&("any"===c.dataType?u=Array.isArray(e[c.name])?[...e[c.name]]:"object"==typeof e[c.name]?Object.assign({},e[c.name]):e[c.name]:"date"!==c.dataType&&(u=u.toString())):u=void 0===u&&"any"===c.dataType?null:""),"[object Object]"===u&&c.map&&m&&(u=""),a._cachedValues[u+"_"+c.dataType])u=a._cachedValues[u+"_"+c.dataType];else{if("bool"===c.dataType||"boolean"===c.dataType)"true"===u||"1"===u?u=!0:"false"!==u&&"0"!==u||(u=!1);else if("number"===c.dataType)-1===u.indexOf(".")&&u.indexOf(",")>=0&&u.substring(1+u.indexOf(",")).length<3&&(u=u.replace(",",".")),u=a.$document.deserialize(""+u,c.dataType,!0);else if("date"===c.dataType){if(u&&"string"==typeof u&&u.indexOf("[")>=0){const h=JSON.parse(u);if(c.formatString&&Smart.Utilities.DateTime){const y=Smart.Utilities.DateTime.ParseDate(h[0],c.formatString),_=Smart.Utilities.DateTime.ParseDate(h[1],c.formatString);h[0]=y,h[1]=_}else{const y=a.$document.deserialize(""+h[0],c.dataType,!0),_=a.$document.deserialize(""+h[1],c.dataType,!0);h[0]=y,h[1]=_}u=h,i[c.name]=u;continue}u=c.formatString&&Smart.Utilities.DateTime?Smart.Utilities.DateTime.ParseDate(u,c.formatString):a.$document.deserialize(""+u,c.dataType,!0)}else"any"!==c.dataType&&(u="string"===c.dataType&&"null"===u?"null":a.$document.deserialize(""+u,c.dataType,!0));"any"!==c.dataType&&(a._cachedValues[u+"_"+c.dataType]=u)}"string"!==c.dataType&&"boolean"!==c.dataType&&"bool"!==c.dataType&&"any"!==c.dataType&&(isNaN(u)||u===-1/0||u===1/0)&&(u="date"===c.dataType||"number"===c.dataType?null:0),"parent"!==c.name&&"group"!==c.name&&"leaf"!==c.name&&"level"!==c.name?("string"===c.dataType&&/<.+?>/.test(u)&&u.replace&&("all"===a.sanitizeHTML?u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):"blackList"===a.sanitizeHTML&&(u=window.Smart.Utilities.Core.sanitizeHTML(u))),i[c.name]=u):i.$[c.name]=u}let s=n;if(a.id){if(s=o[a.id],void 0===s){const d=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};s=d()+d()}"object"==typeof s&&(s=n),o.$&&void 0!==o.$.id&&(s=o.$.id)}else if(!a.virtualDataSource&&a.dataItemById&&a.dataItemById[s])for(s=a.length;a.dataItemById[s];)s++;return i.$||(i.$={}),i.$.id=s,i.$.index=n,new Object(i)}_bindToArray(){const e=this,n="number"==typeof e.dataSource||e.dataSourceLength,a=[];e.boundSource.canNotify=!1;const i=n?"number"==typeof e.dataSource?e.dataSource:e.dataSource.length:e.observable?e.length:e.dataSource.length;for(let r=0;r<i;r++){const s=e._getDataItem(n?{}:e.dataSource[r],r);a.push(s)}if(n&&e.dataSourceLength&&e.dataSource.length>0)for(let r=0;r<e.dataSource.length;r++){const o=e.dataSource[r].cell,s=e.dataSource[r].value,d=o.replace(/[^0-9]/g,""),c=o.replace(/[0-9]/g,"");a[d-1][c]=s}e.boundSource=!1===e.observable||e.virtualDataSource?[]:new Smart.ObservableArray(a),e.observable&&(e.boundSource=new Smart.ObservableArray(a));for(let r=0;r<i;r++)e[r]=e.observable?e.boundSource[r]:a[r],e.dataItemById[e[r].$.id]=e[r];!1===e.observable&&(e.boundSource=a),e.boundSource.canNotify=!0}_bindToICS(){const e=this,n=""+e.dataSource,a=e.rowDelimiter||"\n",i=n.split("\r"),r=[];let o=n.split(a),s=o.length;1===s&&i.length>1&&(o=i,s=o.length);const d=function(m,h){var y=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(m);if(!y)throw new Error("Invalid UNTIL value: "+m);return h?new Date(y[1],y[2]-1,y[3],0,0,0,0):new Date(Date.UTC(y[1],y[2]-1,y[3],y[5]||0,y[6]||0,y[7]||0))};for(let m=0;m<s;m++){const h=o[m].trim();if(h.indexOf("BEGIN:VEVENT")>=0)var c={};else if(c)if(h.indexOf("BEGIN:VALARM")>=0)var u={};else{if(u){if(h.indexOf("ACTION")>=0){u.ACTION=h.substring(h.indexOf("ACTION")+7);continue}if(h.indexOf("DESCRIPTION")>=0){u.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);continue}if(h.indexOf("TRIGGER")>=0){u.TRIGGER=h.substring(h.indexOf("TRIGGER")+8);continue}if(h.indexOf("END:VALARM")>=0){c.ALARM||(c.ALARM=[]),c.ALARM.push(u),u=void 0;continue}}if(h.indexOf("SUMMARY")>=0)c.SUMMARY=h.substring(h.indexOf("SUMMARY")+8);else if(h.indexOf("LOCATION")>=0)c.LOCATION=h.substring(h.indexOf("LOCATION")+9);else if(h.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);else if(h.indexOf("RRULE")>=0)c.RRULE=h.substring(h.indexOf("RRULE")+6);else if(h.indexOf("RECURRENCE-ID")>=0)c.RECURRENCEID=h.substring(h.indexOf("RECURRENCE-ID")+14);else if(h.indexOf("RECURRENCE-ID;VALUE=DATE")>=0)c.RECURRENCEID=h.substring(h.indexOf("RECURRENCE-ID;VALUE=DATE")+25);else if(h.indexOf("EXDATE;VALUE=DATE")>=0){const y=h.substring(h.indexOf("EXDATE;VALUE=DATE")+20);c.EXDATE=y}else if(h.indexOf("EXDATE")>=0){const y=h.substring(h.indexOf("EXDATE")+7);c.EXDATE=y}else h.indexOf("DTEND;VALUE=DATE")>=0?c.DTEND=d(h.substring(h.indexOf("DTEND;VALUE=DATE")+17),!0):h.indexOf("DTEND")>=0?c.DTEND=d(h.substring(h.indexOf("DTEND")+6)):h.indexOf("DTSTART;VALUE=DATE")>=0?c.DTSTART=d(h.substring(h.indexOf("DTSTART;VALUE=DATE")+19),!0):h.indexOf("DTSTART")>=0?c.DTSTART=d(h.substring(h.indexOf("DTSTART")+8)):h.indexOf("UID")>=0?c.uid=c.UID=h.substring(h.indexOf("UID")+4):h.indexOf("STATUS")>=0?c.STATUS=h.substring(h.indexOf("STATUS")+7):h.indexOf("TITLE")>=0?c.TITLE=h.substring(h.indexOf("TITLE")+6):h.indexOf("CATEGORIES")>=0?c.CATEGORIES=h.substring(h.indexOf("CATEGORIES")+11):h.indexOf("END:VEVENT")>=0&&(r.push(c),c.ALARM&&(c.ALARM=JSON.stringify(c.ALARM)),u=void 0)}}e.canNotify=!1,e.dataSource=r,e.canNotify=!0,e._bindToArray()}_bindToJSON(){const e=this,n=[],a=e.dataSource.length?e.dataSource:Object.entries(e.dataSource);e.boundSource.canNotify=!1;for(let i=0;i<a.length;i++){const o=e._getDataItem(a[i],i);n.push(o)}e.boundSource=!1===e.observable||e.virtualDataSource?[]:new Smart.ObservableArray(n);for(let i=0;i<e.length;i++)e[i]=e.boundSource[i],e.dataItemById[e[i].$.id]=e[i];!1===e.observable&&(e.boundSource=n),e.boundSource.canNotify=!0}sortBy(e,n,a){const i=this;if(!n)for(let r=0;r<i.dataFields.length;r++){const o=i.dataFields[r];if(o.name===e){n=o.dataType;break}}if(i.boundHierarchy){if((!e||0===e.length)&&i.groupBy.length>0)return void i.refreshHierarchy();const r=(s=>{let d=[];for(;s;){d=d.concat(s);for(let c=0;c<s.length;c++)s[c].children&&(d=d.concat(s[c].children));s=s.children}return d})(i.boundHierarchy);r&&r.find(s=>{if(s.summaryRow)return s})&&i.refreshHierarchy();const o=function(s){i._sort(s,e,a,n);for(let d=0;d<s.length;d++){const c=s[d];c.children&&o(c.children,e,a,n)}};o(i.boundHierarchy)}else i._sort(i.boundSource,e,a,n)}_createFilter(e,n){const a={"=":"EQUAL","<>":"NOT_EQUAL","!=":"NOT_EQUAL",not_like:"DOES_NOT_CONTAIN",like:"CONTAINS","<":"LESS_THAN",">":"GREATER_THAN","<=":"LESS_THAN_OR_EQUAL",">=":"GREATER_THAN_OR_EQUAL",equal:"EQUAL","not equal":"NOT_EQUAL","less than":"LESS_THAN","greater than":"GREATER_THAN","greater than or equal":"GREATER_THAN_OR_EQUAL","less than or equal":"LESS_THAN_OR_EQUAL","starts with":"STARTS_WITH","ends with":"ENDS_WITH",notEqual:"NOT_EQUAL",not_equal:"NOT_EQUAL",lessThan:"LESS_THAN",greaterThan:"GREATER_THAN",greaterThanOrEqual:"GREATER_THAN_OR_EQUAL",lessThanOrEqual:"LESS_THAN_OR_EQUAL",less_than:"LESS_THAN",greater_than:"GREATER_THAN",greater_than_or_equal:"GREATER_THAN_OR_EQUAL",less_than_or_equal:"LESS_THAN_OR_EQUAL",null:"null","":"EMPTY",isblank:"EMPTY",isnotblank:"NOT_EMPTY",isBlank:"EMPTY",isNotBlank:"NOT_EMPTY",CONTAINS:"CONTAINS",DOES_NOT_CONTAIN:"DOES_NOT_CONTAIN",contains:"CONTAINS",does_not_contain:"DOES_NOT_CONTAIN","not contains":"DOES_NOT_CONTAIN",notcontains:"DOES_NOT_CONTAIN",notContains:"DOES_NOT_CONTAIN",startswith:"STARTS_WITH",endswith:"ENDS_WITH",starts_with:"STARTS_WITH",ends_with:"ENDS_WITH",startsWith:"STARTS_WITH",endsWith:"ENDS_WITH",NULL:"NULL",NOT_NULL:"NOT_NULL"};let i=[];"string"==typeof n&&(n=[n]);for(let c=0;c<n.length;c++){const u=n[c],m=-1===u.indexOf('"')?u.split(" "):u.split('"');let h=[];for(let y=0;y<m.length;y++){const _=m[y];""!==_&&" "!==_&&h.push(_.trim())}i.push(h)}const r=new Smart.FilterGroup,o=[],s=[];for(let c=0;c<i.length;c++){const u=i[c];if(u.length>1){const m=new Smart.FilterGroup;let h=u.length>2?"":"and",y=0,_=[];for(let C=0;C<u.length;C++){let x=u[C];if("and"!==x&&"or"!==x){if(y++,2===y){let E=a[u[C-1]];E||(E=u[C-1]),"number"===e&&(x=parseFloat(x)),"date"===e&&(x=new Date(x));const A=m.createFilter(e,x,E);if(y=0,_.push(A),h){for(let I=0;I<_.length;I++)m.addFilter(h,_[I]);_=[]}}}else h=x}s.push(m)}else{let m=u[0];if(m&&a[m]&&(m="and"),"and"!==m&&"or"!==m)throw new Error('Filter Exprresion expects "AND" or "OR", but the token is: '+m);o.push(m)}}let d=0;if(1===s.length)return s[0];for(let c=0;c<s.length;c++){let u=o[d];(c+1)%2==0&&d++,u||(u="and"),r.addFilter(u,s[c])}return r}filterBy(e,...n){const a=this,i=(()=>{for(let o=0;o<a.dataFields.length;o++){const s=a.dataFields[o];if(s.name===e)return s.dataType}})(),r=a._createFilter(i,n);return a.boundSource.filter(o=>r.evaluate(o[e]))}_filter(e,n="and"){const a=this,i=[],r=[];if(0===e.length)return void a.clearFilter();const o=c=>{for(let u=0;u<a.dataFields.length;u++){const m=a.dataFields[u];if(m.name===c)return m.dataType}};let s,d;"and"===n?(s=!0,d=function(c,u,m){return c&&u.evaluate(m[u.dataField])}):(s=!1,d=function(c,u,m){return c||u.evaluate(m[u.dataField])});for(let c=0;c<e.length;c++){const u=e[c],m=u[0];let h=null;h=u[1]instanceof Smart.FilterGroup?u[1]:a._createFilter(o(m),u.splice(1)),h&&(r.push(m),h.dataField=m,i.push(h))}if(a.boundHierarchy){const c=function(m){let h=s;for(let y=0;y<i.length;y++)h=d(h,i[y],m);return m.$.filtered=h,h},u=function(m,h,y){let _=0;for(let C=0;C<m.length;C++){const x=m[C];c(x),x.$.filtered&&_++,x.children&&u(x.children,x,h)}_>0&&a.groupBy.length>0&&h?(h.$.filtered=!0,y&&!y.$.filtered&&(y.$.filtered=!0)):_>0&&_!==m.length&&h?(h.$.filtered=null,y&&!y.$.filtered&&(y.$.filtered=null)):_>0&&_===m.length&&h&&(h.$.filtered=!0,y&&!y.$.filtered&&(y.$.filtered=!0))};u(a.boundHierarchy,null,null)}else for(let c=0;c<a.boundSource.length;c++){const u=a.boundSource[c];let m=s;for(let h=0;h<i.length;h++)m=d(m,i[h],u);u.$.filtered=m}a.onFilter&&a.onFilter()}clearGroup(){const e=this;e.groupBy=[],e.boundHierarchy=null,e.refreshHierarchy(),e.onGroup&&e.onGroup()}clearFilter(){const e=this;for(let n=0;n<e.boundSource.length;n++)e.boundSource[n].$.filtered=!0;if(e.boundHierarchy){const n=function(a,i,r){for(let o=0;o<a.length;o++){const s=a[o];s.$.filtered=!0,s.children&&n(s.children,s,i)}i&&(i.$.filtered=!0,r&&!r.$.filtered&&(r.$.filtered=!0))};n(e.boundHierarchy,null,null)}e.onFilter&&e.onFilter()}clearSort(){this._sort(this.boundSource,[],[],[])}_sort(e,n,a,i,r,o){const s=this;let d=!1;if(0===e.length)return;if(e&&e.constructor&&e instanceof Smart.ObservableArray&&(d=!0),(!e||!Array.isArray(e)||0===e.length||!n||Array.isArray(n)&&0===n.length)&&!d&&!s.boundHierarchy){if(s.virtualDataSource)return;throw new Error("sort: Missing or Invalid arguments!")}"string"==typeof n&&(n=[n]);const c=[],u=[];void 0===a&&(a=[]);const m=function(h,y){let _;switch(y||typeof h){case"string":_=(new Intl.Collator).compare;break;case"number":case"int":case"bigInt":case"float":case"double":_=function(C,x){return C-x};break;case"boolean":case"bool":_=function(C,x){return C===x?0:!1===C?-1:1};break;case"date":case"time":case"dateTime":_=h instanceof Date?function(C,x){return C||x?C?x?C.getTime()-x.getTime():1:-1:0}:h instanceof Smart.Utilities.DateTime||h instanceof Smart.Utilities.BigNumber?function(C,x){return C.compare(x)}:function(C,x){return C-x};break;case"object":if(h instanceof Date)_=function(C,x){return C||x?C?x?C.getTime()-x.getTime():1:-1:0};else if(h instanceof Smart.Utilities.DateTime||h instanceof Smart.Utilities.BigNumber)_=function(C,x){return C.compare(x)};else if(h instanceof Smart.Utilities.Complex||window.NIComplex&&h instanceof window.NIComplex){const C=new Smart.Utilities.ComplexNumericProcessor;_=function(x,E){return C.compareComplexNumbers(x,E)}}}return _};for(let h=0;h<n.length;h++){c[h]=void 0===a[h]||"asc"===a[h]||"ascending"===a[h]?1:-1;let y=e[0][n[h]];if(void 0===y&&e[0]&&e[0].children&&e[0].data&&(y=e[0].data[n[h]]),o&&o){const _=n[h];if(o[_]){u[h]=o[_];continue}}u[h]=s.sortComparators&&s.sortComparators[n[h]]?s.sortComparators[n[h]]:m(y,i[h])}n.length>0&&r?r(e,n,a,u):e.sort(function(h,y){for(let _=0;_<n.length;_++){const C=u[_](h[n[_]],y[n[_]]);if(0===C){if(n[_+1])continue;return void 0!==h.$.index?(h.$.index-y.$.index)*c[_]:0}return C*c[_]}if(0===n.length)return h.$.index<y.$.index?-1:h.$.index>y.$.index?1:0});for(let h=0;h<e.length;h++)s[h]=e[h]}static Filter(e,n,a,i,r="and"){let o,s;return"and"===r?(o=!0,s=function(d,c,u,m){return i?d&&i(c,u,m):d&&m.evaluate(c[u])}):(o=!1,s=function(d,c,u,m){return i?d||i(c,u,m):d||m.evaluate(c[u])}),e.filter(d=>{let c=o;for(let u=0;u<a.length;u++)c=s(c,d,n[u],a[u]);return c})}filter(e,n,a){Smart.DataAdapter.Filter(this.boundSource,e,n,a)}sort(e,n,a){Smart.DataAdapter.Sort(this.boundSource,e,n,a)}static Sort(e,n,a,i){const r=function(c){let u;switch(typeof c){case"string":if(c.indexOf("-")>=0||c.indexOf("/")>=0){const m=new Date(c);if(m&&"Invalid Date"!==m.toString())return function(h,y){const _=new Date(h),C=new Date(y);return _||C?_?C?_.getTime()-C.getTime():1:-1:0}}u=(new Intl.Collator).compare;break;case"number":u=function(m,h){return m-h};break;case"boolean":u=function(m,h){return m===h?0:!1===m?-1:1};break;case"object":if(c instanceof Date)u=function(m,h){return m||h?m?h?m.getTime()-h.getTime():1:-1:0};else if(c instanceof Smart.Utilities.DateTime||c instanceof Smart.Utilities.BigNumber)u=function(m,h){return m.compare(h)};else if(c instanceof Smart.Utilities.Complex||window.NIComplex&&c instanceof window.NIComplex){const m=new Smart.Utilities.ComplexNumericProcessor;u=function(h,y){return m.compareComplexNumbers(h,y)}}else u=function(m,h){return m-h}}return u};if(!e||!Array.isArray(e)||0===e.length||!n||Array.isArray(n)&&0===n.length)return;"string"==typeof n&&(n=[n]);const o=[],s=[];void 0===a&&(a=[]);for(let c=0;c<n.length;c++)o[c]=void 0===a[c]||"asc"===a[c]||"ascending"===a[c]?1:-1,s[c]=r(e[0][n[c]]);if(i)return void i(e,n,a,s);const d=e.slice(0);return d.sort(function(c,u){for(let m=0;m<n.length;m++){const h=s[m](c[n[m]],u[n[m]]);if(0===h){if(n[m+1])continue;return void 0!==c._index?(c._index-u._index)*o[m]:0}return h*o[m]}}),d}};class t{constructor(n,a){const i=this;i.config=n,i.callback=a,!1!==n.autoFetch&&i.call(n)}call(n){const a=this;n||(n=a.config);let i="GET",r=n.url,o=null,s=!0;if(n.type&&(i=n.type),n.data)if("GET"===i){r+="?";for(let d in n.data)Object.prototype.hasOwnProperty.call(n.data,d)&&(r+=encodeURI(d+"="+n.data[d]+"&"));"&"===r.charAt(r.length-1)&&(r=r.slice(0,r.length-1))}else"POST"===i&&(o=JSON.stringify(n.data));n&&!1===n.async&&"xlsx"!==n.dataSourceType&&(s=!1),void 0!==window.fetch&&s?a.ajaxFetch(n,i,r,o):a.ajaxXMLHttpRequest(n,i,r,o,s)}ajaxFetch(n,a,i,r){const o=this,s={method:a};let d,c,u,m;switch(n.dataSourceType){case"json":d="json";break;case"xlsx":d="arrayBuffer";break;default:d="text"}n&&n.contentType&&(s.headers=new Headers({"Content-Type":n.contentType})),null!==r&&(s.body=r),n.timeout&&(u=setTimeout(function(){m=!0},n.timeout)),(!n.beforeSend||!1!==n.beforeSend(s,n))&&fetch(i,s).then(function(h){if(m)throw c=408,new Error("timeout");if(u&&clearTimeout(u),c=h.status,!h.ok)throw new Error(h.statusText);return h[d]()}).then(function(h){if("arrayBuffer"===d)return JSZip.loadAsync(h).then(function(y){return y.files["xl/worksheets/sheet1.xml"].async("text").then(function(_){return y.files["xl/sharedStrings.xml"].async("text").then(function(C){const x=o.parseXLSXData(_,C);o.ajaxComplete(n,x,c)})})});o.ajaxComplete(n,h,c)}).catch(function(h){"JSZip is not defined"===h.message&&(h.message="JSZip is not defined. Please include a reference to JSZip to be able to load data from XLSX files."),n&&n.loadError&&n.loadError(c,h),o.callback&&o.callback(h,c)})}ajaxXMLHttpRequest(n,a,i,r,o){const s=new XMLHttpRequest,d=this;s.open(a,i,o),s.ontimeout=function(){n&&n.loadError&&n.loadError(408,"timeout")},s.onload=function(){if(4===s.readyState){const c=s.status;let u=s.response;c>=200&&c<=299?("json"===n.dataSourceType&&(u=JSON.parse(u)),d.ajaxComplete(n,u,c)):n&&n.loadError&&n.loadError(c,u)}},s.onerror=function(){n&&n.loadError&&n.loadError(s.status,s.response)},n&&n.contentType&&s.setRequestHeader("Content-Type",n.contentType),o&&n.timeout&&(s.timeout=n.timeout),(!n.beforeSend||!1!==n.beforeSend(s,n))&&s.send(r)}ajaxComplete(n,a,i){if(n){if(n.beforeLoadComplete){const r=n.beforeLoadComplete(a);r&&(a=r)}n.loadComplete&&n.loadComplete(a,i),this.callback&&this.callback(a,i)}}parseXLSXData(n,a){const i=new DOMParser,r=i.parseFromString(a,"text/xml"),o=Array.from(r.getElementsByTagName("si")),s=[],d=i.parseFromString(n,"text/xml"),c=Array.from(d.getElementsByTagName("row")),u=[];return o.forEach(function(m){let h=m.getElementsByTagName("t");if(1===h.length)s.push(h[0].innerHTML);else{let y="";h=Array.from(h),h.forEach(function(_){y+=_.innerHTML}),s.push(y)}}),c.forEach(function(m){const h={};Array.from(m.getElementsByTagName("c")).forEach(function(y){const _=y.getAttribute("r").match(/\D+/)[0],C=y.getAttribute("t"),x=y.getElementsByTagName("v")[0].innerHTML;let E;switch(C){case"s":E=s[parseFloat(x)];break;case"b":E=1===parseFloat(x);break;default:E=parseFloat(x)}h[_]=E}),u.push(h)}),u}}Smart.Ajax=window.Ajax=t})()},3607:()=>{(()=>{const t=-1*(new Date).getTimezoneOffset(),e=[{id:"Local",offset:t,offsetHours:t/60,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],n=[0,31,59,90,120,151,181,212,243,273,304,334,365],a=[0,31,60,91,121,152,182,213,244,274,305,335,366];Smart.Utilities.Assign("TimeSpan",class{constructor(){const i=this;if(i.ticksPerMillisecond=1e4,i.millisecondsPerTick=1e-4,i.ticksPerSecond=1e7,i.secondsPerTick=1e-7,i.ticksPerMinute=6e8,i.minutesPerTick=1/6e8,i.ticksPerHour=36e9,i.hoursPerTick=1/36e9,i.ticksPerDay=864e9,i.daysPerTick=1/864e9,i.millisPerSecond=1e3,i.millisPerMinute=6e4,i.millisPerHour=36e5,i.millisPerDay=864e5,i._ticks=0,1===arguments.length){if(isNaN(arguments[0]))throw new Error("Argument must be a number.");i._ticks=arguments[0]}else 3===arguments.length?i._ticks=i.timeToMS(arguments[0],arguments[1],arguments[2],0):4===arguments.length?i._ticks=(1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+0)*i.ticksPerMillisecond:5===arguments.length&&(i._ticks=(1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+arguments[4])*i.ticksPerMillisecond)}ticks(){return this._ticks}days(){return parseInt(this._ticks/this.ticksPerDay)}timeToMS(i,r,o,s){return parseInt((3600*i+60*r+o+s/1e3)*this.ticksPerSecond)}hours(){return parseInt(this._ticks/this.ticksPerHour)%24}milliseconds(){return parseInt(this._ticks/this.ticksPerMillisecond)%1e3}minutes(){return parseInt(this._ticks/this.ticksPerMinute)%60}seconds(){return parseInt(this._ticks/this.ticksPerSecond)%60}totalDays(){return parseInt(this._ticks*this.daysPerTick)}totalHours(){return parseInt(this._ticks*this.hoursPerTick)}totalMilliseconds(){return parseInt(this._ticks*this.millisecondsPerTick)}totalMinutes(){return parseInt(this._ticks*this.minutesPerTick)}totalSeconds(){return parseInt(this._ticks*this.secondsPerTick)}add(i){return new Smart.Utilities.TimeSpan(this._ticks+i._ticks)}subtract(i){return new Smart.Utilities.TimeSpan(this._ticks-i._ticks)}duration(){const i=this;return i._ticks>=0?new Smart.Utilities.TimeSpan(i._ticks):new Smart.Utilities.TimeSpan(-i._ticks)}equals(i){return this._ticks===i._ticks}valueOf(){return this._ticks}compare(i,r){return i._ticks>r._ticks?1:i._ticks<r._ticks?-1:0}interval(i,r){return new Smart.Utilities.TimeSpan((i*r+(i>=0?.5:-.5))*this.ticksPerMillisecond)}fromDays(i){return this.interval(i,this.millisPerDay)}fromHours(i){return this.interval(i,this.millisPerHour)}fromMilliseconds(i){return this.interval(i,1)}fromMinutes(i){return this.interval(i,this.millisPerMinute)}fromSeconds(i){return this.interval(i,this.millisPerSecond)}fromTicks(i){return new Smart.Utilities.TimeSpan(i)}toString(){return this.totalMilliseconds().toString()}negate(){return new Smart.Utilities.TimeSpan(-this._ticks)}}),Smart.Utilities.Assign("DateTime",class{constructor(){function i(s){const d=r.regexISOString.exec(s);o=new Smart.Utilities.DateTime(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]),parseFloat(d[4]),parseFloat(d[5]),parseFloat(d[6]),parseFloat(d[7]),0,0,0,0,0,0,0,"UTC")}const r=this;let o;if(r.ticksPerMillisecond=1e4,r.millisecondsPerTick=1e-4,r.ticksPerSecond=1e7,r.secondsPerTick=1e-7,r.ticksPerMinute=6e8,r.minutesPerTick=1/6e8,r.ticksPerHour=36e9,r.hoursPerTick=1/36e9,r.ticksPerDay=864e9,r.daysPerTick=1/864e9,r.millisPerSecond=1e3,r.millisPerMinute=6e4,r.millisPerHour=36e5,r.millisPerDay=864e5,r.daysPerYear=365,r.daysPer4Years=1461,r.daysPer100Years=36524,r.daysPer400Years=146097,r.daysTo1601=584388,r.daysTo1899=693593,r.daysTo10000=3652059,r.minTicks=0,r.maxTicks=3155378976e9,r.maxMillis=3155378976e5,r.datePartYear=0,r.datePartDayOfYear=1,r.datePartMonth=2,r.datePartDay=3,r.daysToMonth365=n,r.daysToMonth366=a,r.minValue=new Date(0),r.maxValue=new Date(3155378976e9),r.ticksMask=0x4000000000000000,r.flagsMask=0xc000000000000000,r.localMask=0x8000000000000000,r.ticksCeiling=0x4000000000000000,r.kindUnspecified=0,r.kindUtc=0x4000000000000000,r.kindLocal=0x8000000000000000,r.kindLocalAmbiguousDst=0xc000000000000000,r.kindShift=62,r.regexTrim=/^\s+|\s+$/g,r.regexInfinity=/^[+-]?infinity$/i,r.regexHex=/^0x[a-f0-9]+$/i,r.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,r.regexISOString=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/,r.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",FP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",FPA:"yyyy/MM/dd HH:mm:ss:fffuunnppeeaaxxoo",FPA2:"yyyy-MM-dd HH:mm:ss:fffuunnppeeaaxxoo",FT:"HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",PP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp",PT:"HH:mm:ss:fff:uu:nn:pp"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},r.dateData=0,r.timeZone=null,r.timeZones=e,r._codeToUnit={u:"_microsecond",uu:"_microsecond",n:"_nanosecond",nn:"_nanosecond",p:"_picosecond",pp:"_picosecond",e:"_femtosecond",ee:"_femtosecond",a:"_attosecond",aa:"_attosecond",x:"_zeptosecond",xx:"_zeptosecond",o:"_yoctosecond",oo:"_yoctosecond"},r._smallUnits=["_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"],r._microsecond=0,r._nanosecond=0,r._picosecond=0,r._femtosecond=0,r._attosecond=0,r._zeptosecond=0,r._yoctosecond=0,0===arguments.length){const s=new Date;r.dateData=r.dateToMS(s.getFullYear(),s.getMonth()+1,s.getDate())+r.timeToMS(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}else if(1===arguments.length)if(void 0===arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!=typeof arguments[0])if("number"==typeof arguments[0])r.dateData=arguments[0];else if(arguments[0]instanceof Date){const s=arguments[0];r.dateData=r.dateToMS(s.getFullYear(),s.getMonth()+1,s.getDate())+r.timeToMS(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}else r.dateData=arguments[0];else{let s;"today"===arguments[0]?s=new Date:"todayDate"===arguments[0]?(s=new Date,s.setHours(0,0,0,0)):r.regexISOString.test(arguments[0])?i(arguments[0]):s=r.tryparseDate(arguments[0]),s&&(r.dateData=r.dateToMS(s.getFullYear(),s.getMonth()+1,s.getDate())+r.timeToMS(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()))}else if(2===arguments.length){if(void 0===arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!=typeof arguments[0])if("number"==typeof arguments[0])r.dateData=arguments[0];else if(arguments[0]instanceof Date){const s=arguments[0];r.dateData=r.dateToMS(s.getFullYear(),s.getMonth()+1,s.getDate())+r.timeToMS(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}else r.dateData=arguments[0];else{let s;"today"===arguments[0]?s=new Date:"todayDate"===arguments[0]?(s=new Date,s.setHours(0,0,0,0)):r.regexISOString.test(arguments[0])?i(arguments[0]):s=r.tryparseDate(arguments[0]),s&&(r.dateData=r.dateToMS(s.getFullYear(),s.getMonth()+1,s.getDate())+r.timeToMS(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()))}r.validateTimeZone(arguments[1])}else if(arguments.length>2)if("string"==typeof arguments[0]){const s=r.tryparseDate(arguments[0],arguments[2],arguments[1]);r.dateData=r.dateToMS(s.getFullYear(),s.getMonth()+1,s.getDate())+r.timeToMS(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}else{const s=arguments[0],d=arguments[7]||0,c=arguments[8]||0,u=arguments[9]||0,m=arguments[10]||0,h=arguments[11]||0,y=arguments[12]||0,_=arguments[13]||0,C=new Date(s,arguments[1]-1,arguments[2],arguments[3]||0,arguments[4]||0,arguments[5]||0,arguments[6]||0);s<1970&&C.setFullYear(s),r.dateData=r.dateToMS(C.getFullYear(),C.getMonth()+1,C.getDate())+r.timeToMS(C.getHours(),C.getMinutes(),C.getSeconds(),C.getMilliseconds()),r._microsecond=d,r._nanosecond=c,r._picosecond=u,r._femtosecond=m,r._attosecond=h,r._zeptosecond=y,r._yoctosecond=_,arguments[14]&&r.validateTimeZone(arguments[14])}if(r.timeZone||r.validateTimeZone("Local"),o){const s=o.toTimeZone(r.timeZone);r.dateData=s.dateData}}static isValidDate(i){const r=this.validateDate(i);return!(!r||r&&!r.dateData)}static validateDate(i,r,o){if(i instanceof Smart.Utilities.DateTime)return i;if(i instanceof Date)return new Smart.Utilities.DateTime(i);try{if("string"==typeof i&&o)return this.parseDateString(i,r,o);if(new RegExp(/^\d{1,2}\/\d{1,2}\/\d{4}(, \d{1,2}:\d{2}:\d{1,2} [A|P]M)?$/).test(i)){const s=new Date(i);if(!isNaN(s.getTime()))return new Smart.Utilities.DateTime(s)}if("string"==typeof i)return this.parseDateString(i,r,o);if("number"==typeof i)return new Smart.Utilities.DateTime(new Date(i))}catch{}return r}static parseDateString(i,r,o){const s=new Date(i);if(!isNaN(s.getTime()))return i&&"string"==typeof i&&o?new Smart.Utilities.DateTime(i,o,null):new Smart.Utilities.DateTime(s);const d=i.indexOf("Date("),c=i.indexOf("DateTime("),u=i.lastIndexOf(")");let m=i;if(-1===d&&-1===c||-1===u){const h=new Smart.Utilities.DateTime,y=h.parseDate(i,o);if(y)return m=new Smart.Utilities.DateTime(y),h.copySmallTimePartValues(m),m}else{if(m=i.slice(-1!==d?d+5:c+9,u),m=m.replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),""===m.trim())return new Smart.Utilities.DateTime;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+(\s*,\s*[a-zA-Z ]+)?$)/g).test(m))return m=m.split(","),m.map(function(h,y){m[y]=isNaN(m[y])?h.trim():parseInt(h)}),-1!==d&&m[1]++,m.unshift(null),m=new(Function.prototype.bind.apply(Smart.Utilities.DateTime,m)),m}if(""===m.trim())return r;if(!isNaN(m))return m=new Date(parseInt(m,10)),new Smart.Utilities.DateTime(m);try{const h=m.split(",");2===h.length?(h[1]=h[1].trim(),h.unshift(null),m=new(Function.prototype.bind.apply(Smart.Utilities.DateTime,h))):m=new Smart.Utilities.DateTime(m)}catch{m=r}return m}static fromFullTimeStamp(i){i=i.toString();const r=new Smart.Utilities.DateTime(parseFloat(i.slice(0,i.length-21)));let o=i.slice(i.length-21),s=0;for(;o.length>0;)r[r._smallUnits[s]]=parseInt(o.slice(0,3),10),o=o.slice(3),s++;return r}static getConstructorParameters(i){return[i.year(),i.month(),i.day(),i.hour(),i.minute(),i.second(),i.millisecond(),i._microsecond,i._nanosecond,i._picosecond,i._femtosecond,i._attosecond,i._zeptosecond,i._yoctosecond,i.timeZone]}static detectDisplayMode(i,r,o){if(i.calendar.patterns[r])return-1!==["d","D","M","Y","d1","d2"].indexOf(r)?"calendar":-1!==["t","T","FT","PT"].indexOf(r)?"timePicker":"default";const s=["d","M","y"],d=["h","H","m","s","t","f","u","n","p","e","a","x","o"],c=o.groups;let u=!1,m=!1;for(let h=0;h<c.length;h++){const y=c[h].charAt(0);if(-1!==s.indexOf(y)?u=!0:-1!==d.indexOf(y)&&(m=!0),u&&m)break}return u===m?"default":u?"calendar":"timePicker"}static getLocalizedNames(i){const r={names:[],namesAbbr:[],namesShort:[]},o={names:[],namesAbbr:[]};if(this[i])return this[i];for(let s=23;s<30;s++){const d=new Date(2017,6,s),c=d.toLocaleString(i,{weekday:"long"});r.names.push(c),r.namesAbbr.push(d.toLocaleString(i,{weekday:"short"})),r.namesShort.push(c.substring(0,2))}for(let s=0;s<12;s++){const d=new Date(2017,s,1).toLocaleString(i,{month:"long"});o.names.push(d),o.namesAbbr.push(d.substring(0,3))}return o.names.push(""),o.namesAbbr.push(""),this[i]={days:r,months:o},this[i]}internalMS(){return this.dateData}getDatePart(i){const r=this,o=r.internalMS();let s=parseInt(o/r.millisPerDay);const d=parseInt(s/r.daysPer400Years);s-=d*r.daysPer400Years;let c=parseInt(s/r.daysPer100Years);4===c&&(c=3),s-=c*r.daysPer100Years;const u=parseInt(s/r.daysPer4Years);s-=u*r.daysPer4Years;let m=parseInt(s/r.daysPerYear);if(4===m&&(m=3),i===r.datePartYear)return parseInt(400*d+100*c+4*u+m+1);if(s-=m*r.daysPerYear,i===r.datePartDayOfYear)return parseInt(s+1);const h=3!==m||24===u&&3!==c?r.daysToMonth365:r.daysToMonth366;let y=s>>6;for(;s>=h[y];)y++;return i===r.datePartMonth?parseInt(y):parseInt(s-h[y-1]+1)}dayOfWeek(){return parseInt(this.dateData/this.millisPerDay+1)%7}dayOfYear(){return this.getDatePart(this.datePartDayOfYear)}weekOfYear(i){const r=this.toDate(),o=i||this.calendar.firstDay,s=new Date(r.getFullYear(),0,1),d=Math.floor((r.getTime()-s.getTime()-6e4*(r.getTimezoneOffset()-s.getTimezoneOffset()))/864e5)+1;let c,u=s.getDay()-o;if(u=u>=0?u:u+7,u<4){if(c=Math.floor((d+u-1)/7)+1,c>52){let m=new Date(r.getFullYear()+1,0,1).getDay()-o;m=m>=0?m:m+7,c=m<4?1:53}}else c=Math.floor((d+u-1)/7);return c}subtract(i){const r=this;return new Smart.Utilities.TimeSpan(r.dateData*r.ticksPerMillisecond-i.dateData*r.ticksPerMillisecond)}dateToMS(i,r,o){const s=this;if(i>=1&&i<=9999&&r>=1&&r<=12){i=parseInt(i);const d=s.isLeapYear(i)?s.daysToMonth366:s.daysToMonth365;if(o>=1&&o<=d[r]-d[r-1]){const c=i-1;return(365*c+parseInt(c/4)-parseInt(c/100)+parseInt(c/400)+d[r-1]+o-1)*s.millisPerDay}}}isLeapYear(i){if(i<1||i>9999)throw new Error("Year out of Range");return i%4==0&&(i%100!=0||i%400==0)}timeToMS(i,r,o,s){const d=this;if(i>=0&&i<24&&r>=0&&r<60&&o>=0&&o<60){const c=parseInt(3600*i+60*r+o);return s>0&&s<1e3?c*d.millisPerSecond+s:c*d.millisPerSecond}}daysInMonth(i,r){if(r<1||r>12)throw new Error("Month out of Range");const o=this,s=o.isLeapYear(i)?o.daysToMonth366:o.daysToMonth365;return s[r]-s[r-1]}arrayIndexOf(i,r){return i.indexOf(r)}startsWith(i,r){return 0===i.indexOf(r)}endsWith(i,r){return i.substr(i.length-r.length)===r}trim(i){return(i+"").replace(this.regexTrim,"")}expandFormat(i,r){let o,s=i.patterns,d=(r=r||"F").length;if(s[r])return s[r];if(1===d){if(o=s[r],!o)throw"Invalid date format string '"+r+"'.";r=o}else 2===d&&"%"===r.charAt(0)&&(r=r.charAt(1));return r}getEra(i,r){if(!r||"string"==typeof i)return 0;let o,s=i.getTime();for(let d=0,c=r.length;d<c;d++)if(o=r[d].start,null===o||s>=o)return d;return 0}toUpper(i){return i.split("\xa0").join(" ").toUpperCase()}toUpperArray(i){const r=[];for(let o=0,s=i.length;o<s;o++)r[o]=this.toUpper(i[o]);return r}getEraYear(i,r,o,s){let d=i.getFullYear();return!s&&r.eras&&(d-="number"==typeof o?o:r.eras[o].offset),d}getDayIndex(i,r,o){const s=this,d=i.days;let c,u=i._upperDays;return u||(i._upperDays=u=[s.toUpperArray(d.names),s.toUpperArray(d.namesAbbr),s.toUpperArray(d.namesShort)]),r=r.toUpperCase(),o?(c=s.arrayIndexOf(u[1],r),-1===c&&(c=s.arrayIndexOf(u[2],r))):c=s.arrayIndexOf(u[0],r),c}getMonthIndex(i,r,o){const s=this;let d=i.months,c=i.monthsGenitive||i.months,u=i._upperMonths,m=i._upperMonthsGen;u||(i._upperMonths=u=[s.toUpperArray(d.names),s.toUpperArray(d.namesAbbr)],i._upperMonthsGen=m=[s.toUpperArray(c.names),s.toUpperArray(c.namesAbbr)]),r=s.toUpper(r);let h=s.arrayIndexOf(o?u[1]:u[0],r);return h<0&&(h=s.arrayIndexOf(o?m[1]:m[0],r)),h}appendPreOrPostMatch(i,r){let o=0,s=!1;for(let d=0,c=i.length;d<c;d++){const u=i.charAt(d);switch(u){case"'":s?r.push("'"):o++,s=!1;break;case"\\":s&&r.push("\\"),s=!s;break;default:r.push(u),s=!1}}return o}getTokenRegExp(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyyy|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|uu|u|nn|n|pp|p|ee|e|aa|a|xx|x|oo|o|i{1,24}|zzz|zz|z|gg|g/g}static ParseDate(i,r){return(new Smart.Utilities.DateTime).tryparseDate(i,null,r)}tryparseDate(i,r,o){const s=this;if(null==r&&(r=s.calendar),void 0!==o){if(Array.isArray(o))for(let h=0;h<o.length;h++){const y=s.parseDate(i,o[h],r);if(y)return y}const m=s.parseDate(i,o,r);if(m)return m}if(""===i)return null;if(null==i||i.substring||(i=i.toString()),null!=i&&"/Date("===i.substring(0,6)){const m=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;let h=new Date(+i.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"===h){const y=i.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);h=null,y&&(h=new Date(1*y[1]+36e5*y[2]+6e4*y[3]))}if(null==h||"Invalid Date"===h||isNaN(h)){const y=m.exec(i);if(y){const _=new Date(parseInt(y[1]));if(y[2]){let C=parseInt(y[3]);"-"===y[2]&&(C=-C);const x=_.getUTCMinutes();_.setUTCMinutes(x-C)}if(!isNaN(_.valueOf()))return _}}return h}const d={smartdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",custom3:"yyyy-MM-ddTHH:mm:ss.fff+HH:mm",custom4:"yyyy-MM-ddTHH:mm:ss.fff-HH:mm",custom5:"yyyy-MM-ddTHH:mm:ss.ffffff+HH:mm",custom6:"yyyy-MM-ddTHH:mm:ss.ffffff-HH:mm",iso:"yyyy-MM-ddTHH:mm:ssZ",iso2:"yyyy-MM-ddTHH:mm.fffZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(let m in d){const h=s.parseDate(i,d[m],r);if(h)return h}const c=r.patterns;for(let m in c){const h=s.parseDate(i,c[m],r);if(h){if("ISO"===m){const y=s.parseDate(i,c.ISO2,r);if(y)return y}return h}}let u;if("string"==typeof i){const m=[":","/","-"," ",","];let h="",y=(A=i=s.trim(i),i=A.replace(new RegExp(", ","g"),","));i.indexOf(":")>=0?(h=i.substring(i.indexOf(":")-2),h=s.trim(h),y=i.substring(0,i.indexOf(":")-2)):i.toUpperCase().indexOf("AM")>=0?(h=i.substring(i.toUpperCase().indexOf("AM")-2),h=s.trim(h),y=i.substring(0,i.toUpperCase().indexOf("AM")-2)):i.toUpperCase().indexOf("PM")>=0&&(h=i.substring(i.toUpperCase().indexOf("PM")-2),h=s.trim(h),y=i.substring(0,i.toUpperCase().indexOf("PM")-2));let _=new Date,C=!1;if(y){for(let B=0;B<m.length;B++)if(y.indexOf(m[B])>=0){u=y.split(m[B]);break}if(!u)return null;let x=new Array,E=new Array,A=new Array,I=null,L=null;for(let B=0;B<u.length;B++){const O=u[B],P=s.parseDate(O,"d",r)||s.parseDate(O,"dd",r)||s.parseDate(O,"ddd",r)||s.parseDate(O,"dddd",r);if(P&&(x.push(P.getDate()),O.length>2)){I=B;break}}for(let B=0;B<u.length;B++){const O=u[B],P=s.parseDate(O,"M",r)||s.parseDate(O,"MM",r)||s.parseDate(O,"MMM",r)||s.parseDate(O,"MMMM",r);if(P){if(null!=I&&I===B)continue;if(E.push(P.getMonth()),O.length>2){L=B;break}}}for(let B=0;B<u.length;B++){const P=s.parseDate(u[B],"yyyy",r);if(P){if(null!=I&&I===B||null!=L&&L===B)continue;A.push(P.getFullYear())}}const k=new Array;for(let B=x.length-1;B>=0;B--)for(let O=0;O<E.length;O++)for(let P=0;P<A.length;P++){const U=new Date(A[P],E[O],x[B]);A[P]<1970&&U.setFullYear(A[P]),isNaN(U.getTime())||k.push(U)}k.length>0&&(_=k[0],C=!0)}if(h){const x=h.indexOf(":")>=0?h.split(":"):h,E=s.parseDate(h,"h:mm tt",r)||s.parseDate(h,"HH:mm:ss.fff",r)||s.parseDate(h,"HH:mm:ss.ff",r)||s.parseDate(h,"h:mm:ss tt",r)||s.parseDate(h,"HH:mm:ss.tttt",r)||s.parseDate(h,"HH:mm:ss",r)||s.parseDate(h,"HH:mm",r)||s.parseDate(h,"HH",r);let A=0,I=0,L=0,k=0;E&&!isNaN(E.getTime())?(A=E.getHours(),I=E.getMinutes(),L=E.getSeconds(),k=E.getMilliseconds()):(1===x.length&&(A=parseInt(x[0])),2===x.length&&(A=parseInt(x[0]),I=parseInt(x[1])),3===x.length&&(A=parseInt(x[0]),I=parseInt(x[1]),x[2].indexOf(".")>=0?(L=parseInt(x[2].toString().split(".")[0]),k=parseInt(x[2].toString().split(".")[1])):L=parseInt(x[2])),4===x.length&&(A=parseInt(x[0]),I=parseInt(x[1]),L=parseInt(x[2]),k=parseInt(x[3]))),!_||isNaN(A)||isNaN(I)||isNaN(L)||isNaN(k)||(_.setHours(A,I,L,k),C=!0)}if(C)return _}var A;if(null!=i){u=[":","/","-"];let m=!0;for(let h=0;h<u.length;h++)-1!==i.indexOf(u[h])&&(m=!1);if(m){const h=new Number(i);if(!isNaN(h))return new Date(h)}}return null}getParseRegExp(i,r){const o=this;let s=i._parseRegExp;if(s){const x=s[r];if(x)return x}else i._parseRegExp=s={};let d,c=o.expandFormat(i,r).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),u=["^"],m=[],h=0,y=0,_=o.getTokenRegExp();for(;null!==(d=_.exec(c));){const x=c.slice(h,d.index);if(h=_.lastIndex,y+=o.appendPreOrPostMatch(x,u),y%2){u.push(d[0]);continue}let E,A=d[0],I=A.length;switch(A){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":E="(\\D+)";break;case"tt":case"t":E="(\\D*)";break;case"yyyyy":E="(\\d{1,4})";break;case"yyyy":E="(\\d{"+I+"})";break;case"fff":case"ff":case"f":E="(\\d{1,"+I+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":E="(\\d\\d?)";break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":E="(\\d{1,3})";break;case"zzz":E="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":E="([+-]?\\d\\d?)";break;case"/":E="/";break;default:if(!/i{1,24}/.test(A))throw"Invalid date format pattern '"+A+"'.";E="(\\d{"+A.length+"})"}E&&u.push(E),"/"!==A&&m.push(d[0])}o.appendPreOrPostMatch(c.slice(h),u),u.push("$");const C={regExp:u.join("").replace(/\s+/g,"\\s+"),groups:m};return s[r]=C}outOfRange(i,r,o){return i<r||i>o}expandYear(i,r){const o=this,s=new Date,d=o.getEra(s);if(r<100){let c=i.twoDigitYearMax;c="string"==typeof c?(new Date).getFullYear()%100+parseInt(c,10):c;const u=o.getEraYear(s,i,d);(r+=u-u%100)>c&&(r-=100)}return r}padZeros(i,r){let o,s=i+"";return r>1&&s.length<r?(o=["0","00","000"][r-2]+s,o.substr(o.length-r,r)):(o=s,o)}parseDate(i,r,o){const s=this;null==o&&(o=s.calendar),i=s.trim(i);const d=o,c=s.getParseRegExp(d,r),u=new RegExp(c.regExp).exec(i);if(null===u)return null;let m,h=c.groups,y=null,_=null,C=null,x=null,E=null,A=0,I=0,L=0,k=0,B=null,O=!1;for(let q=0,G=h.length;q<G;q++){const T=u[q+1];if(T){const z=h[q],Z=z.length,v=parseInt(T,10);switch(z){case"dd":case"d":if(x=v,s.outOfRange(x,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(C=s.getMonthIndex(d,T,3===Z),s.outOfRange(C,0,11))return null;break;case"M":case"MM":if(C=v-1,s.outOfRange(C,0,11))return null;break;case"y":case"yy":case"yyyy":if(_=Z<4?s.expandYear(d,v):v,s.outOfRange(_,0,9999))return null;break;case"h":case"hh":if(A=v,12===A&&(A=0),s.outOfRange(A,0,11))return null;break;case"H":case"HH":if(A=v,s.outOfRange(A,0,23))return null;break;case"m":case"mm":if(I=v,s.outOfRange(I,0,59))return null;break;case"s":case"ss":if(L=v,s.outOfRange(L,0,59))return null;break;case"tt":case"t":if(O=d.PM&&(T===d.PM[0]||T===d.PM[1]||T===d.PM[2]),!O&&(!d.AM||T!==d.AM[0]&&T!==d.AM[1]&&T!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(k=v*Math.pow(10,3-Z),s.outOfRange(k,0,999))return null;break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":if(s.outOfRange(v,0,1e3))return null;s[s._codeToUnit[z]]=v;break;case"ddd":case"dddd":if(E=s.getDayIndex(d,T,3===Z),s.outOfRange(E,0,6))return null;break;case"zzz":{const l=T.split(/:/);if(2!==l.length||(m=parseInt(l[0],10),s.outOfRange(m,-12,13)))return null;const p=parseInt(l[1],10);if(s.outOfRange(p,0,59))return null;B=60*m+(s.startsWith(T,"-")?-p:p);break}case"z":case"zz":if(m=v,s.outOfRange(m,-12,13))return null;B=60*m;break;case"g":case"gg":{let l=T;if(!l||!d.eras)return null;l=this.trim(l.toLowerCase());for(let p=0,f=d.eras.length;p<f;p++)if(l===d.eras[p].nathat.toLowerCase()){y=p;break}if(null===y)return null;break}default:{let l=T;l.length%3==1?l+="00":l.length%3==2&&(l+="0"),k=parseInt(l.slice(0,3),10),l=l.slice(3);let p=0;for(;l.length>0;)s[s._smallUnits[p]]=parseInt(l.slice(0,3),10),l=l.slice(3),p++}}}}let P,U=new Date,J=d.convert;if(P=U.getFullYear(),null===_?_=P:d.eras&&(_+=d.eras[y||0].offset),null===C&&(C=0),null===x&&(x=1),J){if(U=J.toGregorian(_,C,x),null===U)return null}else if(U.setFullYear(_,C,x),U.getDate()!==x||null!==E&&U.getDay()!==E)return null;if(O&&A<12&&(A+=12),U.setHours(A,I,L,k),null!==B){const q=U.getMinutes()-(B+U.getTimezoneOffset());U.setHours(U.getHours()+parseInt(q/60,10),q%60)}return U}toString(i,r){const o=this;void 0===i&&(i="yyyy-MM-dd HH:mm:ss");const s=o.dateData.toString()+o.getFractionsOfSecondStamp()+i+(o.timeZone||"");if(Smart.Utilities.DateTime.cache&&Smart.Utilities.DateTime.cache[s]&&!1!==o.showTodayDateAsString)return Smart.Utilities.DateTime.cache[s];const d=o.toDate();if(null==r&&(r=o.calendar),"string"==typeof d)return d;if(!i||!i.length||"i"===i){let E;return E=o.formatDate(d,r.patterns.F,r),E}const c=r.eras,u="s"===i;i=o.expandFormat(r,i);const m=[];let h,y=0,_=o.getTokenRegExp();function C(E,A){if(void 0!==E.getMonth)switch(A){case 0:return E.getFullYear();case 1:return E.getMonth();case 2:return E.getDate()}}for(;;){const E=_.lastIndex,A=_.exec(i),I=i.slice(E,A?A.index:i.length);if(y+=o.appendPreOrPostMatch(I,m),!A)break;if(y%2){m.push(A[0]);continue}const L=A[0],k=L.length;let B;if(/i{1,24}/.test(L))m.push(o.getFirstNDigitsOfPrecision(L.length));else switch(L){case"ddd":case"dddd":m.push((3===k?r.days.namesAbbr:r.days.names)[d.getDay()]);break;case"d":case"dd":m.push(o.padZeros(C(d,2),k));break;case"MMM":case"MMMM":B=C(d,1),m.push(r.months[3===k?"namesAbbr":"names"][B]);break;case"M":case"MM":m.push(o.padZeros(C(d,1)+1,k));break;case"y":case"yy":case"yyyy":B=o.getEraYear(d,r,o.getEra(d,c),u),k<4&&(B%=100),m.push(o.padZeros(B,k));break;case"h":case"hh":h=d.getHours()%12,0===h&&(h=12),m.push(o.padZeros(h,k));break;case"H":case"HH":m.push(o.padZeros(d.getHours(),k));break;case"m":case"mm":m.push(o.padZeros(d.getMinutes(),k));break;case"s":case"ss":m.push(o.padZeros(d.getSeconds(),k));break;case"t":case"tt":B=d.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",m.push(1===k?B.charAt(0):B);break;case"f":case"ff":case"fff":m.push(o.padZeros(d.getMilliseconds(),3).substr(0,k));break;case"u":case"n":case"p":case"e":case"a":case"x":case"o":m.push(o[o._codeToUnit[L]]);break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":m.push(o.padZeros(o[o._codeToUnit[L]],3));break;case"z":case"zz":m.push((o.timeZoneOffsetHours>=0?"+":"-")+o.padZeros(Math.floor(Math.abs(o.timeZoneOffsetHours)),k));break;case"zzz":m.push((o.timeZoneOffsetHours>=0?"+":"-")+o.padZeros(Math.floor(Math.abs(o.timeZoneOffsetHours)),2)+":"+o.padZeros(60*Math.abs(o.timeZoneOffsetHours%1),2));break;case"g":case"gg":r.eras&&m.push(r.eras[o.getEra(d,c)].name);break;case"/":m.push(r["/"]);break;default:throw"Invalid date format pattern '"+L+"'."}}let x=m.join("");if(Smart.Utilities.DateTime.cache||(Smart.Utilities.DateTime.cache=new Array),o._today||(o._today=new Date),o.calendar&&o.calendar.today&&-1===i.indexOf(":")&&d.getFullYear()===o._today.getFullYear()&&d.getDate()===o._today.getDate()&&d.getMonth()===o._today.getMonth()){if(!1===o.showTodayDateAsString)return Smart.Utilities.DateTime.cache[s]=x,x;x=o.calendar.today}return Smart.Utilities.DateTime.cache[s]=x,x}getFractionsOfSecondStamp(){const i=this;return i._microsecond.toString()+i._nanosecond+i._picosecond+i._femtosecond+i._attosecond+i._zeptosecond+i._yoctosecond}getFirstNDigitsOfPrecision(i,r){const o=this;return(""+(!0!==r?o.padZeros(o.millisecond(),3):"")+o.padZeros(o._microsecond,3)+o.padZeros(o._nanosecond,3)+o.padZeros(o._picosecond,3)+o.padZeros(o._femtosecond,3)+o.padZeros(o._attosecond,3)+o.padZeros(o._zeptosecond,3)+o.padZeros(o._yoctosecond,3)).slice(0,i)}copySmallTimePartValues(i){const r=this;i._microsecond=r._microsecond,i._nanosecond=r._nanosecond,i._picosecond=r._picosecond,i._femtosecond=r._femtosecond,i._attosecond=r._attosecond,i._zeptosecond=r._zeptosecond,i._yoctosecond=r._yoctosecond}add(i,r,o){const s=this,d=s.internalMS();if(void 0===r){if(!1===o)return s.dateData=d+parseInt(i._ticks/s.ticksPerMillisecond),s;const m=new Smart.Utilities.DateTime(d+parseInt(i._ticks/s.ticksPerMillisecond));return s.copyTimeZone(m),s.copySmallTimePartValues(m),m}const c=i*r;if(c<=-s.maxMillis||c>=s.maxMillis)throw new Error("Out of Range");if(!1===o)return s.dateData=d+c,s;const u=new Smart.Utilities.DateTime(d+c);return s.copyTimeZone(u),s.copySmallTimePartValues(u),u}addDays(i,r){return this.add(i,this.millisPerDay,r)}clone(){const i=this,r=new Smart.Utilities.DateTime(i.dateData);return i.copyTimeZone(r),i.copySmallTimePartValues(r),r}clearTime(){const i=this,r=i.month(),o=i.year(),s=i.day(),d=new Smart.Utilities.DateTime(o,r,s,0,0,0,0);return i.copyTimeZone(d),d}addHours(i,r){return this.add(i,this.millisPerHour,r)}addDeciseconds(i,r){return this.add(100*i,1,r)}addCentiseconds(i,r){return this.add(10*i,1,r)}addMilliseconds(i,r){return this.add(i,1,r)}addMinutes(i,r){return this.add(i,this.millisPerMinute,r)}addMonths(i,r){const o=this;if(i<-12e4||i>12e4)throw new Error("Invalid Months Value");let s=parseInt(o.getDatePart(o.datePartYear)),d=parseInt(o.getDatePart(o.datePartMonth)),c=parseInt(o.getDatePart(o.datePartDay));if(i%12==0)s+=i/12;else{const h=d-1+i;h>=0?(d=h%12+1,s+=h/12):(d=12+(h+1)%12,s+=(h-11)/12),s=parseInt(s)}if(s<1||s>9999)throw new Error("Year out of range");const u=o.daysInMonth(s,d);if(c>u&&(c=u),!1===r)return o.dateData=o.dateToMS(s,d,c)+o.internalMS()%o.millisPerDay,o;const m=new Smart.Utilities.DateTime(o.dateToMS(s,d,c)+o.internalMS()%o.millisPerDay);return o.copyTimeZone(m),o.copySmallTimePartValues(m),m}addSeconds(i,r){return this.add(i,this.millisPerSecond,r)}addYears(i,r){return this.addMonths(12*i,r)}addMicroseconds(i,r){if(0===i)return;const o=this;let s,d;i<0&&0===o.hour()&&0===o.minute()&&0===o.second()&&0===o.millisecond()&&0===o._microsecond&&(s=parseInt(i/1e3,10)-1,d=1e3+i%1e3);const c=1e3*o.timeToMS(o.hour(),o.minute(),o.second(),o.millisecond())+o._microsecond,u=c+i;let m;if(void 0===s&&(s=parseInt(u/1e3,10)-parseInt(c/1e3,10)),void 0===d&&(d=parseInt(u%1e3,10)),0!==s&&(m=o.addMilliseconds(s,r)),!1!==r)return m||(m=o.clone()),m._microsecond=d,m;o._microsecond=d}addFractionsOfSecond(i,r,o,s,d){if(0===i)return;const c=this,u=1e3*c[s]+c[o],m=i+u;let h,y=parseInt(m/1e3,10)-parseInt(u/1e3,10),_=parseInt(m%1e3,10);if(i<0&&m<0&&_<0&&(y--,_=1e3+_),0!==y&&(h=c[d](y,r)),!1!==r)return h||(h=c.clone()),h[o]=_,h;c[o]=_}addNanoseconds(i,r){return this.addFractionsOfSecond(i,r,"_nanosecond","_microsecond","addMicroseconds")}addPicoseconds(i,r){return this.addFractionsOfSecond(i,r,"_picosecond","_nanosecond","addNanoseconds")}addFemtoseconds(i,r){return this.addFractionsOfSecond(i,r,"_femtosecond","_picosecond","addPicoseconds")}addAttoseconds(i,r){return this.addFractionsOfSecond(i,r,"_attosecond","_femtosecond","addFemtoseconds")}addZeptoseconds(i,r){return this.addFractionsOfSecond(i,r,"_zeptosecond","_attosecond","addAttoseconds")}addYoctoseconds(i,r){return this.addFractionsOfSecond(i,r,"_yoctosecond","_zeptosecond","addZeptoseconds")}getTimeZoneOffset(){const i=new Date,r=new Date(i.getFullYear(),0,1),o=new Date(i.getFullYear(),6,1),s=i.getTimezoneOffset()<Math.max(r.getTimezoneOffset(),o.getTimezoneOffset());return{offset:-i.getTimezoneOffset()/60,dst:+s}}isInDaylightSavingTime(){const i=new Date,r=new Date(i.getFullYear(),0,1),o=new Date(i.getFullYear(),6,1);return this.date().getTimezoneOffset()<Math.max(r.getTimezoneOffset(),o.getTimezoneOffset())}supportsDaylightSavingTime(){const i=new Date,r=new Date(i.getFullYear(),0,1),o=new Date(i.getFullYear(),6,1);return r.getTimezoneOffset()!==o.getTimezoneOffset()}date(){const i=this,r=i.month(),o=i.year(),s=i.day(),d=new Smart.Utilities.DateTime(o,r,s);return i.copyTimeZone(d),d}isWeekend(){return 0===this.dayOfWeek()||6===this.dayOfWeek()}toDate(i){const r=this,o=r.month(),s=r.year(),d=r.day(),c=r.hour(),u=r.minute(),m=r.second(),h=r.millisecond();let y=new Date(s,o-1,d);if(s<1970&&y.setFullYear(s),y.setHours(c,u,m,h),i){const _=r.timeZones.filter(function(C){return C.id===i});if(_.length){let C=_[0].offset;const x=y.getTime();let E=60*y.getTimezoneOffset()*1e3;if(r.timeZone){const A=r.timeZones.filter(function(I){return I.id===r.timeZone});A.length&&(E=60*-A[0].offset*1e3)}y=new Date(x+E+6e4*C)}}return y}toTimeZone(i){const r=this;let o=i;if(null==o&&(o="Local"),r.timeZone===o)return r.clone();const s=r.timeZones.filter(function(u){return u.id===o});if(0===s.length)return r.clone();const d=this.toDate(o),c=new Smart.Utilities.DateTime(d);return c.timeZone=o,c.timeZoneOffset=s[0].offset,c.timeZoneOffsetHours=s[0].offsetHours,r.copySmallTimePartValues(c),c}day(){return this.getDatePart(this.datePartDay)}month(){return this.getDatePart(this.datePartMonth)}year(){return this.getDatePart(this.datePartYear)}millisecond(){return parseInt(this.internalMS()%1e3)}hour(){return parseInt(Math.floor(this.internalMS()/this.millisPerHour)%24)}minute(){return parseInt(this.internalMS()/this.millisPerMinute%60)}second(){return parseInt(this.internalMS()/this.millisPerSecond%60)}microsecond(){return this._microsecond}nanosecond(){return this._nanosecond}picosecond(){return this._picosecond}femtosecond(){return this._femtosecond}attosecond(){return this._attosecond}zeptosecond(){return this._zeptosecond}yoctosecond(){return this._yoctosecond}valueOf(){return this.dateData}equals(i){const r=this;return r.dateData===i.dateData&&r._microsecond===i._microsecond&&r._nanosecond===i._nanosecond&&r._picosecond===i._picosecond&&r._femtosecond===i._femtosecond&&r._attosecond===i._attosecond&&r._zeptosecond===i._zeptosecond&&r._yoctosecond===i._yoctosecond}equalDateParts(i){const r=this;return r.year()===i.year()&&r.month()===i.month()&&r.day()===i.day()}compare(i){const r=this;if(r.equals(i))return 0;const o=["dateData","_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"];for(let s=0;s<o.length;s++){const d=o[s];if(r[d]>i[d])return 1;if(r[d]<i[d])return-1}return 0}toDateString(){return this.toDate().toDateString()}toLocaleDateString(){return this.toDate().toLocaleDateString(this.calendar.locale)}toLocaleString(){return this.toDate().toLocaleString(this.calendar.locale)}toLocaleTimeString(){return this.toDate().toLocaleTimeString(this.calendar.locale)}validateTimeZone(i){const r=this;if("string"!=typeof i)return;const o=r.timeZones.filter(function(s){return s.id===i});0!==o.length&&(r.timeZone=i,r.timeZoneOffset=o[0].offset,r.timeZoneOffsetHours=o[0].offsetHours)}copyTimeZone(i){const r=this;i.timeZone=r.timeZone,i.timeZoneOffset=r.timeZoneOffset,i.timeZoneOffsetHours=r.timeZoneOffsetHours}getTimeStamp(){return new Smart.Utilities.BigNumber(this.dateData.toString()+this.getFirstNDigitsOfPrecision(void 0,!0))}})})()},9319:()=>{Smart("smart-drop-down-list",class extends Smart.ContentElement{static get properties(){return{autoCloseDelay:{value:100,type:"number"},dataSource:{value:null,type:"any",reflectToAttribute:!1},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},displayMode:{allowedValues:["outlined","filled","underlined"],value:"outlined",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownButtonPosition:{allowedValues:["none","left","right","top","bottom"],value:"right",defaultReflectToAttribute:!0,type:"string"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"default",type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPlaceholder:{value:"No Items",type:"string"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},filterable:{value:!1,type:"boolean"},filterInputPlaceholder:{value:"",type:"string"},filterCallback:{value:null,type:"function?"},filterMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},hint:{value:"",type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},itemMeasureMode:{value:"auto",allowedValues:["auto","precise"],type:"string"},inputMember:{value:"label",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},label:{value:"",type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},name:{value:"",type:"string"},opened:{value:!1,type:"boolean"},placeholder:{value:"",type:"string"},resizeMode:{value:"none",allowedValues:["none","horizontal","vertical","both"],type:"string"},resizeIndicator:{value:!1,type:"boolean"},selectionDisplayMode:{value:"plain",allowedValues:["plain","placeholder","tokens"],type:"string"},selectionMode:{value:"zeroAndOne",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","zeroAndOne","one","checkBox","radioButton"],type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},tokenTemplate:{value:null,type:"any"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","actionButton.focus":"_buttonsFocusHandler","actionButton.blur":"_buttonsFocusHandler","document.selectstart":"_selectStartHandler","document.dragstart":"_dragStartHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.move":"_documentMoveHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",focus:"_focusEventHandler",blur:"_blurEventHandler","dropDownButton.focus":"_buttonsFocusHandler","dropDownButton.blur":"_buttonsFocusHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler","listBox.change":"_listBoxChangeHandler","listBox.itemClick":"_listBoxItemClickHandler","listBox.keydown":"_listBoxKeyDownHandler","listBox.bindingComplete":"_bindingCompleteHandler",mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler",resize:"_resizeHandler","resizeBar.move":"_resizeBarMoveHandler",styleChanged:"_styleChangedHandler",wheel:"_mouseWheelHandler"}}template(){return'<div id="container" role="presentation">\n                    <span class="smart-label" id="label">[[label]]</span>\n                    <div id="content" class="smart-content" role="presentation">\n                        <div class="smart-buttons-container" id="buttonsContainer" role="presentation">\n                            <span id="actionButton" class ="smart-action-button" role="presentation">[[placeholder]]</span>\n                            <span id="dropDownButton" class="smart-drop-down-button">\n                                <span class ="smart-drop-down-button-icon" id="arrow" aria-hidden="true"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="smart-drop-down smart-drop-down-container smart-visibility-hidden" role="presentation">\n                            <smart-list-box id="listBox" unfocusable\n                                    animation="[[animation]]"\n                                    data-source="[[dataSource]]"\n                                    disabled="[[disabled]]"\n                                    display-loading-indicator="[[displayLoadingIndicator]]"\n                                    display-member="[[displayMember]]"\n                                    filterable="[[filterable]]"\n                                    filter-callback="[[filterCallback]]"\n                                    filter-mode="[[filterMode]]"\n                                    filter-input-placeholder="[[filterInputPlaceholder]]"\n                                    grouped="[[grouped]]"\n                                    group-member="[[groupMember]]"\n                                    item-height="[[itemHeight]]"\n                                    item-measure-mode="[[itemMeasureMode]]"\n                                    item-template="[[itemTemplate]]"\n                                    incremental-search-delay="[[incrementalSearchDelay]]"\n                                    incremental-search-mode="[[incrementalSearchMode]]"\n                                    loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                                    loading-indicator-position="[[loadingIndicatorPosition]]"\n                                    name="[[name]]"\n                                    placeholder="[[dropDownPlaceholder]]"\n                                    right-to-left="[[rightToLeft]]"\n                                    readonly="[[readonly]]"\n                                    selected-indexes="{{selectedIndexes}}"\n                                    selection-mode="[[selectionMode]]"\n                                    selected-values="{{selectedValues}}"\n                                    sorted="[[sorted]]"\n                                    sort-direction="[[sortDirection]]"\n                                    theme="[[theme]]"\n                                    value-member="[[valueMember]]"\n                                    horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                    vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]"\n                                    virtualized="[[virtualized]]">\n                                <content></content>\n                            </smart-list-box>\n                            <div id="resizeBar" class="smart-drop-down-resize-bar" aria-label="Resize">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="smart-hint smart-hidden" id="hint">[[hint]]</span>\n                </div>'}static get styleUrls(){return["smart.dropdownlist.css","smart.dropdown.css"]}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"animation":a.$.dropDownContainer.setAttribute("animation",a.animation);break;case"disabled":a._setFocusable(),a.close(),a._positionDetection.handleAutoPositioning();break;case"dataSource":case"displayMember":case"inputMember":a.$.actionButton&&(a.$.actionButton.innerHTML=a.placeholder),a._setDropDownSize(),a._positionDetection.checkBrowserBounds("vertically"),a._positionDetection.positionDropDown(),a._positionDetection.checkBrowserBounds("horizontally");break;case"dropDownAppendTo":a._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownOpenMode":a._setFocusable(),a.$dropDownContainer.addClass("smart-visibility-hidden"),a.$.dropDownContainer.setAttribute("drop-down-open-mode",n),a.$.dropDownButton.removeAttribute("selected"),a.removeAttribute("drop-down-button-focus"),a.removeAttribute("action-button-focus"),a.opened=!1,a._ariaButton&&a._ariaButton.setAttribute("aria-expanded",!1),a._setAriaRelations();break;case"dropDownOverlay":n||a._positionDetection.removeOverlay();break;case"dropDownPosition":a._positionDetection.dropDownPositionChangedHandler();break;case"dropDownMinWidth":case"dropDownWidth":case"dropDownMaxWidth":case"dropDownHeight":case"dropDownMinHeight":case"dropDownMaxHeight":a._setDropDownSize();break;case"filterable":a.$.listBox.filterable=n,a._dropDownSize&&"auto"===a._dropDownSize.height&&a._setDropDownSize();break;case"label":if(!a._ariaButton)return;n?a._ariaButton.setAttribute("aria-labelledby",a.$.label.id):"DropDownList"===a.elementName&&a._ariaButton.setAttribute("aria-labelledby",a.$.actionButton.id);break;case"opened":if(a.disabled||a.readonly)return;n?a.open():a.close();break;case"placeholder":case"selectionDisplayMode":a._applySelection();break;case"readonly":a.close();break;case"resizeIndicator":n?a.$.dropDownContainer.setAttribute("resize-indicator",""):a.$.dropDownContainer.removeAttribute("resize-indicator");break;case"resizeMode":a.$.dropDownContainer.setAttribute("resize-mode",a.resizeMode);break;case"selectedValues":case"selectedIndexes":0===n.length?a.$.actionButton.innerHTML=a.placeholder:a._applySelection();break;case"selectionMode":a.$.listBox&&(a.$.listBox[t]=n,"checkBox"!==n&&"radioButton"!==n&&"checkBox"!==e&&"radioButton"!==e||a._setDropDownSize());break;case"tokenTemplate":a._tokenTemplate=a._validateTemplate(a.tokenTemplate),a._applySelection();break;case"unfocusable":a._setFocusable()}}_updateTargetValue(){const t=this;if(t.dataset.target){const e=document.querySelector(t.dataset.target);if(e){const n=t.dataset.property;n&&void 0!==e[n]&&(e[n]=t.value)}}}appendChild(t){const e=this;if(!e.isCompleted||t instanceof HTMLElement&&t.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t?(e.$.listBox.appendChild(t),e._dropDownSize&&"auto"===e._dropDownSize.height&&e._setDropDownSize()):e.error(e.localize("invalidNode",{elementType:e.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}attached(){const t=this;super.attached(),t.isCompleted&&t.$.dropDownContainer&&(t._positionDetection.dropDownAttached("_setDropDownSize"),t._positionDetection.checkBrowserBounds(),t.selectedIndexes&&t._applySelection())}detached(){const t=this;super.detached(),t.$.dropDownContainer&&(t.close(),t._positionDetection&&t._positionDetection.dropDownDetached())}clearItems(){const t=this;t.$.listBox&&(t.$.listBox.clearItems(),t.$.actionButton.innerHTML=t.placeholder)}clearSelection(){const t=this;t.$.listBox&&(t.$.listBox.clearSelection(),t.$.actionButton.innerHTML=t.placeholder)}close(){const t=this;t.$dropDownContainer.hasClass("smart-visibility-hidden")||t.$.fireEvent("closing").defaultPrevented||(t.$dropDownContainer.addClass("smart-visibility-hidden"),t.$.fireEvent("close"),t.$.dropDownButton&&t.$.dropDownButton.removeAttribute("selected"),t.opened=!1,t._ariaButton&&t._ariaButton.setAttribute("aria-expanded",!1),t._preventDropDownClose=!1,t._positionDetection.removeOverlay(!0),t.$.listBox.removeAttribute("focus"),t._edgeMacFF&&!t.hasAnimation&&t.$.dropDownContainer&&(t.$.dropDownContainer.style.top=t.$.dropDownContainer.style.left="",t.$dropDownContainer.addClass("not-in-view")))}cloneNode(){const t=this;if(!t.$.listBox)return;let e=HTMLElement.prototype.cloneNode.apply(t,Array.prototype.slice.call(arguments,0,1));return e.dataSource=t.dataSource,e}ensureVisible(t){this.$.listBox&&this.$.listBox.ensureVisible(t)}getItem(t){if(this.$.listBox)return this.$.listBox.getItem(t)}get items(){const t=this;return t.$&&t.$.listBox?t.$.listBox.items:[]}get _focusedItem(){const t=this;return t.$&&t.$.listBox?t.$.listBox._focusedItem:null}insert(t,e){const n=this;n.$.listBox&&(n.$.listBox.insert(t,e),n._applySelection(),n._dropDownSize&&"auto"===n._dropDownSize.height&&n._setDropDownSize())}insertBefore(t,e){const n=this;if(!n.isCompleted){const a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}t&&e?n.$.listBox&&(n.$.listBox.insertBefore(t,e),n._dropDownSize&&"auto"===n._dropDownSize.height&&n._setDropDownSize()):n.error(n.localize("invalidNode",{elementType:n.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}))}toggle(){const t=this;t.opened?t.close():t.open()}open(){const t=this,e=function(){for(let n=0;n<t.items.length;n++)if(!t.items[n].disabled)return t.items[n]};if(!t.disabled&&t.offsetHeight&&t.$dropDownContainer.hasClass("smart-visibility-hidden")){if(t.$dropDownContainer.hasClass("not-in-view")&&t.$dropDownContainer.removeClass("not-in-view"),t.$.dropDownContainer.style.transition=null,t.dropDownAppendTo){const n=t.getBoundingClientRect();if(t.$.container.contains(t.$.dropDownContainer)){let a=0;const i=setInterval(function(){const r=t.getBoundingClientRect();a++,r.top===t._positionTop&&a<10||(t.open(),clearInterval(i),t._positionTop=r.top)},100);return}n.top!==t._positionTop&&(t._positionTop=n.top)}t.$.fireEvent("opening").defaultPrevented||(t._shadowDOMStylesDelay&&(t._setDropDownSize(),delete t._shadowDOMStylesDelay),t.opened=!0,t._ariaButton&&t._ariaButton.setAttribute("aria-expanded",!0),t.$.listBox.setAttribute("focus",""),t._positionDetection.placeOverlay(),t._positionDetection.checkBrowserBounds("vertically"),t._positionDetection.positionDropDown(),t._positionDetection.checkBrowserBounds("horizontally"),t.$dropDownContainer.removeClass("smart-visibility-hidden"),t.$.fireEvent("open"),t.$.dropDownButton&&("dropDownButton"===t.dropDownOpenMode?t.$.dropDownButton.setAttribute("selected",""):t.$.dropDownButton.removeAttribute("selected")),(t.$.listBox&&!t._focusedItem||t._focusedItem&&!t._focusedItem._focused)&&t._focus(t.selectedIndexes.length>0?t.items[t.selectedIndexes[0]]:e),t.$.input&&!Smart.Utilities.Core.isMobile&&t.$.input.focus())}}ready(){super.ready()}render(){const t=this;t.rightToLeft&&(t.dropDownButtonPosition="right"===t.dropDownButtonPosition?"left":"right"),t.classList.add("smart-drop-down-box"),t.$.dropDownContainer&&(t._positionDetection=new Smart.Utilities.PositionDetection(t,t.$.dropDownContainer,t.$.container,"close"),t._positionDetection.getDropDownParent(!0),t._positionDetection.setDropDownPosition(),t._calculateDropDownSize(),t.$.dropDownContainer.setAttribute("resize-mode",t.resizeMode),t.$.dropDownContainer.setAttribute("drop-down-open-mode",t.dropDownOpenMode),t.resizeIndicator&&t.$.dropDownContainer.setAttribute("resize-indicator",""),t._positionDetection.handleAutoPositioning()),t.opened&&t.open(),t._positionTop=t.getBoundingClientRect().top,t._edgeMacFF=Smart.Utilities.Core.Browser.Edge||Smart.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),t._edgeMacFF&&t.hasAnimation&&t.$.dropDownContainer&&t.$dropDownContainer.addClass("not-in-view"),t.$.label&&!t.$.label.id&&(t.$.label.id=t.id+"Label"),t.$.actionButton&&!t.$.actionButton.id&&(t.$.actionButton.id=t.id+"ActionButton"),t.$.hint&&!t.$.hint.id&&(t.$.hint.id=t.id+"Hint"),t._createElement(),super.render()}removeAt(t){const e=this;e.$.listBox&&(e.$.listBox.removeAt(t),e._applySelection(),e._dropDownSize&&"auto"===e._dropDownSize.height&&e._setDropDownSize())}removeChild(t){const e=this;if(!e.isCompleted||t instanceof HTMLElement&&t.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t&&t instanceof Smart.ListItem?(e.$.listBox.removeChild(t),e._dropDownSize&&"auto"===e._dropDownSize.height&&e._setDropDownSize()):e.error(e.localize("invalidNode",{elementType:e.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}get value(){const t=this;return t.isRendered&&t.$.listBox?t.$.listBox.value:null}set value(t){const e=this;return e.isRendered&&e.$.listBox?void(e.$.listBox.value=t):null}select(t){this.$.listBox&&this.$.listBox.select(t)}_setFocusable(){const t=this;if(t.disabled||t.unfocusable)return t.removeAttribute("tabindex"),t.$.actionButton.removeAttribute("tabindex"),void t.$.dropDownButton.removeAttribute("tabindex");let e=t.tabIndex>0?t.tabIndex:0;t.tabIndex=e,"dropDownButton"===t.dropDownOpenMode?(t.removeAttribute("tabindex"),t.$.actionButton.setAttribute("tabindex",e),t.$.dropDownButton.setAttribute("tabindex",e)):(t.$.actionButton.removeAttribute("tabindex"),t.$.dropDownButton.removeAttribute("tabindex"))}static get requires(){return{"Smart.ListBox":"smart.listbox.js"}}unselect(t){this.$.listBox&&this.$.listBox.unselect(t)}update(t,e){const n=this;n.$.listBox&&(n.$.listBox.update(t,e),n._applySelection())}_resizeBarMoveHandler(t){"touchmove"===t.originalEvent.type&&t.originalEvent.preventDefault()}_createToken(){const t=this;let e,n=!1;const a=document.createDocumentFragment(),i=t.selectedIndexes[t.selectedIndexes.length-1];"plain"!==t.selectionDisplayMode||"one"!==t.selectionMode&&"zeroAndOne"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode&&"radioButton"!==t.selectionMode?"tokens"===t.selectionDisplayMode?1===t.selectedIndexes.length&&["oneOrManyExtended","oneOrMany","zeroAndOne","one","radioButton"].indexOf(t.selectionMode)>-1?e="":(e="&#10006",n=!0):e=1===t.selectedIndexes.length?"":",":e="";const r=t.selectedIndexes,o=t.$.listBox._items;for(let s=0;s<r.length;s++){const d=r[s];o[d]&&a.appendChild(t._applyTokenTemplate(o[d][t.inputMember],"tokens"!==t.selectionDisplayMode&&d===i?"":e,n))}return a}_applySelection(){const t=this;if("placeholder"!==t.selectionDisplayMode&&0!==t.selectedIndexes.length){if(t.$.listBox._items&&0!==t.$.listBox._items.length)if("plain"!==t.selectionDisplayMode)t.$.actionButton.innerHTML="",t.$.actionButton.appendChild(t._createToken());else{const e=t.$.listBox.selectedIndexes,n=t.$.listBox._items;let a=[];for(let i=0;i<e.length;i++){const r=e[i];n[r]&&a.push(n[r][t.inputMember])}t.$.actionButton.innerHTML=a.length?`<span class="smart-token">${a.join(", ").trim()}</span>`:""}}else t.$.actionButton.innerHTML=t.placeholder}_applyTokenTemplate(t,e,n){const a=this,i=document.createElement("span"),r=function(){return"<span class='smart-drop-down-list-selection-label' role=\"presentation\">"+t+`</span><span class='smart-drop-down-list-unselect-button' role="button"${n?' aria-label="Unselect"':""}>${e}</span>`};if(i.classList.add("smart-token"),a._tokenTemplate){let o=document.importNode(a._tokenTemplate.content,!0);const s=o.childNodes.length,d=/{{\w+}}/g;let c;for(let u=0;u<s;u++)c=d.exec(o.childNodes[u].innerHTML),c&&(o.childNodes[u].innerHTML=o.childNodes[u].innerHTML.replace(c[0],r())),o.childNodes[u].outerHTML&&(i.innerHTML+=o.childNodes[u].outerHTML)}else"function"==typeof a.tokenTemplate?a.tokenTemplate(i,{label:t,iconSeparator:e}):i.innerHTML=r();return i}_bindingCompleteHandler(){const t=this;t.$.listBox&&requestAnimationFrame(()=>{t._setDropDownSize(),t._positionDetection.checkBrowserBounds()})}_buttonsDownHandler(t){const e=this;if(!e.disabled){if(e.hasRippleAnimation)if(e.$.buttonsContainer&&"dropDownButton"!==e.dropDownOpenMode){const n=e.$.buttonsContainer;n.firstElementChild.noRipple=!0,Smart.Utilities.Animation.Ripple.animate(n,t.pageX,t.pageY),n.firstElementChild.noRipple=!1}else Smart.Utilities.Animation.Ripple.animate(t.target,t.pageX,t.pageY);e._preventsSelectStart=!0,e.tagName.toLowerCase().indexOf("smart-drop-down-")>-1&&"dropDownButton"===e.dropDownOpenMode&&t.target===e.$.actionButton&&e.$.actionButton.setAttribute("active",""),e.opened&&(e._preventDropDownClose=!0)}}_buttonsMouseEventsHandler(t){const e=this;e.disabled||("mouseenter"===t.type?(e.setAttribute("hover",""),t.target.setAttribute("hover",""),"dropDownButton"===e.dropDownOpenMode&&t.target===e.$.dropDownButton&&e.setAttribute("drop-down-button-hover","")):(e.removeAttribute("hover"),e.removeAttribute("drop-down-button-hover"),t.target.removeAttribute("hover")))}_calculateDropDownSize(){const t=this;t._dropDownSize={};const e=window.getComputedStyle(t.$.dropDownContainer),n=parseFloat(e.getPropertyValue("border-top-width").trim()),a=parseFloat(e.getPropertyValue("border-bottom-width").trim()),i=parseFloat(e.getPropertyValue("margin-top").trim()),r=parseFloat(e.getPropertyValue("margin-bottom").trim()),o=parseFloat(e.getPropertyValue("padding-top").trim()),s=parseFloat(e.getPropertyValue("padding-bottom").trim());Smart.Utilities.Core.CSSVariablesSupport()&&(t._dropDownSize.width=e.getPropertyValue("--smart-drop-down-list-drop-down-width").trim(),t._dropDownSize.height=e.getPropertyValue("--smart-drop-down-list-drop-down-height").trim()),(!t._dropDownSize.width||t._dropDownSize.width.indexOf("initial")>-1)&&(t._dropDownSize.width=t.offsetWidth),t._dropDownSize.height||(t._dropDownSize.height="auto"),t._dropDownSize.minHeight=parseFloat(e.getPropertyValue("min-height").trim()),t._dropDownSize.maxHeight=parseFloat(e.getPropertyValue("max-height").trim()),t._dropDownSize.borderWidth=(isNaN(n)?0:n)+(isNaN(a)?0:a),t._dropDownSize.paddingWidth=(isNaN(o)?0:o)+(isNaN(s)?0:s),t._dropDownSize.marginWidth=(isNaN(i)?0:i)+(isNaN(r)?0:r)}_createElement(){const t=this;t._tokenTemplate=t._validateTemplate(t.tokenTemplate),t._applySelection(),t._setDropDownSize(),t._setFocusable(),t.$.arrow.noRipple=!0,t._shadowDOMStylesDelay=t.shadowRoot,t._setAriaRelations(!0)}_documentDownHandler(t){const e=this;if(e.disabled||e.readonly)return;let n=t.originalEvent.target;if(n===e._overlay&&(e._overlayDown=!0),e.shadowRoot){n=t.originalEvent.composedPath()[0];let i=n.getRootNode().host;for(;i;)i.closest(".smart-drop-down-container")===e.$.dropDownContainer&&(e._isDropDownClicked=!0),i=i.getRootNode().host}else e.isInShadowDOM&&(n=t.originalEvent.composedPath()[0]),e._isDropDownClicked=n.closest(".smart-drop-down-container")===e.$.dropDownContainer;if(e._buttonClicked=n.closest(".smart-action-button")||n.closest(".smart-drop-down-button"),e.$.listBox){let i=n.closest("smart-list-item");e.$.listBox.contains(i)||(i=void 0),e.hasRippleAnimation&&i&&Smart.Utilities.Animation.Ripple.animate(i,t.pageX,t.pageY),(i||n===e.$.listBox.$.filterInput||n.closest(".smart-token"))&&(e._preventDropDownClose=!0)}if(e._isDropDownClicked&&(e._preventDropDownClose=!0),n!==e.$.resizeBar||"none"===e.resizeMode)return;e._resizeDetails||(e._resizeDetails={});const a=e.$.dropDownContainer.getBoundingClientRect();e._resizeDetails.started=!0,e._resizeDetails.x=t.pageX,e._resizeDetails.y=t.pageY,e._resizeDetails.width=e.$.dropDownContainer.offsetWidth,e._resizeDetails.height=e.$.dropDownContainer.offsetHeight,e._resizeDetails.offsetXL=t.clientX-a.left,e._resizeDetails.offsetXR=a.left+e.$.dropDownContainer.offsetWidth-t.clientX,e._resizeDetails.offsetY=a.top+e.$.dropDownContainer.offsetHeight-t.clientY,e._resizeDetails.offsetYtop=t.clientY-a.top,e._preventDropDownClose=!0}_documentMoveHandler(t){const e=this,n=e.shadowRoot||e.isInShadowDOM?t.originalEvent.composedPath()[0]:t.originalEvent.target;if("auto"===e.dropDownOpenMode&&null!==e.dropDownAppendTo&&(e.contains(n)||e.$.dropDownContainer.contains(n)?e._isElementHovered=!0:(e._isElementHovered=!1,e._autoClose())),!e._resizeDetails||e._resizeDetails&&!e._resizeDetails.started)return;e.setAttribute("resizing",""),e._resizeDetails.resizeEventFired||(e.$.fireEvent("resizeStart",{position:{left:t.pageX,top:t.pageY}}),e._resizeDetails.resizeEventFired=!0);const a=document.documentElement,i=e.$.dropDownContainer.getBoundingClientRect(),r=e.getBoundingClientRect(),o=e.$.dropDownContainer.hasAttribute("top")?"top":"bottom";let s;function d(){if(s=t.pageY-e._resizeDetails.y,"bottom"===o)e._resizeDetails.height=Math.min(a.clientHeight-i.top-6,Math.max(0,e._resizeDetails.height+s)),e._resizeDetails.y=Math.max(i.top+a.scrollTop-e._resizeDetails.offsetY,Math.min(a.clientHeight+a.scrollTop-1.5*e._resizeDetails.offsetY,t.pageY));else{if(e._resizeDetails.height=Math.min(e._dropDownSize.maxHeight,Math.max(0,Math.min(r.top,e._resizeDetails.height-s))),s=Math.max(0,i.top+(i.height-Math.max(e._dropDownSize.minHeight,e._resizeDetails.height))),e.dropDownAppendTo){const m=Math.abs(parseFloat(getComputedStyle(e.$.dropDownContainer).getPropertyValue("margin-bottom")))||0;e.$.dropDownContainer.style.top=e.dropDownAppendTo?m+s+"px":""}const u=r.top+a.scrollTop+e._resizeDetails.offsetYtop;e._resizeDetails.y=Math.max(e._resizeDetails.offsetYtop,Math.min(u,Math.max(u-e._dropDownSize.maxHeight,t.pageY)))}e.$.dropDownContainer.style.height=e._resizeDetails.height+"px"}function c(){s=t.pageX-e._resizeDetails.x,e._resizeDetails.width=Math.min(a.clientWidth-i.left-6,Math.max(0,e._resizeDetails.width+s)),e.$.dropDownContainer.style.width=e._resizeDetails.width+"px",e._resizeDetails.x=Math.max(i.left+a.scrollLeft-e._resizeDetails.offsetXR,Math.min(a.clientWidth+a.scrollLeft-1.5*e._resizeDetails.offsetXR,t.pageX))}switch(e.resizeMode){case"vertical":d();break;case"horizontal":c();break;case"both":c(),d()}}_documentUpHandler(t){const e=this;if(e.$.actionButton.removeAttribute("active"),e._resizeDetails&&e._resizeDetails.started)return e._resizeDetails.started=e._resizeDetails.resizeEventFired=!1,e.removeAttribute("resizing"),e._preventDropDownClose=!1,e.focus(),void e.$.fireEvent("resizeEnd",{position:{left:t.pageX,top:t.pageY}});if(e.disabled||e._isDropDownClicked||e.readonly)return void delete e._isDropDownClicked;if(e._overlayDown)return e.close(),void delete e._overlayDown;let n=t.originalEvent.target,a=n.closest?n.closest("smart-drop-down-list"):void 0;if((e.enableShadowDOM||e.isInShadowDOM)&&(n=t.originalEvent.composedPath()[0],a=n.getRootNode().host),e._preventsSelectStart=!1,void 0===n||n===e.$.resizeBar)return;if("tokens"===e.selectionDisplayMode&&n.classList.contains("smart-drop-down-list-selection-label")&&a===e){"none"!==e.dropDownOpenMode&&e.open();let o=e.$.listBox._items.filter(s=>s[e.inputMember].toString()===n.textContent)[0];return e.$.listBox._scrollView.scrollTop=o.offsetTop,void e._focus(o)}if("tokens"===e.selectionDisplayMode&&n.classList.contains("smart-drop-down-list-unselect-button")&&a===e)return 1===e.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(e.selectionMode)<0?void 0:void e.unselect(e.$.listBox._items.filter(o=>o[e.inputMember].toString()===n.previousElementSibling.textContent)[0]);const i=!(!n||!n.closest)&&n.closest(".smart-action-button");let r;if(e._buttonClicked&&("dropDownButton"===e.dropDownOpenMode&&i&&e._buttonClicked===e.$.actionButton?e.$.fireEvent("actionButtonClick"):n.closest(".smart-drop-down-button")!==e._buttonClicked&&i!==e._buttonClicked||(r=!0,e.$.fireEvent("dropDownButtonClick"))),e._buttonClicked=void 0,i===e.$.actionButton||n&&n.closest&&n.closest(".smart-drop-down-button")===e.$.dropDownButton)return"dropDownButton"===e.dropDownOpenMode&&i===e.$.actionButton?void e.close():void(e.$dropDownContainer.hasClass("smart-visibility-hidden")&&"none"!==e.dropDownOpenMode&&r&&"pointercancel"!==t.originalEvent.type?e.open():e.close());n=e._getUpEventTarget(n),void 0!==n&&("dropDownContainer"!==n&&"item"!==n||"item"===n&&"checkBox"!==e.selectionMode&&e.selectionMode.indexOf("Many")<0)&&e.close()}_dragStartHandler(t){this._resizeDetails&&this._resizeDetails.started&&t.preventDefault()}_dropDownTransitionendHandler(){const t=this;t._edgeMacFF&&!t.opened&&t.hasAnimation&&(t.$.dropDownContainer.style.top=t.$.dropDownContainer.style.left="",t.$dropDownContainer.addClass("not-in-view"))}_focus(t){this.$.listBox._focus(t)}_blurEventHandler(){const t=this;t.$.dropDownButton&&(t.removeAttribute("focus"),t.$.dropDownButton.removeAttribute("focus")),t.$.actionButton&&(t.removeAttribute("focus"),t.$.actionButton.removeAttribute("focus")),t.nodeName&&"smart-drop-down-list"===t.nodeName.toLowerCase()&&!t._preventDropDownClose&&t.close()}_focusEventHandler(){const t=this;t.$.dropDownButton&&(t.setAttribute("focus",""),t.$.dropDownButton.setAttribute("focus","")),t.$.actionButton&&(t.setAttribute("focus",""),t.$.actionButton.setAttribute("focus","")),t.removeAttribute("drop-down-button-focus"),t.removeAttribute("action-button-focus")}_buttonsFocusHandler(t){const e=this;t.target===e.$.dropDownButton?"focus"===t.type?e.setAttribute("drop-down-button-focus",""):(e.removeAttribute("drop-down-button-focus"),e.nodeName&&"smart-drop-down-list"===e.nodeName.toLowerCase()&&!e._preventDropDownClose&&e.close()):"focus"===t.type?e.setAttribute("action-button-focus",""):e.removeAttribute("action-button-focus")}_getUpEventTarget(t){const e=this;let n=t;for(n=void 0===n.parentElement?n.getRootNode().host:n.parentElement;n;){if(n===e.$.dropDownContainer){n="dropDownContainer";break}n=void 0===n.parentElement?n.getRootNode().host:n.parentElement}return n}_keyDownHandler(t){const e=this,n=e.enableShadowDOM&&e.shadowRoot.activeElement||document.activeElement,a=e.enableShadowDOM?t.composedPath()[0]:t.target;if(!(e.$.listBox&&a===e.$.listBox.$.filterInput||n!==e&&n!==e.$.dropDownButton&&n!==e.$.actionButton)||"Tab"===t.key)switch(t.key){case"Tab":if(e.filterable&&e.opened){const i=function(){for(let r=0;r<e.items.length;r++)if(!e.items[r].disabled)return e.items[r]};e.$.listBox.$.filterInput&&!Smart.Utilities.Core.isMobile&&document.activeElement!==e.$.listBox.$.filterInput?(e.$.listBox.$.filterInput.focus(),e._preventDropDownClose=!0):e.$.listBox&&(e.focus(),e._focus(e.selectedIndexes.length>0?e.items[e.selectedIndexes[0]]:i),e._preventDropDownClose=!0),t.preventDefault()}break;case"Enter":case" ":t.preventDefault(),a!==e.$.actionButton&&(e._keyPressed=!0,e.opened?(e._focusedItem&&e.select(e._focusedItem),("Enter"===t.key&&["none"].indexOf(e.selectionMode)<0||" "===t.key&&["none","zeroAndOne","one","radioButton"].indexOf(e.selectionMode)>-1)&&e.close()):e.opened||e.readonly||"none"===e.dropDownOpenMode||e.open()),"dropDownButton"===e.dropDownOpenMode&&a.setAttribute("active","");break;case"End":case"Home":case"PageUp":case"PageDown":case"ArrowUp":case"ArrowDown":if(e.readonly)return;if(t.altKey)return e._keyPressed=!1,void(e.$dropDownContainer.hasClass("smart-visibility-hidden")?e.open():e.close());t.preventDefault(),e.$.listBox._handleKeyStrokes(t.key);break;case"Escape":t.preventDefault(),e.close();break;default:if(e.readonly)return;"oneOrManyExtended"===e.selectionMode&&(e.$.listBox._keysPressed[t.key]=!0),e.$.listBox._applyIncrementalSearch(t.key)}}_keyUpHandler(t){const e=this,n=e.enableShadowDOM?t.composedPath()[0]:t.target;e.$.listBox&&n===e.$.listBox.$.filterInput||("Enter"!==t.key&&" "!==t.key||(n.removeAttribute("active"),e.$dropDownContainer.hasClass("smart-visibility-hidden")||(e._keyPressed=!1)),e.$.listBox&&"oneOrManyExtended"===e.selectionMode&&(e.$.listBox._keysPressed[t.key]=!1))}_listBoxChangeHandler(t){const e=this;if(t.target===e.$.listBox){if((e.dropDownAppendTo||e.enableShadowDOM)&&e.$.fireEvent("change",t.detail),"list"===e.autoComplete&&t.detail){const n=e.$.listBox._items[t.detail.index];e._lastSelectedItem=n&&n.selected?n:void 0}e._applySelection(e.selectionMode,t.detail),e._updateTargetValue()}else t.stopPropagation()}_listBoxItemClickHandler(t){const e=this;(e.dropDownAppendTo||e.enableShadowDOM)&&e.$.fireEvent(t.type,t.detail),"checkBox"!==e.selectionMode&&e.selectionMode.indexOf("Many")<0&&e.close(),Smart.Utilities.Core.isMobile||e.focus(),delete e._isDropDownClicked}_listBoxKeyDownHandler(t){const e=this;if("Enter"===t.key)return e.close(),"dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.focus():e.focus(),void t.stopPropagation();"Escape"!==t.key||e.close()}_mouseEnterHandler(){const t=this;t._isElementHovered=!0,t.tagName.toLowerCase().indexOf("smart-drop-down-")>-1&&"auto"===t.dropDownOpenMode&&!t.disabled&&!t.readonly&&t.open()}_mouseLeaveHandler(){const t=this;t.removeAttribute("hover"),t._isElementHovered=!1,"auto"!==t.dropDownOpenMode||t.disabled||t.readonly||t._autoClose()}_mouseWheelHandler(t){const e=this;e.disabled||e.readonly||e.items&&0===e.items.length||e.$dropDownContainer&&!e.$dropDownContainer.hasClass("smart-visibility-hidden")||e.$.listBox&&(t.preventDefault(),e.$.listBox._handleKeyStrokes(t.deltaY>0?"ArrowDown":"ArrowUp"))}_autoClose(){const t=this;t._autoCloseTimeout=setTimeout(function(){t._isElementHovered||t.close(),clearTimeout(t._autoCloseTimeout)}.bind(t),t.autoCloseDelay)}_propertyValidator(t,e){return"number"!=typeof e&&"string"!=typeof e?t:e}_resizeHandler(){this.refresh()}refresh(){const t=this;"none"===t.resizeMode&&(t._calculateDropDownSize(),t._setDropDownSize())}_selectStartHandler(t){this._preventsSelectStart&&t.preventDefault()}_setAriaRelations(t){const e=this;let n,a;"dropDownButton"!==e.dropDownOpenMode?(n=e.$.dropDownButton,n.setAttribute("aria-hidden",!0),a=e,e.$.actionButton.removeAttribute("role")):(n=e,a=e.$.dropDownButton,a.removeAttribute("aria-hidden"),e.$.actionButton.setAttribute("role","button")),e._ariaButton=a,a.setAttribute("role","button"),a.setAttribute("aria-haspopup","listbox"),a.setAttribute("aria-owns",e.$.listBox.id),a.setAttribute("aria-describedby",e.$.hint.id),e.label?a.setAttribute("aria-labelledby",e.$.label.id):"DropDownList"===e.elementName&&a.setAttribute("aria-labelledby",e.$.actionButton.id),n.setAttribute("role","presentation"),n.removeAttribute("aria-owns"),t?a.setAttribute("aria-expanded",e.opened):(n.removeAttribute("aria-describedby"),n.removeAttribute("aria-expanded"),n.removeAttribute("aria-haspopup"),n.removeAttribute("aria-labelledby"))}_setDropDownSize(){const t=this,e=t.$.listBox;let n;if(t._dropDownSize||t._calculateDropDownSize(),["dropDownMinWidth","dropDownMaxWidth"].forEach(a=>{t.$.dropDownContainer.style[a.replace("dropDown","").replace(/^./,"m")]="initial"===t[a]?t.offsetWidth+"px":t[a]?parseFloat(t[a])+(t[a].toString().endsWith("%")?"%":"px"):null}),["dropDownMinHeight","dropDownMaxHeight"].forEach(a=>{t.$.dropDownContainer.style[a.replace("dropDown","").replace(/^./,"m")]=t[a]?parseFloat(t[a])+(t[a].toString().endsWith("%")?"%":"px"):null}),t.$.dropDownContainer.style.width=t.dropDownWidth?"auto"!==t.dropDownWidth?("initial"===t.dropDownWidth?t.offsetWidth:parseFloat(t.dropDownWidth))+"px":"auto":"auto"===t._dropDownSize.width?"auto":(parseFloat(t._dropDownSize.width)||0)+"px",t.dropDownHeight&&"auto"!==t.dropDownHeight)t.$.dropDownContainer.style.height=parseFloat(t.dropDownHeight)+((t.dropDownHeight+"").indexOf("%")>-1?"%":"px");else if(!t.$.listBox||"auto"!==t._dropDownSize.height&&"auto"!==t.dropDownHeight)t.$.dropDownContainer.style.height=t._dropDownSize.height;else{t.$.dropDownContainer.style.height="";let a=0;if(e.$.itemsContainer&&(a=2*parseInt(window.getComputedStyle(e.$.itemsContainer).getPropertyValue("--smart-list-item-vertical-offset"))),isNaN(a)&&(a=6),n=a,e.items&&e.items.length>0?e.items.map(i=>n+=i.height||i.offsetHeight):n=e.$.placeholder?e.$.placeholder.offsetHeight:200,t.filterable){const i=e.$.filterInputContainer;n+=i.offsetHeight+i.offsetTop}n=n+t._dropDownSize.paddingWidth+t._dropDownSize.borderWidth,t.$.dropDownContainer.style.height=n+"px"}if(e){if(void 0===n||!e.$)return void e._refreshLayout();const i=Math.max(0,t._dropDownSize.minHeight-(n-(e.$.horizontalScrollBar?e.$.horizontalScrollBar.offsetHeight:0)));i&&(t.$.dropDownContainer.style.height=n+i+"px"),!t.opened&&t.virtualized&&e.refresh()}}_styleChangedHandler(t){const e=this;if(e.dropDownAppendTo){const n=t.detail.styleProperties,a=["font-size","font-family","font-style","font-weight"];for(let i=0;i<a.length;i++)n[a[i]]&&(e.$.dropDownContainer.style[a[i]]=n[a[i]].value)}"auto"===e._dropDownSize.height&&e._setDropDownSize()}_validateTemplate(t){const e=this;if(t&&"function"!=typeof t)if("content"in document.createElement("template")){if(t instanceof HTMLTemplateElement||(t=document.getElementById(t)),null!==t&&"content"in t)return t;e.error(e.localize("invalidTemplate",{elementType:e.nodeName.toLowerCase(),property:"tokenTemplate"}))}else e.error(e.localize("htmlTemplateNotSuported",{elementType:e.nodeName.toLowerCase()}))}})},20251:()=>{!function(){const t="16.0.0",e=[];let n="Smart";if(window[n]&&window[n].Version){if(window[n].Version===t)return;if(window[n].Version!==t)n+=t;else{let v=2;for(;window[n];)n+=v.toString(),v++}}const a=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1;document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint);class i{static isBoolean(l){return"boolean"==typeof l}static isFunction(l){return!!(l&&l.constructor&&l.call&&l.apply)}static isArray(l){return Array.isArray(l)}static isObject(l){return l&&("object"==typeof l||this.isFunction(l))||!1}static isDate(l){return l instanceof Date}static isString(l){return"string"==typeof l}static isNumber(l){return"number"==typeof l}static getType(l){const p=this,f=["Boolean","Number","String","Function","Array","Date","Object"].find(g=>{if(p["is"+g](l))return g});return f?f.toLowerCase():void 0}}class r{static animate(l,p,f,g){const b=l;if(!b||b instanceof HTMLElement==0)return;if(0===b.getElementsByClassName("smart-ripple").length){const N=document.createElement("span");N.classList.add("smart-ripple"),N.setAttribute("role","presentation");let R=!0,W=null;if(window[n].EnableShadowDOM&&b.enableShadowDOM&&!0!==b.isInShadowDOM){for(let Y=0;Y<b.shadowRoot.host.shadowRoot.children.length;Y++)"link"!==b.shadowRoot.host.shadowRoot.children[Y].tagName.toLowerCase()&&(W=b.shadowRoot.host.shadowRoot.children[Y]);b.shadowRoot.host.shadowRoot.querySelector(".smart-ripple")&&(R=!1)}else W=b.firstElementChild;R&&(W&&!W.noRipple&&W.offsetHeight>0?W.appendChild(N):b.appendChild(N))}let w=null;if(w=window[n].EnableShadowDOM&&b.shadowRoot?b.shadowRoot.host.shadowRoot.querySelector(".smart-ripple"):b.getElementsByClassName("smart-ripple")[0],!w)return;w.innerHTML="",w.classList.remove("smart-animate"),w.style.height=w.style.width=Math.max(b.offsetHeight,b.offsetWidth)+"px";const S=window.getComputedStyle(w.parentElement),D=parseInt(S.borderLeftWidth)||0,$=parseInt(S.borderTopWidth)||0,H=b.getBoundingClientRect(),F=p-(H.left+window.pageXOffset)-w.offsetWidth/2-D,M=f-(H.top+window.pageYOffset)-w.offsetHeight/2-$;w.style.left=F+"px",w.style.top=M+"px",w.classList.add("smart-animate"),w.addEventListener("animationend",function N(){w.parentElement&&w.parentElement.removeChild(w),g&&g(),w.removeEventListener("animationend",N),w.removeEventListener("animationcancel",N)}),w.addEventListener("animationcancel",function N(){w.parentElement&&w.parentElement.removeChild(w),g&&g(),w.removeEventListener("animationcancel",N),w.removeEventListener("animationend",N)})}}class o{static easeInQuad(l,p,f,g){return f*(l/=g)*l+p}static easeOutQuad(l,p,f,g){return-f*(l/=g)*(l-2)+p}static easeInOutQuad(l,p,f,g){return(l/=g/2)<1?f/2*l*l+p:-f/2*(--l*(l-2)-1)+p}static easeInCubic(l,p,f,g){return f*(l/=g)*l*l+p}static easeOutCubic(l,p,f,g){return f*((l=l/g-1)*l*l+1)+p}static easeInOutCubic(l,p,f,g){return(l/=g/2)<1?f/2*l*l*l+p:f/2*((l-=2)*l*l+2)+p}static easeInQuart(l,p,f,g){return f*(l/=g)*l*l*l+p}static easeOutQuart(l,p,f,g){return-f*((l=l/g-1)*l*l*l-1)+p}static easeInOutQuart(l,p,f,g){return(l/=g/2)<1?f/2*l*l*l*l+p:-f/2*((l-=2)*l*l*l-2)+p}static easeInQuint(l,p,f,g){return f*(l/=g)*l*l*l*l+p}static easeOutQuint(l,p,f,g){return f*((l=l/g-1)*l*l*l*l+1)+p}static easeInOutQuint(l,p,f,g){return(l/=g/2)<1?f/2*l*l*l*l*l+p:f/2*((l-=2)*l*l*l*l+2)+p}static easeInSine(l,p,f,g){return-f*Math.cos(l/g*(Math.PI/2))+f+p}static easeOutSine(l,p,f,g){return f*Math.sin(l/g*(Math.PI/2))+p}static easeInOutSine(l,p,f,g){return-f/2*(Math.cos(Math.PI*l/g)-1)+p}static easeInExpo(l,p,f,g){return 0===l?p:f*Math.pow(2,10*(l/g-1))+p}static easeOutExpo(l,p,f,g){return l===g?p+f:f*(1-Math.pow(2,-10*l/g))+p}static easeInOutExpo(l,p,f,g){return 0===l?p:l===g?p+f:(l/=g/2)<1?f/2*Math.pow(2,10*(l-1))+p:f/2*(2-Math.pow(2,-10*--l))+p}static easeInCirc(l,p,f,g){return-f*(Math.sqrt(1-(l/=g)*l)-1)+p}static easeOutCirc(l,p,f,g){return f*Math.sqrt(1-(l=l/g-1)*l)+p}static easeInOutCirc(l,p,f,g){return(l/=g/2)<1?-f/2*(Math.sqrt(1-l*l)-1)+p:f/2*(Math.sqrt(1-(l-=2)*l)+1)+p}static easeInElastic(l,p,f,g){let b=1.70158,w=0,S=f;return 0===l?p:1==(l/=g)?p+f:(w||(w=.3*g),S<Math.abs(f)?(S=f,b=w/4):b=w/(2*Math.PI)*Math.asin(f/S),-S*Math.pow(2,10*(l-=1))*Math.sin((l*g-b)*(2*Math.PI)/w)+p)}static easeOutElastic(l,p,f,g){let b=1.70158,w=0,S=f;return 0===l?p:1==(l/=g)?p+f:(w||(w=.3*g),S<Math.abs(f)?(S=f,b=w/4):b=w/(2*Math.PI)*Math.asin(f/S),S*Math.pow(2,-10*l)*Math.sin((l*g-b)*(2*Math.PI)/w)+f+p)}static easeInOutElastic(l,p,f,g){let b=1.70158,w=0,S=f;return 0===l?p:2==(l/=g/2)?p+f:(w||(w=g*(.3*1.5)),S<Math.abs(f)?(S=f,b=w/4):b=w/(2*Math.PI)*Math.asin(f/S),l<1?S*Math.pow(2,10*(l-=1))*Math.sin((l*g-b)*(2*Math.PI)/w)*-.5+p:S*Math.pow(2,-10*(l-=1))*Math.sin((l*g-b)*(2*Math.PI)/w)*.5+f+p)}static easeInBack(l,p,f,g,b){return void 0===b&&(b=1.70158),f*(l/=g)*l*((b+1)*l-b)+p}static easeOutBack(l,p,f,g,b){return void 0===b&&(b=1.70158),f*((l=l/g-1)*l*((b+1)*l+b)+1)+p}static easeInOutBack(l,p,f,g,b){return void 0===b&&(b=1.70158),(l/=g/2)<1?f/2*(l*l*((1+(b*=1.525))*l-b))+p:f/2*((l-=2)*l*((1+(b*=1.525))*l+b)+2)+p}static easeInBounce(l,p,f,g){return f-this.easeOutBounce(g-l,0,f,g)+p}static easeOutBounce(l,p,f,g){return(l/=g)<1/2.75?f*(7.5625*l*l)+p:l<2/2.75?f*(7.5625*(l-=1.5/2.75)*l+.75)+p:l<2.5/2.75?f*(7.5625*(l-=2.25/2.75)*l+.9375)+p:f*(7.5625*(l-=2.625/2.75)*l+.984375)+p}static easeInOutBounce(l,p,f,g){return l<g/2?.5*this.easeInBounce(2*l,0,f,g)+p:.5*this.easeOutBounce(2*l-g,0,f,g)+.5*f+p}}class s{static get isMobile(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}static get Browser(){let l;const p=function(g){let b=g.indexOf(l);if(-1===b)return;const w=g.indexOf("rv:");return parseFloat(g.substring("Trident"===l&&-1!==w?w+3:b+l.length+1))};let f={};return f[function(){const g=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}];for(let b=0;b<g.length;b++)if(l=g[b].subString,-1!==g[b].string.indexOf(g[b].subString))return g[b].identity;return"Other"}()]=!0,f.version=p(navigator.userAgent)||p(navigator.appVersion)||"Unknown",f}static toCamelCase(l){return l.replace(/-([a-z])/g,function(p){return p[1].toUpperCase()})}static toDash(l){return l.split(/(?=[A-Z])/).join("-").toLowerCase()}static unescapeHTML(l){return(new DOMParser).parseFromString(l,"text/html").documentElement.textContent}static escapeHTML(l){const p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(l).replace(/[&<>"'`=\/]/g,f=>p[f])}static sanitizeHTML(l){if(l&&(l.indexOf("onclick")>=0||l.indexOf("onload")>=0||l.indexOf("onerror")>=0))return this.escapeHTML(l);const p=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(l).replace(p,f=>this.escapeHTML(f))}static createGUID(){function l(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()}static getScriptLocation(){return"./"!==window[n].BaseUrl?window[n].BaseUrl:function(){if(document.currentScript){let b=document.currentScript.src,w=b.lastIndexOf("/");return b=b.substring(0,w),b}const l=new Error;let p="(",f=")";if(Smart.Utilities.Core.Browser.Safari&&(p="@",f="\n"),l.fileName)return l.fileName.replace("/smart.element.js","");let g=l.stack.split(p);return g=g[1],g=g.split(f)[0],g=g.split(":"),g.splice(-2,2),g=g.join(":"),g.replace("/smart.element.js","")}()}static CSSVariablesSupport(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}static assign(l,p){const f=b=>b&&"object"==typeof b&&!Array.isArray(b)&&null!==b;let g=Object.assign({},l);return f(l)&&f(p)&&Object.keys(p).forEach(b=>{f(p[b])?b in l?g[b]=this.assign(l[b],p[b]):Object.assign(g,{[b]:p[b]}):Object.assign(g,{[b]:p[b]})}),g}static html(l,p){const f=this;let g="",b=l.childNodes;if(!p){for(let w,S=0,D=b.length;S<D&&(w=b[S]);S++)if(w instanceof HTMLElement||w.tagName&&["strong"].indexOf(w.tagName.toLowerCase())>=0){const H=w.tagName.toLowerCase(),F=w.attributes;let M="<"+H;for(let N,R=0;N=F[R];R++)M+=" "+N.name+'="'+N.value.replace(/[&\u00A0"]/g,E.Core.escapeHTML)+'"';M+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][H]&&(g+=M),g=g+M+f.html(w)+"</"+H+">"}else{if(8===w.nodeType)continue;g+=w.textContent.replace(/[&\u00A0<>]/g,E.Core.escapeHTML)}return g}l.innerHTML=p.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>")}}let d=[];class c{static watch(l){switch(l.nodeName.toLowerCase()){case"smart-grid":case"smart-kanban":case"smart-table":case"smart-pivot-table":case"smart-scheduler":case"smart-tabs":case"smart-card-view":case"smart-list-box":case"smart-combo-box":case"smart-drop-down-list":case"smart-calendar":case"smart-gauge":case"smart-numeric-text-box":case"smart-menu":case"smart-tree":d.push(l);break;default:return}c.start()}static start(){c.isStarted||(c.isStarted=!0,c.interval&&clearInterval(c.interval),0===d.length||document.hidden?c.isStarted=!1:c.interval=setInterval(function(){c.observe()},100))}static stop(){c.isStarted=!1,c.interval&&clearInterval(c.interval)}static observeElement(l){const p=l;if("test"===window.Smart.Mode||document.hidden)return void(c.interval&&clearInterval(c.interval));let f=l._computedStyle||"resize"!==p.hasStyleObserver?document.defaultView.getComputedStyle(p,null):{},g=!0,b="resize"!==p.hasStyleObserver?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(l.styleProperties&&(b=b.concat(l.styleProperties)),l.observableStyleProperties&&(b=l.observableStyleProperties),!p._styleInfo){p._styleInfo=[];for(let S=0;S<b.length;S++){const D=b[S],$=D.startsWith("--")?f.getPropertyValue(D):f[D];p._styleInfo[D]=$}return}if(l.isHidden||"none"!==f.display&&(0!==l.offsetWidth&&0!==l.offsetHeight||(l.isHidden=!0)),l.isHidden){if(l.visibilityChangedHandler(),l.isHidden)return;g=!1}let w=[];for(let S=0;S<b.length;S++){const D=b[S],$=D.startsWith("--")?f.getPropertyValue(D):f[D];p._styleInfo[D]!==$&&(w[D]={oldValue:p._styleInfo[D],value:$},w.length++),p._styleInfo[D]=$}w.length>0&&(p.$.fireEvent("styleChanged",{styleProperties:w},{bubbles:!1,cancelable:!0}),w.display&&g&&p.$.fireEvent("resize",p,{bubbles:!1,cancelable:!0}))}static observe(){for(let l=0;l<d.length;l++)this.observeElement(d[l])}static unwatch(l){c.stop();const p=d.indexOf(l);-1!==p&&d.splice(p,1),c.start()}}let u=[];const m=[],h=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"];class y{constructor(l){const p=this;p.target=l,p.$target=new C(l),p.$document=l.$document?l.$document:new C(document),p.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();let f={handlers:{},boundEventTypes:[],listen:p.listen.bind(p),unlisten:p.unlisten.bind(p)};return p.tapHoldDelay=750,p.swipeMin=10,p.swipeMax=5e3,p.swipeDelay=1e3,p.tapHoldDelay=750,p.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],h.forEach(g=>{f[g]=b=>{f.handlers[g]=b},p[g]=b=>{if(!f.handlers[b.type]){if(("mousemove"===b.type||"pointermove"===b.type||"touchmove"===b.type)&&f.handlers.move){const w=p.createEvent(b,"move");f.handlers.move(w)}return!0}return f.handlers[b.type](b)}}),p.listen(),p.handlers=f.handlers,f}listen(l){const p=this;if("resize"===l&&p.target!==document&&p.target!==window&&!1!==p.target.hasResizeObserver)if(Smart.Utilities.Core.Browser.Firefox){if(!p.target.resizeObserver){let f,g,b,w=!1,S=p.target.offsetWidth,D=p.target.offsetHeight;const $=new ResizeObserver(()=>{if(!w)return void(w=!0);const H=new CustomEvent("resize",{bubbles:!1,cancelable:!0});g=p.target.offsetWidth,b=p.target.offsetHeight,f=g!==S||b!==D,p.target.requiresLayout&&(f=!0),f&&(p.resize(H),p.target.requiresLayout=!1)});$.observe(p.target),p.target.resizeObserver=$}}else if(!p.target.resizeTrigger){const f=document.createElement("div");f.className="smart-resize-trigger-container",f.innerHTML='<div class="smart-resize-trigger-container"><div class="smart-resize-trigger"></div></div><div class="smart-resize-trigger-container"><div class="smart-resize-trigger-shrink"></div></div>',f.setAttribute("aria-hidden",!0),window[n].EnableShadowDOM&&p.target.shadowRoot?p.target.shadowRoot.appendChild(f):p.target.appendChild(f),p.target.resizeTrigger=f;const g=f.childNodes[0],b=g.childNodes[0],w=f.childNodes[1],S=function(){b.style.width="100000px",b.style.height="100000px",g.scrollLeft=1e5,g.scrollTop=1e5,w.scrollLeft=1e5,w.scrollTop=1e5};let D,$,H,F,M=p.target.offsetWidth,N=p.target.offsetHeight;if(0===M||0===N){const R=function(){S(),p.target.removeEventListener("resize",R)};p.target.addEventListener("resize",R),S()}else S();p.target.resizeHandler=function(){$||($=requestAnimationFrame(function(){if($=0,H=p.target.offsetWidth,F=p.target.offsetHeight,D=H!==M||F!==N,p.target.requiresLayout&&(D=!0),!D)return;M=H,N=F;const R=new CustomEvent("resize",{bubbles:!1,cancelable:!0});p.resize(R),p.target.requiresLayout=!1})),S()},g.addEventListener("scroll",p.target.resizeHandler),w.addEventListener("scroll",p.target.resizeHandler)}p.isListening||(p.isListening=!0,p.isPressed=!1,p.isReleased=!1,p.isInBounds=!1,window.PointerEvent?(p.$target.listen("pointerdown.inputEvents"+p.id,p.pointerDown.bind(p)),p.$target.listen("pointerup.inputEvents"+p.id,p.pointerUp.bind(p)),p.$target.listen("pointermove.inputEvents"+p.id,p.pointerMove.bind(p)),p.$target.listen("pointercancel.inputEvents"+p.id,p.pointerCancel.bind(p))):("ontouchstart"in window&&(p.$target.listen("touchmove.inputEvents"+p.id,p.touchMove.bind(p)),p.$target.listen("touchstart.inputEvents"+p.id,p.touchStart.bind(p)),p.$target.listen("touchend.inputEvents"+p.id,p.touchEnd.bind(p)),p.$target.listen("touchcancel.inputEvents"+p.id,p.touchCancel.bind(p))),p.$target.listen("mousedown.inputEvents"+p.id,p.mouseDown.bind(p)),p.$target.listen("mouseup.inputEvents"+p.id,p.mouseUp.bind(p)),p.$target.listen("mousemove.inputEvents"+p.id,p.mouseMove.bind(p)),p.$target.listen("mouseleave.inputEvents"+p.id,p.mouseLeave.bind(p))),p.target._handleDocumentUp||(p.target._handleDocumentUp=p.handleDocumentUp.bind(p),p.target._handleDocumentUpId=p.id,p.$document.listen("mouseup.inputEvents"+p.target._handleDocumentUpId,p.target._handleDocumentUp)))}unlisten(l){const p=this;if(p.isListening=!1,window.PointerEvent?(p.$target.unlisten("pointerdown.inputEvents"+p.id),p.$target.unlisten("pointerup.inputEvents"+p.id),p.$target.unlisten("pointermove.inputEvents"+p.id),p.$target.unlisten("pointercancel.inputEvents"+p.id)):("ontouchstart"in window&&(p.$target.unlisten("touchstart.inputEvents"+p.id),p.$target.unlisten("touchmove.inputEvents"+p.id),p.$target.unlisten("touchend.inputEvents"+p.id),p.$target.unlisten("touchcancel.inputEvents"+p.id)),p.$target.unlisten("mousedown.inputEvents"+p.id),p.$target.unlisten("mouseup.inputEvents"+p.id),p.$target.unlisten("mousemove.inputEvents"+p.id),p.$target.unlisten("mouseleave.inputEvents"+p.id)),p.target._handleDocumentUp&&(p.$document.unlisten("mouseup.inputEvents"+p.target._handleDocumentUpId,p.target._handleDocumentUp),delete p.target._handleDocumentUp,delete p.target._handleDocumentUpId),"resize"===l)if(Smart.Utilities.Core.Browser.Firefox)p.target.resizeObserver&&(p.target.resizeObserver.unobserve(p.target),delete p.target.resizeObserver);else if(p.target.resizeTrigger){const f=p.target.resizeTrigger,b=f.childNodes[1];f.childNodes[0].removeEventListener("scroll",p.target.resizeHandler),b.removeEventListener("scroll",p.target.resizeHandler),p.target.resizeHandler=null,f.parentNode.removeChild(f),delete p.target.resizeTrigger}}handleDocumentUp(l){const p=this;p.isPressed=!1,p.isReleased=!1,p.resetSwipe(l)}createEvent(l,p){const f=this,g=l.touches,b=l.changedTouches,w=g&&g.length?g[0]:b&&b.length?b[0]:void 0,S=new CustomEvent(p,{bubbles:!0,cancelable:!0,composed:void 0!==f.$target.element.getRootNode().host});if(S.originalEvent=l,w){for(let D=0;D<f.inputEventProperties.length;D++){const $=f.inputEventProperties[D];S[$]=w[$]}return S}for(let D in l)D in S||(S[D]=l[D]);return S}fireTap(l){const p=this;if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){const f=p.createEvent(l,"tap");p.tap(f)}}initTap(l){const p=this;p.isInBounds=!0,p.tapHoldFired=!1,p.tapHoldTimeout=setTimeout(function(){if(p.isInBounds){p.tapHoldFired=!0;const f=p.createEvent(l,"taphold");p.taphold(f)}},p.tapHoldDelay)}pointerDown(l){return this.handleDown(l)}mouseDown(l){const p=this;if(!(p.isPressed||p.touchStartTime&&new Date-p.touchStartTime<500))return p.handleDown(l)}touchStart(l){const p=this;return p.touchStartTime=new Date,p.isTouchMoved=!0,p.handleDown(l)}mouseUp(l){const p=this;if(!(p.isReleased||p.touchEndTime&&new Date-p.touchEndTime<500))return p.handleUp(l)}handleDown(l){const p=this;p.isReleased=!1,p.isPressed=!0;const f=p.createEvent(l,"down");return(p.handlers.tap||p.handlers.taphold)&&p.initTap(f),(p.handlers.swipeleft||p.handlers.swiperight||p.handlers.swipetop||p.handlers.swipebottom)&&p.initSwipe(f),p.down(f)}handleUp(l){const p=this;p.isReleased=!0,p.isPressed=!1;const f=p.createEvent(l,"up"),g=p.up(f);return(p.handlers.tap||p.handlers.taphold)&&p.fireTap(f),p.resetSwipe(f),g}handleMove(l){const p=this;let f=p.move(l);return p.isPressed&&(p._maxSwipeVerticalDistance=Math.max(p._maxSwipeVerticalDistance,Math.abs(p._startY-l.pageY)),p._maxSwipeHorizontalDistance=Math.max(p._maxSwipeHorizontalDistance,Math.abs(p._startX-l.pageX)),f=p.handleSwipeEvents(l)),f}touchEnd(l){return this.touchEndTime=new Date,this.handleUp(l)}pointerUp(l){return this.handleUp(l)}pointerCancel(l){this.pointerUp(l)}touchCancel(l){this.touchEnd(l)}mouseLeave(){this.isInBounds=!1}mouseMove(l){if(!this.isTouchMoved)return this.handleMove(l)}pointerMove(l){return this.handleMove(l)}touchMove(l){const p=this,f=l.touches,g=l.changedTouches,b=f&&f.length?f[0]:g&&g.length?g[0]:void 0;for(let w=0;w<p.inputEventProperties.length;w++){const S=p.inputEventProperties[w];void 0===l[S]&&(l[S]=b[S])}return p.isTouchMoved=!0,p.handleMove(l)}handleSwipeEvents(l){const p=this;let f=!0;return(p.handlers.swipetop||p.handlers.swipebottom)&&(f=this.handleVerticalSwipeEvents(l)),!1===f||(p.handlers.swipeleft||p.handlers.swiperight)&&(f=this.handleHorizontalSwipeEvents(l)),f}handleVerticalSwipeEvents(l){let p,f;return p=l.pageY,f=p-this._startY,this.swiped(l,f,"vertical")}handleHorizontalSwipeEvents(l){let p,f;return p=l.pageX,f=p-this._startX,this.swiped(l,f,"horizontal")}swiped(l,p,f){const g=this;if(f=f||0,Math.abs(p)>=g.swipeMin&&!g._swipeEvent&&!g._swipeLocked){let b=p<0?"swipeleft":"swiperight";if("horizontal"===f?g._swipeEvent=g.createEvent(l,b):(b=p<0?"swipetop":"swipebottom",g._swipeEvent=g.createEvent(l,p<0?"swipetop":"swipebottom")),g[b]&&(g[b](this._swipeEvent),Math.abs(p)<=this.swipeMax))return l.stopImmediatePropagation(),!1}return!0}resetSwipe(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}initSwipe(l){const p=this;p._maxSwipeVerticalDistance=0,p._maxSwipeHorizontalDistance=0,p._startX=l.pageX,p._startY=l.pageY,p._swipeLocked=!1,p._swipeEvent=null,p._swipeTimeout=setTimeout(function(){p._swipeLocked=!0},p.swipeDelay)}}class _{get scrollWidth(){return this.horizontalScrollBar?this.horizontalScrollBar.max:-1}set scrollWidth(l){l<0&&(l=0),this.horizontalScrollBar&&(this.horizontalScrollBar.max=l)}get scrollHeight(){return this.verticalScrollBar?this.verticalScrollBar.max:-1}set scrollHeight(l){l<0&&(l=0),this.verticalScrollBar&&(this.verticalScrollBar.max=l)}get scrollLeft(){return this.horizontalScrollBar?this.horizontalScrollBar.value:-1}set scrollLeft(l){l<0&&(l=0),this.horizontalScrollBar&&(this.horizontalScrollBar.value=l)}get scrollTop(){return this.verticalScrollBar?this.verticalScrollBar.value:-1}set scrollTop(l){l<0&&(l=0),this.verticalScrollBar&&(this.verticalScrollBar.value=l)}get vScrollBar(){return this.verticalScrollBar}get hScrollBar(){return this.horizontalScrollBar}constructor(l,p,f){const g=this;g.container=l,g.horizontalScrollBar=p,g.verticalScrollBar=f,g.disableSwipeScroll=!1,g.listen()}listen(){const l=this,p=s.isMobile,f=l.horizontalScrollBar,g=l.verticalScrollBar;let b,w,S,D,$,H,F,M;l.inputEvents=new y(l.container);const N=function(j){return{amplitude:0,delta:0,initialValue:0,min:0,max:j.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:j,value:0,velocity:0}},R=N(f),W=N(g),Y=function(){const j=l.container.touchVelocityCoefficient||50;H=Date.now(),F=H-D,D=H;const K=function(V){V.delta=V.value-V.previousValue,V.previousValue=V.value,V.velocity=j*V.delta/(1+F)*.8+.2*V.velocity};K(W),K(R)},X=function(j){return M.value=j>M.max?M.max:j<M.min?M.min:j,M.scrollBar.value=M.value,j>M.max?"max":j<M.min?"min":"value"};function ee(){let j,K;M.amplitude&&(l.container.$.fireEvent("kineticScroll"),j=Date.now()-D,K=-M.amplitude*Math.exp(-j/500),K>5||K<-5?(X(M.targetValue+K),cancelAnimationFrame(w),w=0,w=requestAnimationFrame(ee)):X(M.targetValue))}let te;l.inputEvents.down(function(j){if(!p)return;const K=j.originalEvent.target,V=K&&K.closest?K.closest("smart-scroll-bar"):void 0;if(V===l.horizontalScrollBar||V===l.verticalScrollBar)return;S=!0,b=!1;const ne=function(ae,oe){ae.amplitude=0,ae.pointerPosition=oe,ae.previousValue=ae.value,ae.value=ae.scrollBar.value,ae.initialValue=ae.value,ae.max=ae.scrollBar.max};ne(W,j.clientY),ne(R,j.clientX),D=Date.now(),clearInterval($),$=setInterval(Y,500)}),l.inputEvents.up(function(){if(!S)return!0;if(clearInterval($),l.disableSwipeScroll)return void(S=!1);const j=function(K){M=K,K.amplitude=.8*K.velocity,K.targetValue=Math.round(K.value+K.amplitude),D=Date.now(),cancelAnimationFrame(w),w=requestAnimationFrame(ee),K.velocity=0};W.velocity>10||W.velocity<-10?j(W):(R.velocity>10||R.velocity<-10)&&j(R),S=!1}),l.inputEvents.move(function(j){if(!S)return!0;if(l.disableSwipeScroll||(b&&(j.originalEvent.preventDefault(),j.originalEvent.stopPropagation()),R.visible=l.scrollWidth>0,W.visible=l.scrollHeight>0,!S||!R.visible&&!W.visible))return;const K=l.container.touchScrollRatio,V=l.container;let ne,ae;K&&("number"==typeof K?(ne=-K,ae=-K):"function"==typeof K&&(ne=K(W.max,V.offsetHeight),ae=K(R.max,V.offsetWidth))),W.ratio=ne||-W.max/V.offsetHeight,W.delta=(j.clientY-W.pointerPosition)*W.ratio,R.ratio=ae||-R.max/V.offsetWidth,R.delta=(j.clientX-R.pointerPosition)*R.ratio;let oe="value";const le=function(Q,de,ie){return Q.delta>5||Q.delta<-5?(M=Q,oe=Q.initialValue+Q.delta>M.max?"max":Q.initialValue+Q.delta<M.min?"min":"value","min"===oe&&0===Q.initialValue||"max"===oe&&Q.initialValue===Q.max||!Q.visible||(l.container.$.fireEvent("kineticScroll"),X(Q.initialValue+Q.delta),Y(),ie.originalEvent.preventDefault(),ie.originalEvent.stopPropagation(),b=!0,!1)):null};let se=le(W,0,j);if(null!==se)return se;{let Q=le(R,0,j);if(null!==Q)return Q}}),l.scrollTo=function(j,K){const V=!1===K?R:W;let ne=!1;D||(D=Date.now()),te||(te=Date.now()),Math.abs(Date.now()-te)>375?D=Date.now():ne=!0,te=Date.now(),V.value=V.scrollBar.value,V.delta=j-V.value,V.max=V.scrollBar.max,j<=V.min&&(j=V.min),j>=V.max&&(j=V.max),V.targetValue=j;const ae=j;let oe=V.value;V.velocity=100*V.delta/(1+V.max),V.from=oe;const le=function(Q){return V.value=Q>V.max?V.max:Q<V.min?V.min:Q,V.scrollBar.value=V.value,Q>V.max?"max":Q<V.min?"min":"value"},se=function(){let Q,de=Date.now()-te,ie=Math.min(1e3,Date.now()-D),re=V.velocity*Math.exp(ie/175);if(ne)(re<0&&V.value<=j||re>0&&V.value>=j)&&(re=0),(V.value+re<=V.min||V.value+re>=V.max)&&(re=0),re>.5||re<-.5?(le(V.value+re),cancelAnimationFrame(w),w=0,w=requestAnimationFrame(se)):le(V.targetValue);else{if(de>=175)return cancelAnimationFrame(w),l.container.$.fireEvent("kineticScroll"),void(w=0);Q=E.Animation.Easings.easeInSine(de,oe,ae-oe,175),le(Q),cancelAnimationFrame(w),w=0,w=requestAnimationFrame(se)}};cancelAnimationFrame(w),w=requestAnimationFrame(se)},l.inputEvents.listen()}unlisten(){const l=this;l.inputEvents&&l.inputEvents.unlisten(),delete l.inputEvents}}class C{constructor(l){this.events={},this.handlers={},this.element=l}hasClass(l){const p=this,f=l.split(" ");for(let g=0;g<f.length;g++)if(!p.element.classList.contains(f[g]))return!1;return!0}addClass(l){const p=this;if(p.hasClass(l))return;const f=l.split(" ");for(let g=0;g<f.length;g++)p.element.classList.add(f[g]);p.isNativeElement||c.observeElement(p.element)}removeClass(l){const p=this;if(0===arguments.length)return void p.element.removeAttribute("class");const f=l.split(" ");for(let g=0;g<f.length;g++)p.element.classList.remove(f[g]);""===p.element.className&&p.element.removeAttribute("class"),p.isNativeElement||c.observeElement(p.element)}get isCustomElement(){const l=this;return!!l.element.tagName.startsWith(n)||l.element instanceof window[n].BaseElement==1||"DIV"!==l.element.tagName&&"SPAN"!==l.element.tagName&&"BUTTON"!==l.element.tagName&&"INPUT"!==l.element.tagName&&"UL"!==l.element.tagName&&"LI"!==l.element.tagName&&document.createElement(l.element.nodeName)instanceof window[n].BaseElement==1}get isNativeElement(){return!this.isCustomElement}dispatch(l){const p=this,f=p.events[l.type];let g=!1;if(f.length>1)for(let b=0;b<f.length;b++){const w=f[b];if(w.namespace&&w.namespace.indexOf("_")>=0){g=!0;break}}g&&f.sort(function(b,w){let S=b.namespace,D=w.namespace;return S=-1===S.indexOf("_")?0:parseInt(S.substring(S.indexOf("_")+1)),D=-1===D.indexOf("_")?0:parseInt(D.substring(D.indexOf("_")+1)),S<D?-1:S>D?1:0});for(let b=0;b<f.length;b++){const w=f[b];if(l.namespace=w.namespace,l.context=w.context,l.defaultPrevented)break;const S=w.handler.apply(p.element,[l]);if(void 0!==S&&(l.result=S,!1===S)){l.preventDefault(),l.stopPropagation();break}}return l.result}fireEvent(l,p,f){f||(f={bubbles:!0,cancelable:!0,composed:null!==this.element.getRootNode().host}),f.detail=p||{};const b=new CustomEvent(l,f);return b.originalStopPropagation=b.stopPropagation,b.stopPropagation=function(){return b.isPropagationStopped=!0,b.originalStopPropagation()},this.dispatchEvent(b),b}get isPassiveSupported(){const l=this;if(void 0!==l.supportsPassive)return l.supportsPassive;l.supportsPassive=!1;try{let p=Object.defineProperty({},"passive",{get:function(){l.supportsPassive=!0}});window.addEventListener("testPassive",null,p),window.removeEventListener("testPassive",null,p)}catch{}return l.supportsPassive}dispatchEvent(l){const p=this,f=l.type,g=p.element.context,b=f.substring(0,1).toUpperCase()+f.substring(1);p.element.context=document,p.element["on"+b]?p.element["on"+b](l):p.element["on"+f.toLowerCase()]?p.element["on"+f.toLowerCase()](l):p.element.dispatchEvent(l),p.element.context=g}listen(l,p){const f=this,g=l.split("."),b=g.slice(1).join("."),w=g[0];f.events[w]||(f.events[w]=[]);const S={type:w,handler:p,context:f.element,namespace:b};h.indexOf(w)>=0&&(f.inputEvents||(f.inputEvents=new y(f.element)),f.inputEvents[w](function(D){f.dispatchEvent(D)}),f.inputEvents.boundEventTypes.push(w),f.inputEvents.listen(w)),0===f.events[w].length&&(f.handlers[w]=f.dispatch.bind(f),"wheel"===w?f.element.addEventListener("wheel",f.handlers[w],!!f.isPassiveSupported&&{passive:!1}):f.element.addEventListener(w,f.handlers[w],("touchmove"===w||"touchstart"===w||"touchend"===w)&&!!f.isPassiveSupported&&{passive:!1})),f.events[w].push(S)}unlisten(l){const p=this,f=l.split("."),g=f.slice(1).join("."),b=f[0];let w=p.events[b];if(p.inputEvents&&p.inputEvents.boundEventTypes.indexOf(b)>=0&&(p.inputEvents.boundEventTypes.splice(p.inputEvents.boundEventTypes.indexOf(b),1),0===p.inputEvents.boundEventTypes.length&&p.inputEvents.unlisten(b)),w){for(let S=0;S<w.length;S++){if(""!==g){let D=w.findIndex($=>$.namespace===g);w.splice(D,1);break}w=[]}0===w.length&&(p.element.removeEventListener(b,p.handlers[b]),p.events[b]=[],delete p.handlers[b])}}getAttributeValue(l,p){const f=this,g=f.element.getAttribute(l);if(f.isNativeElement)return f.deserialize(g,p);const b=f.element.propertyByAttributeName[l];return void 0===b.deserialize?f.deserialize(g,p,b.nullable):f.element[b.deserialize](g)}setAttributeValue(l,p,f){const g=this;let b,w=!1;if(g.isNativeElement){if(b=g.serialize(p,f),"boolean"===f&&["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(l)>=0)return void(p?g.element.setAttribute(l,""):g.element.removeAttribute(l))}else{const S=g.element.propertyByAttributeName[l];w=!S||S.nullable,b=S&&S.serialize?g.element[S.serialize](p):g.serialize(p,f,w)}"array"!==f&&"object"!==f||"[]"!==b&&"{}"!==b?void 0===b?(g.element.removeAttribute(l),g.element.shadowRoot&&g.element.$.root&&g.element.$.root.removeAttribute(l)):(g.element.setAttribute(l,b),g.element.shadowRoot&&g.element.$.root&&g.element.$.root.setAttribute(l,b)):g.element.removeAttribute(l)}serialize(l,p,f){if(void 0===p&&(p=E.Types.getType(l)),void 0!==l&&(f||null!==l)){if(f&&null===l)return"null";if("string"===p)return l;if("boolean"===p||"bool"===p){if(!0===l||"true"===l||1===l||"1"===l)return"";if(!1===l||"false"===l||0===l||"0"===l)return}return"array"===p?JSON.stringify(l):["string","number","int","integer","float","date","any","function"].indexOf(p)>=0?l.toString():"object"===p?JSON.stringify(l):void 0}}deserialize(l,p,f){const g="null"===l;if(void 0!==l&&(!g||f)){if(g&&f)return null;if("boolean"===p||"bool"===p)return null!==l;if("number"===p||"float"===p)return"NaN"===l?NaN:"Infinity"===l?1/0:"-Infinity"===l?-1/0:parseFloat(l);if("int"===p||"integer"===p)return"NaN"===l?NaN:"Infinity"===l?1/0:"-Infinity"===l?-1/0:parseInt(l);if("string"===p||"any"===p)return l;if("date"===p)return new Date(l);if("function"===p){if("function"==typeof window[l])return window[l]}else if("array"===p||"object"===p)try{const b=JSON.parse(l);if(b)return b}catch{if(window[l]&&"object"==typeof window[l])return window[l];if("object"===p&&l.indexOf("{")>=0){let w=(l=l.replace(/{/gi,"").replace(/}/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim()).trim().split(","),S={};for(let D=0;D<w.length;D++){const $=w[D].split(":")[0].trim(),H=w[D].split(":")[1].trim();S[$]=H}return S}if("array"===p&&l.indexOf("[")>=0){if(l.indexOf("{")>=0){let w=l.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();w=w.split("},");for(let S=0;S<w.length;S++){let D={},$=w[S].trim().split(",");for(let H=0;H<$.length;H++){const F=$[H].split(":")[0].trim(),M=$[H].split(":")[1].trim();D[F]=M}w[S]=D}return w}return l.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}}class x{static get Ripple(){return r}static get Easings(){return o}}class E{static get Types(){return i}static get Core(){return s}static get Animation(){return x}static get Scroll(){return _}static get InputEvents(){return y}static Extend(l){return new C(l)}static Assign(l,p){if(l.indexOf(".")>=0){const f=l.split(".");return E[f[0]]||(E[f[0]]={}),void(E[f[0]][f[1]]=p)}E[l]=p}}const A=E.Extend(document);let I=null;document.addEventListener("click",()=>{c.start(),I&&clearTimeout(I),I=setTimeout(()=>{c.stop()},1e4)}),document.addEventListener("mouseenter",()=>{c.start()}),document.addEventListener("mouseleave",()=>{c.stop()});let L=(()=>{class v{}return v.cache={},v})();class k extends HTMLElement{static get properties(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:null,type:"any",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[n].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}getBindings(l,p){const f=this;let g=0,b={},w=(S=>{if(S instanceof HTMLElement)return f.parseAttributes(S);{let D=f.parseProperty(S.data?S.data.trim():null,"textContent",S);if(D)return f&&S.parentNode===f.$.content&&(D.value=""!==f.$.html?f.$.html:void 0,f.innerHTML=""),{textContent:D}}})(l);w&&(b.data=w),p||(b.mapping=[],p=b),l.getAttribute&&(b.nodeId=l.getAttribute("smart-id"),p&&w&&(p.mapping[b.nodeId]=w)),b.node=l,l.firstChild&&(b.children={});for(let S=l.firstChild;S;S=S.nextSibling)b.children[g++]=f.getBindings(S,p);return b}_addRemovePropertyBinding(l,p,f,g,b){if(!l||!p||!f)return;const w=this,S=w.bindings,D=f.getAttribute("smart-id"),$=l.indexOf("{{")>=0;let H=!1;(l=l.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(l=l.replace("!",""),H=!0);const F=w._properties[l],M={name:l,reflectToAttribute:F.reflectToAttribute,twoWay:$,type:F.type,not:H};if(b&&!g){const R={};R[l]={name:l,targetPropertyName:p,reflectToAttribute:F.reflectToAttribute,twoWay:$,type:F.type,not:H},S.mapping[D]=R}const N=function(R){for(let W in R){const Y=R[W];if(Y.nodeId===D){Y.data||(Y.data={}),g?(Y.data[p]=null,delete Y.data[p]):Y.data[p]=M;break}if(Y.children)N(Y.children);else if(Y.node&&Y.node.children&&Y.node===f.parentElement){const X=Y.node;if(!X.firstChild)continue;Y.children={};let ee=0;for(let te=X.firstChild;te;te=te.nextSibling)Y.children[ee++]=w.getBindings(te);N(Y.children)}}};N(S.children),g?delete w.boundProperties[l]:w.boundProperties[l]=!0,w.updateBoundNodes(l)}addPropertyBinding(l,p,f,g){this._addRemovePropertyBinding(l,p,f,!1,g)}removePropertyBinding(l,p,f,g){this._addRemovePropertyBinding(l,p,f,!0,g)}parseAttributes(l){const p=this;let f;for(let g=0;g<l.attributes.length;g++){const b=l.attributes[g],w=b.name,S=b.value;L.cache["toCamelCase"+w]||(L.cache["toCamelCase"+w]=E.Core.toCamelCase(w));const D=L.cache["toCamelCase"+w];if(w.indexOf("(")>=0){let H=w.substring(1,w.length-1);if(p&&!p.dataContext){p.templateListeners[l.getAttribute("smart-id")+"."+H]=S,l.removeAttribute(w);continue}{f||(f={});const F=S.substring(0,S.indexOf("("));f[D]={isEvent:!0,name:H,value:F};continue}}let $=p.parseProperty(S,w,l);$&&(f||(f={}),f[D]=$)}return f}parseProperty(l,p){if(!l||!l.length)return;const f=this;let g,b=l.length,w=0,S=0,D=0,$=!0;for(;S<b;){w=l.indexOf("{{",S);let M=l.indexOf("[[",S),N="}}";if(M>=0&&(w<0||M<w)&&(w=M,$=!1,N="]]"),D=w<0?-1:l.indexOf(N,w+2),D<0)return;g=g||{};let R=l.slice(w+2,D).trim();g.name=R,S=D+2}const H=g.name,F=f?f._properties[H]:null;return g.twoWay=$,g.ready=!1,f&&(H.indexOf("::")>=0?f.boundProperties[H.substring(0,H.indexOf("::"))]=!0:f.boundProperties[H]=!0),F?(g.type=F.type,g.reflectToAttribute=F.reflectToAttribute):(g.type=["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(p)>=0?"boolean":"string",g.reflectToAttribute=!0),g}updateTextNodes(){const l=this;l.updateTextNode(l.shadowRoot||l,l.bindings,l)}updateTextNode(l,p,f){const g=this;if(!p)return;let b=0;for(let w=l.firstChild;w&&p.children;w=w.nextSibling)g.updateTextNode(w,p.children[b++],f);if(p&&p.data)for(let w in p.data){const S=p.data[w];"textContent"===w&&S.twoWay&&!S.updating&&void 0!==S.value&&(f[S.name]=S.value)}}updateBoundProperty(l,p){p.updating||(p.updating=!0,this[l]=p.value,p.updating=!1)}updateBoundNodes(l){const p=this;if(p.updateBoundNode(p.shadowRoot||p,p.bindings,p,l),p.detachedChildren.length>0)for(let f=0;f<p.detachedChildren.length;f++){const g=p.detachedChildren[f],b=g.getAttribute("smart-id"),w=function(D){if(D.nodeId===b)return D;for(let $ in D.children){const H=D.children[$];if((H.getAttribute?H.getAttribute("smart-id"):"")===b)return D;if(H.children){const F=w(H);if(F)return F}}return null},S=w(p.bindings);if(S)p.updateBoundNode(g,S,p,l,!0);else if(g.getAttribute&&p.bindings.mapping){const D=p,$=p.bindings;if($)for(let H in $.mapping){const F=D.querySelector('[smart-id="'+H+'"]');F&&p.updateBoundData(F,$.mapping[H],D,l)}}}}updateBoundMappedNodes(){const l=this,p=l.bindings,f=l;if(p.mapping)for(let g in p.mapping){let b=f.querySelector('[smart-id="'+g+'"]');if(f.shadowRoot&&(b=f.querySelector('[id="'+g+'"]'),b||(b=f.shadowRoot.querySelector('[id="'+g+'"]')||f.shadowRoot.querySelector('[smart-id="'+g+'"]'))),b)l.updateBoundData(b,p.mapping[g],f);else if(f.getAttribute("aria-controls")){let w=document.getElementById(f.getAttribute("aria-controls"));!w&&f.shadowRoot&&(w=f.shadowRoot.getElementById(f.getAttribute("aria-controls"))),b=w.querySelector('[smart-id="'+g+'"]'),b&&l.updateBoundData(b,p.mapping[g],f)}}}updateBoundNode(l,p,f,g,b){const w=this;if(!p)return;let S=0;if(b){if(b&&!p.data)for(let $=l.firstChild;$&&p.children;$=$.nextSibling)if($.getAttribute){const H=$.getAttribute("smart-id"),F=function(){for(let M in p.children)if(p.children[M].nodeId===H)return p.children[M]}();w.updateBoundNode($,F,f,g),S++}else w.updateBoundNode($,p.children[S++],f,g,b)}else for(let $=l.firstChild;$&&p.children;$=$.nextSibling)if($.getAttribute){const H=$.getAttribute("smart-id"),F=function(){for(let M in p.children)if(p.children[M].nodeId===H)return p.children[M]}();w.updateBoundNode($,F,f,g),S++}else w.updateBoundNode($,p.children[S++],f,g);p&&p.data&&w.updateBoundData(l,p.data,f,g)}updateBoundData(l,p,f,g){const b=this;for(let w in p){const S=p[w];let D=S.name;if(!S.updating&&(D.indexOf("::")>=0&&(D=D.substring(0,D.indexOf("::"))),void 0===g||g===D)){if(D.indexOf("(")>=0){let $=D.substring(D.indexOf("("));const H=D.substring(0,D.indexOf("("));if($=$.substring(1,$.length-1),$=$.replace(/ /gi,""),$=$.split(","),$.length>0&&""!==$[0]){let F=[];for(let M=0;M<$.length;M++)F.push(f[$[M]]);S.value=f[H].apply(f,F)}else S.value=f[H]();S.type=typeof S.value}else S.value=f[D];if("innerHTML"===D){if(l[w].toString().trim()!==f[D].toString().trim()){if(window.smartBlazor&&l[w].indexOf("\x3c!--")>=0){(S.ready||f._properties[D].defaultValue!==S.value)&&(l[w]=S.value.toString());continue}(S.ready||f._properties[D].defaultValue!==S.value)&&(l[w]=S.value.toString().trim())}}else S.not?(l[w]=!S.value,S.targetPropertyName&&(l[S.targetPropertyName]=!S.value)):(l[w]=S.value,S.targetPropertyName&&(l[S.targetPropertyName]=S.value));if(l.$&&l.$.isNativeElement){L.cache["toDash"+w]||(L.cache["toDash"+w]=E.Core.toDash(w));const $=L.cache["toDash"+w],H=l.$.getAttributeValue($,S.type);!S.reflectToAttribute||H===S.value&&S.ready||l.$.setAttributeValue($,S.value,S.type),S.reflectToAttribute||l.$.setAttributeValue($,null,S.type)}if(!S.ready){if(l.$&&l.$.isCustomElement){L.cache["toDash"+w]||(L.cache["toDash"+w]=E.Core.toDash(w));const $=L.cache["toDash"+w];l._properties||(l._beforeCreatedProperties=l._properties=l.propertyByAttributeName=[]),l._properties[w]||(l._properties[w]={attributeName:$},l._beforeCreatedProperties&&(l._beforeCreatedProperties[w]=l._properties[w]),l.propertyByAttributeName[$]=l._properties[w]);const H=l._properties[w];H.isUpdating=!0,S.reflectToAttribute&&l.$.setAttributeValue(H.attributeName,S.not?!S.value:S.value,S.type),S.reflectToAttribute||l.$.setAttributeValue(H.attributeName,null,S.type),H.isUpdating=!1}if(S.twoWay){const $=function(H){if(S.value=H,l.$&&l.$.isNativeElement){L.cache["toDash"+w]||(L.cache["toDash"+w]=E.Core.toDash(w));const F=L.cache["toDash"+w],M=l.$.getAttributeValue(F,S.type);S.reflectToAttribute&&M!==S.value&&l.$.setAttributeValue(F,S.value,S.type),S.reflectToAttribute||l.$.setAttributeValue(F,null,S.type)}};if(S.name.indexOf("::")>=0){const H=S.name.indexOf("::"),F=S.name.substring(H+2);b["$"+l.getAttribute("smart-id")].listen(F,function(){$(l[w]);const M=S.name.substring(0,S.name.indexOf("::"));b.updateBoundProperty(M,S)})}if(l.$&&l.$.isCustomElement){l._properties[w]&&(l._properties[w].notify=!0),L.cache["toDash"+w]||(L.cache["toDash"+w]=E.Core.toDash(w));const H=L.cache["toDash"+w];b["$"+l.getAttribute("smart-id")].listen(H+"-changed",function(F){$(F.detail.value);const N=b.context;F.context!==document&&(b.context=b),b.updateBoundProperty(S.name,S),b.context=N})}}}S.ready=!0}}}static clearCache(){this.cache={}}addMessages(l,p){Object.assign(this.messages[l],p)}localize(l,p){const f=this;if(!f.messages||!f.messages[f.locale])return;let g=f.messages[f.locale][l];if(""===g)return"";if(!g){const w=f.messages.en;if(w){let S=w[l];if(S){for(let D in p){let $=p[D];S=S.replace(new RegExp("{{"+D+"}}","g"),$)}return S}return l}}const b=g;for(let w in p){let S=p[w];g=g.replace(new RegExp("{{"+w+"}}","g"),S)}if(f.localizeFormatFunction){const w=f.localizeFormatFunction(b,g,p,l);if(void 0!==w)return w}return g}static get requires(){return{}}static get listeners(){return{"theme-changed":function(l){this.theme=l.detail.newValue}}}static get methods(){return{}}get classNamesMap(){return{animation:"smart-animate",rippleAnimation:"smart-ripple"}}get hasAnimation(){return"none"!==this.animation}get hasRippleAnimation(){return"none"!==this.animation&&"advanced"===this.animation}static get modules(){return window[n].Modules}get properties(){const l=this;return l._properties||(l._properties=[]),l._properties}get parents(){const l=this;let p=[],f=l.parentNode;for(;f&&9!==f.nodeType;)f instanceof HTMLElement==1&&p.push(f),f=f.parentNode;const g=l.getRootNode();return g.host&&(p=p.concat((w=>{let S=[w],D=w.parentNode;for(;D&&9!==D.nodeType;)D instanceof HTMLElement==1&&S.push(D),D=D.parentNode;return S})(g.host))),window[n].EnableShadowDOM&&l.isInShadowDOM&&l.shadowParent&&(p=p.concat(l.shadowParent.parents)),p}log(l){this._logger("log",l)}warn(l){this._logger("warn",l)}error(l){this._logger("error",l)}_logger(l,p){if(this.debugMode){const f=p instanceof Error?p.message:p.toString();console[l](f)}if(this.rethrowError&&"error"===l)throw p}get focused(){return this.contains(document.activeElement)}template(){return"<div></div>"}registered(){this.onRegistered&&this.onRegistered()}created(){const l=this;l.isReady=!1,l._initElement(l),l._setModuleState("created"),l.onCreated&&l.onCreated()}completed(){const l=this;l.isCompleted=!0,l._onCompleted&&l._onCompleted(),l.onCompleted&&l.onCompleted()}whenReady(l){const p=this;p.isCompleted?l():(p.whenReadyCallbacks||(p.whenReadyCallbacks=[]),p.whenReadyCallbacks.push(l))}whenRendered(l){const p=this;p.isRendered?l():(p.whenRenderedCallbacks||(p.whenRenderedCallbacks=[]),p.whenRenderedCallbacks.push(l))}addThemeClass(){const l=this;""!==l.theme&&l.classList.add("smart-"+l.theme)}addDefaultClass(){const l=this;l.classList.add(n.toLowerCase()+"-element"),l.classList.add(l.nodeName.toLowerCase())}_renderShadowRoot(){const l=this;if(l.shadowRoot){l.$.root.classList.add(l.nodeName.toLowerCase());for(let p=0;p<l.attributes.length;p++){const f=l.attributes[p];"class"===f.name||"id"===f.name||"style"===f.name||"tabindex"===f.name||f.name.indexOf("aria")>=0||l.$.root.setAttribute(f.name,f.value)}for(let p=0;p<l.classList.length;p++){const f=l.classList[p];"smart-element-init"!==f&&"smart-element"!==f&&"smart-hidden"!==f&&"smart-visibility-hidden"!==f&&l.$.root.classList.add(f)}}}render(){const l=this;if(!l.isRendered&&(l.isRendered=!0,l.isRendering=!1,l.context=document,l._renderShadowRoot(),l.whenRenderedCallbacks)){for(let p=0;p<l.whenRenderedCallbacks.length;p++)l.whenRenderedCallbacks[p]();l.whenRenderedCallbacks=[]}l.onRender&&l.onRender(),l.disabled&&l.setAttribute("aria-disabled",!0),l.readonly&&-1!==["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(l.getAttribute("role"))&&l.setAttribute("aria-readonly",!0)}ready(){const l=this;if(l._setId(),l.addThemeClass(),l.addDefaultClass(),"collapsed"===l.visibility?l.classList.add("smart-hidden"):"hidden"===l.visibility&&l.classList.add("smart-visibility-hidden"),l.dataContext&&l.applyDataContext(),l.onReady&&l.onReady(),l.shadowRoot&&Smart(l._selector)){if(Smart(l._selector).styleUrls){const p=Smart(l._selector).styleUrls;for(let f=0;f<p.length;f++)l.importStyle(p[f])}if(Smart(l._selector).styles){const p=document.createElement("style");p.innerHTML=Smart(l._selector).styles,l.shadowRoot.insertBefore(p,l.shadowRoot.firstChild)}}Smart(l._selector)&&Smart(l._selector).ready&&Smart(l._selector).ready()}_setId(){const l=this;if(!l.id){const p=l.elementName;l.id=p.slice(0,1).toLowerCase()+p.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}checkLicense(){"Evaluation"===window[n].License&&-1===window.location.hostname.indexOf("htmlelements")&&(this.logWatermark(),this.logLicense(),window[n].License="")}logWatermark(){const l=document.createElement("a");l.href="https://www.htmlelements.com/",l.innerHTML="https://www.htmlelements.com/",l.style.position="absolute",l.style.right="5px",l.style.bottom="5px",l.style.color="#fff",l.style.padding="20px",l.style.borderRadius="5px",l.style.background="#0C3D78",l.style.cursor="pointer",l.style.zIndex="999999",l.style.display="block",l.style.fontSize="24px",l.style.textDecoration="none",l.style.fontWeight="bold",l.style.opacity=0,l.style.transition="opacity .35s ease-in-out",l.id="watermark",document.getElementById("watermark")||setTimeout(()=>{document.getElementById("watermark")||(document.body.appendChild(l),setTimeout(()=>{l.style.opacity=1}),setTimeout(()=>{l.style.opacity=0,setTimeout(()=>{l.parentNode.removeChild(l)},350)},6e3))},1e3)}logLicense(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*jQWidgets License Key Not Found."),console.log("*This is an EVALUATION only Version, it is NOT Licensed for software projects intended for PRODUCTION."),console.log("*if you want to hide this message, please send an email to: sales@jqwidgets.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}get _selector(){const l=this;return l.id?"#"+l.id:l.classList.length>0?"."+l.classList[0]:""}applyDataContext(l){const p=this;let f="string"==typeof p.dataContext?window[p.dataContext]||document[p.dataContext]:p.dataContext;if(l&&(f=l,p.dataContext=l),f){if(!f._uid){f._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),f._properties=[];for(let g in f){const b=f[g];"function"!=typeof b&&"_properties"!==g&&"_uid"!==g&&(f._properties[g]=b,Object.defineProperty(f,g,{configurable:!1,enumerable:!0,get:()=>f._properties[g],set(w){const S=f._properties[g];f._properties[g]=w;let D=[];D[g]={oldValue:S,value:w},D.length++,p.updatingDataContext=!0,A.fireEvent("dataContextPropertyChanged",{dataContext:f,properties:D},{bubbles:!1,cancelable:!0}),p.updatingDataContext=!1}}))}}if(p.dataContextProperties=p.parseAttributes(p),p.dataContextPropertiesMap={},p.dataContextListeners={},p.dataContextProperties){p.updatingDataContext=!0;for(let g in p.dataContextProperties){const b=p.dataContextProperties[g],w=b.name;if(b.propertyName=g,p.dataContextPropertiesMap[w]=g,L.cache["toDash"+g]||(L.cache["toDash"+g]=E.Core.toDash(w)),b.isEvent){const S=b.value;p.dataContextListeners[w]&&p.removeEventListener(w,p.dataContextListeners[w]),p.dataContextListeners[w]=function(D){f[S](D)},p.addEventListener(w,p.dataContextListeners[w])}if(w.indexOf(".")>=0){const S=w.split(".");let D=f[S[0]];for(let $=1;$<S.length;$++)D=D[S[$]];void 0!==D&&(p[g]=D)}else p[g]=f[w]}p.dataContextPropertyChangedHandler=function(g){const b=g.detail.properties;if(g.detail.dataContext===("string"==typeof p.dataContext?window[p.dataContext]||document[p.dataContext]:p.dataContext))for(let w in b){const S=p.dataContextPropertiesMap[w],D=p.context;S&&(p.context=document,p[S]=b[w].value,p.context=D)}},A.listen("dataContextPropertyChanged",p.dataContextPropertyChangedHandler),p.updatingDataContext=!1}else p.dataContextProperties=null}else{p.dataContextProperties=null;const g=function(){("string"==typeof p.dataContext?window[p.dataContext]||document[p.dataContext]:p.dataContext)&&(p.applyDataContext(),window.removeEventListener("load",g))};window.addEventListener("load",g)}}updateDataContextProperty(l){const p=this,f="string"==typeof p.dataContext?window[p.dataContext]||document[p.dataContext]:p.dataContext,g=p.dataContextProperties[l];if(!p.updatingDataContext&&g.twoWay){const b=g.name;if(b.indexOf(".")>=0){const w=b.split(".");let S=f[w[0]];for(let D=1;D<w.length;D++)S=S[w[D]];void 0!==S&&(S=p[l],u[f._uid]&&(u[f._uid][l]=S))}else f[b]=p[l],u[f._uid]&&(u[f._uid][l]=f[b])}}static get version(){return window[n].Version}initProperties(){const l=this;if(Smart(l._selector)&&Smart(l._selector).properties&&(l._initProperties=Smart(l._selector).properties),l.hasAttribute("props")&&!l.props?l._initProperties=window[l.getAttribute("props")]:l.props&&(l._initProperties=l.props),l._initProperties){const p=Object.keys(l._initProperties);for(let f=0;f<p.length;f++){const g=p[f],b=l._initProperties[g];if(void 0!==b){if(b.constructor===Smart.ObservableArray||b instanceof Smart.ObservableArray){l[g]=b.toArray();continue}if(b.constructor===Smart.DataAdapter||"smartDataAdapter"===b.constructor.name||"object"==typeof b&&Smart.DataAdapter&&b instanceof Smart.DataAdapter||b instanceof Smart.Observable||b.constructor===Smart.Observable||"object"!=typeof b||E.Types.isArray(b)||b instanceof Date){if(void 0===l[g]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(g)){const w=l.localize("propertyUnknownName",{name:g});l.log(w)}l[g]=b;continue}}if("messages"!==g)if("dataSourceMap"!==g&&"rowCSSRules"!==g){if(b&&"object"==typeof b){const w=function(S,D){const $=Object.keys(S);for(let H=0;H<$.length;H++){const F=$[H],M=S[F],N=l._properties[D+"_"+F];if(N&&null===N.value){if(void 0===l[D+"_"+F]){const R=l.localize("propertyUnknownName",{name:D+"_"+F});l.log(R)}l[D+"_"+F]=M}else if("object"==typeof M&&!E.Types.isArray(M)&&M&&M.constructor!==Date)w(M,D+"_"+F);else{if(void 0===l[D+"_"+F]){const R=l.localize("propertyUnknownName",{name:D+"_"+F});l.log(R)}l[D+"_"+F]=M}}};w(b,g)}}else l[g]=b;else l[g]=Object.assign(l[g],b)}}}setProperties(l){const p=this,f=Object.keys(l);for(let g=0;g<f.length;g++){const b=f[g],w=l[b];if(w.constructor===Smart.ObservableArray||w instanceof Smart.ObservableArray)p[b]=w.toArray();else if(w.constructor===Smart.DataAdapter||"smartDataAdapter"===w.constructor.name||"object"==typeof w&&Smart.DataAdapter&&w instanceof Smart.DataAdapter||w instanceof Smart.Observable||w.constructor===Smart.Observable||"object"!=typeof w||E.Types.isArray(w)||w instanceof Date){if(void 0===p[b]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(b))continue;const S=p._properties[b];p[b]="int"===S.type||"number"===S.type&&"string"==typeof subPropertyValue?"int"===S.type?parseInt(w):parseFloat(w):w}else if("messages"!==b&&"dataSourceMap"!==b){if("object"==typeof w){const S=function(D,$){const H=Object.keys(D);for(let F=0;F<H.length;F++){const M=H[F],N=D[M],R=p._properties[$+"_"+M];if(R&&null===R.value){if(void 0===p[$+"_"+M])continue;const W=p._properties[$+"_"+M];p[$+"_"+M]="int"===W.type||"number"===W.type&&"string"==typeof N?"int"===W.type?parseInt(N):parseFloat(N):N}else if("object"==typeof N&&!E.Types.isArray(N)&&N&&N.constructor!==Date)S(N,$+"_"+M);else{if(void 0===p[$+"_"+M])continue;const W=p._properties[$+"_"+M];p[$+"_"+M]="int"===W.type||"number"===W.type&&"string"==typeof N?"int"===W.type?parseInt(N):parseFloat(N):N}}};S(w,b)}}else p[b]=w}}setup(){const l=this;if(l.context=this,l.isReady&&!l.isCompleted)return;if(l.isReady)return l._setModuleState("attached"),l.isAttached=!0,l.attached(),l._handleListeners("listen"),void(l.context=document);l.ownerElement&&l.ownerElement.detachedChildren.indexOf(l)>=0&&l.ownerElement.detachedChildren.splice(l.ownerElement.detachedChildren.indexOf(l),1),l.isReady=!0,l.methods=l.getStaticMember("methods"),l.initProperties(),s.isMobile&&l.classList.add("smart-mobile");for(let g=0;g<l.attributes.length;g+=1){const b=l.propertyByAttributeName[l.attributes[g].name];if(!b)continue;let w=l.$.getAttributeValue(b.attributeName,b.type);const S=w?w.toString():"";if(!(S.indexOf("{{")>=0||S.indexOf("[[")>=0||"object"!==b.type&&"array"!==b.type&&(l.attributes[g].value.indexOf("{{")>=0||l.attributes[g].value.indexOf("[[")>=0)||void 0===w||b.value===w)){const D=E.Types.getType(w),$=l.attributes[g].value;if(("any"===b.type||"object"===b.type)&&""+l[b.name]===w||"array"===b.type&&l[b.name]&&JSON.stringify(l[b.name])===w)continue;if("number"===D&&isNaN(w)&&"NaN"!==$&&"Infinity"!==$&&"-Infinity"!==$){const H=l.localize("propertyInvalidValueType",{name:b.name,actualType:"string",type:b.type});l.log(H)}b.isUpdatingFromAttribute=!0,l[b.name]=w,b.isUpdatingFromAttribute=!1}}for(let g in l._properties){const b=l._properties[g];if("innerHTML"===g&&b.value===b.defaultValue&&(b.value=b.defaultValue=E.Core.html(l)),"boolean"!==b.type&&"bool"!==b.type||"false"===l.getAttribute(b.attributeName)&&(b.isUpdating=!0,l.setAttribute(b.attributeName,""),b.isUpdating=!1),b.defaultReflectToAttribute&&b.reflectToAttribute){if(b.defaultReflectToAttribute&&b.defaultReflectToAttributeConditions){let w=!0;for(let S=0;S<b.defaultReflectToAttributeConditions.length;S++){const D=b.defaultReflectToAttributeConditions[S];let $,H;for(let F in D)$=F,H=D[F];l._properties[$]&&l._properties[$].value!==H&&(w=!1)}if(!w)continue}b.isUpdating=!0,l.$.setAttributeValue(b.attributeName,b.value,b.type),b.isUpdating=!1}}const p=[];if(l.children.length>0)for(let g=0;g<l.children.length;g++){const b=l.children[g];E.Extend(b).isCustomElement&&p.push(b)}l.applyTemplate(),l.complete=function(){if(!l.templateBindingsReady){const b=w=>{w.templateBindingsReady||(w.templateBindingsReady=!0,w.updateTextNodes(),w.updateBoundNodes())};if(l.ownerElement){let w=l.ownerElement,S=[];for(;w;)S.push(w),w=w.ownerElement;for(let D=S.length-1;D>=0;D--)b(S[D]);b(l)}else b(l)}const g=()=>{if(l._setModuleState("ready"),l.ready(),"auto"!==l.renderMode||l.isRendered||l.render(),l.isAttached=!0,l._setModuleState("attached"),l.attached(),l._handleListeners("listen"),l.isHidden||0!==l.offsetWidth&&0!==l.offsetHeight||(l.isHidden=!0),l.completed(),l.isRendered&&(l.context=document),l.whenReadyCallbacks){for(let b=0;b<l.whenReadyCallbacks.length;b++)l.whenReadyCallbacks[b]();l.whenReadyCallbacks=[]}};if(l.wait)l.classList.add("smart-visibility-hidden");else if(l.classList.contains("smart-async"))requestAnimationFrame(()=>{g()});else{const b=l.shadowParent;l.shadowParent=null;const w=l.parents;if(l.shadowParent=b,0===w.length)return;const S=()=>{let D=l.ownerElement,$=[];for(;D;)$.push(D),D=D.ownerElement;for(let H=$.length-1;H>=0;H--)$[H].updateBoundMappedNodes()};l.ownerElement&&"HTML"!==w[w.length-1].nodeName?l.getRootNode().host?g():l.ownerElement&&"HTML"===l.ownerElement.parents[l.ownerElement.parents.length-1].nodeName?(S(),g()):l.checkIsInDomInterval=setInterval(()=>{const D=l.parents;"HTML"===D[D.length-1].nodeName&&(clearInterval(l.checkIsInDomInterval),S(),g())},100):g()}};let f=[].slice.call(l.querySelectorAll("[smart-id]")).concat(p);if(window[n].EnableShadowDOM&&!0!==l.isInShadowDOM&&(f=[].slice.call(l.shadowRoot.querySelectorAll("[smart-id]")).concat(p)),0===f.length)l.complete();else{l._completeListeners=0;for(let g=0;g<f.length;g++){const b=f[g];if(E.Extend(b).isCustomElement){const w=function(){l._completeListeners--,0===l._completeListeners&&(l.complete(),delete l._completeListeners)}.bind(l);b.isCompleted||b.isUtilityElement||!0===b.wait||(l._completeListeners++,b._onCompleted||(b.completeHandlers=[],b._onCompleted=function(){for(let S=0;S<b.completeHandlers.length;S++)b.completeHandlers[S]()}),b.completeHandlers.push(w))}}0===l._completeListeners&&l.complete()}}visibilityChangedHandler(){const l=this;l.isReady&&requestAnimationFrame(()=>{0===l.offsetWidth||0===l.offsetHeight?l.isHidden=!0:(l.isHidden=!1,l.$.fireEvent("resize",l,{bubbles:!1,cancelable:!0}))})}attributeChangedCallback(l,p,f){const g=this,b=g.propertyByAttributeName[l];if("class"!==l&&"style"!==l||g.visibilityChangedHandler(),b||g.attributeChanged(l,p,f),g.onAttributeChanged&&g.onAttributeChanged(l,p,f),!b||b&&b.isUpdating)return;let w=g.$.getAttributeValue(b.attributeName,b.type);void 0!==f&&g[b.name]!==w&&(b.isUpdatingFromAttribute=!0,g[b.name]=void 0!==w?w:g._properties[b.name].defaultValue,b.isUpdatingFromAttribute=!1)}attributeChanged(l,p,f){}set hasStyleObserver(l){const p=this;void 0===p._hasStyleObserver&&(p._hasStyleObserver=l),l?c.watch(p):c.unwatch(p)}get hasStyleObserver(){return void 0===this._hasStyleObserver||this._hasStyleObserver}attached(){const l=this;l.hasStyleObserver&&c.watch(l),l.onAttached&&l.onAttached(),Smart(l._selector)&&Smart(l._selector).attached&&Smart(l._selector).attached()}detached(){const l=this;l.hasStyleObserver&&c.unwatch(l),l._setModuleState("detached"),l.isAttached=!1,l.ownerElement&&-1===l.ownerElement.detachedChildren.indexOf(l)&&l.ownerElement.detachedChildren.push(l),l._handleListeners("unlisten"),l.onDetached&&l.onDetached(),Smart(l._selector)&&Smart(l._selector).detached&&Smart(l._selector).detached(),m&&m[l._selector]&&delete m[l._selector]}propertyChangedHandler(l,p,f){const g=this;p!==f&&("theme"===l&&(""!==p&&g.classList.remove("smart-"+p),""!==f&&g.classList.add("smart-"+f)),"visibility"===l?("collapsed"===p?g.classList.remove("smart-hidden"):"hidden"===p&&g.classList.remove("smart-visibility-hidden"),"collapsed"===f?g.classList.add("smart-hidden"):"hidden"===f&&g.classList.add("smart-visibility-hidden")):("disabled"===l||"readonly"===l)&&g._ariaPropertyChangedHandler(l,f),g.propertyChanged&&g.propertyChanged(l,p,f))}_ariaPropertyChangedHandler(l,p){const f=this;"readonly"===l&&-1===["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(f.getAttribute("role"))||(p?f.setAttribute("aria-"+l,!0):f.removeAttribute("aria-"+l))}_handleListeners(l){const p=this,f=p.tagName.toLowerCase(),g=b=>{for(let w in b){const S=w.split(".");let D=S[0],$=p.$;if(S[1])if(D=S[1],$=p["$"+S[0]],"document"===S[0]){let M=p.smartId;""===M&&(M=E.Core.toCamelCase(f)),D=D+"."+M}else p.smartId&&(D=D+"."+p.smartId+"_"+p.parents.length);else p.smartId&&(D=D+"."+p.smartId);const H=b[w];$&&$[l](D,function(M){const N=p.context;p.context=p,p[H]&&p[H].apply(p,[M]),p.context=N})}};g(p.getStaticMember("listeners")),g(p.templateListeners),Smart(p._selector)&&Smart(p._selector).properties&&g(Smart(p._selector).listeners)}parseTemplate(){const l=this,p=l.template(),f=document.createDocumentFragment();if(e[l.nodeName]&&!a)return e[l.nodeName].cloneNode(!0);if(""===p)return null;let g=document.createElement("div");f.appendChild(g),g.innerHTML=p;let b=g.childNodes;g.parentNode.removeChild(g);for(let w=0;w<b.length;w++)f.appendChild(b[w]);return e[l.nodeName]=f,a?f:f.cloneNode(!0)}applyTemplate(){const l=this,p=l.parseTemplate();if(!p||!p.hasChildNodes)return;const f=p.childNodes[0],g=(S,D)=>{l["$"+S]=D.$=E.Extend(D),l.$[S]=D,D.ownerElement=l};let b=f;if(f.getElementsByTagName("content").length>0){let S=f.getElementsByTagName("content")[0];b=S.parentNode,b.removeChild(S)}else{const S=p.querySelectorAll("[inner-h-t-m-l]");S&&S.length>0&&(b=S[0])}l.$.template="template"===f.nodeName.toLowerCase()?f:f.querySelector("template");let w=p.querySelectorAll("[id]");0===w.length&&(w=p.querySelectorAll("*")),g("root",f),g("content",b),l.$.html=l.innerHTML.toString().trim();for(let S=0;S<w.length;S+=1){let D=w[S];""===D.id&&(D.id="child"+S),g(D.id,D),D.setAttribute("smart-id",D.id),l.shadowRoot?D.shadowParent=l:D.removeAttribute("id")}for(l.bindings=!1!==l.hasTemplateBindings?l.getBindings(p):[],l.$root.addClass("smart-container");l.childNodes.length;)b.appendChild(l.firstChild);if(l.appendTemplate(p),l.$.template){const S=document.createElement("div");S.classList.add("smart-template-container"),l.$.templateContainer=S,l.$.template.parentNode.insertBefore(S,l.$.template),l.refreshTemplate()}}refreshTemplate(){const l=this;if(!l.$.templateContainer)return;l.templateDetached(l.$.templateContainer);const p=l.$.template.content.cloneNode(!0);l.templateBindings=l.getBindings(p),l.templateProperties=[];let f=document.createDocumentFragment();const g=function(b,w,S){for(let D in b){const $=b[D],H=$.node.cloneNode();w.appendChild(H);let F=[],M=!1;if($.data)for(let N in $.data){const R=$.data[N],W=R.name;if(l.templateProperties[W]=!0,H.removeAttribute(E.Core.toDash(N)),"*items"===N)F=l[W],M=!0;else if(W.indexOf("item.")>=0&&void 0!==S)R.value=S[W.substring(5)],H[N]=R.value;else if(W.indexOf("item")>=0&&void 0!==S)R.value=S,H[N]=R.value;else if("*if"===N)if(W.indexOf("(")>=0){let Y,X=W.substring(W.indexOf("("));const ee=W.substring(0,W.indexOf("("));if(X=X.substring(1,X.length-1),X=X.replace(/ /gi,""),X=X.split(","),X.length>0&&""!==X[0]){let te=[];for(let j=0;j<X.length;j++)te.push(l[X[j]]);Y=l[ee].apply(l,te)}else Y=l[ee]();!1===Y&&w.removeChild(H)}else l[W]||w.removeChild(H);else l.updateBoundNode(H,$,l,W)}if(F.length>0||M){for(let N=0;N<F.length;N++)$.children&&g($.children,H,F[N]);if("number"==typeof F)for(let N=0;N<F;N++)$.children&&g($.children,H,N)}else $.children&&g($.children,H,S)}};g(l.templateBindings.children,f),l.$.templateContainer.innerHTML="",l.$.templateContainer.appendChild(f),l.templateAttached(l.$.templateContainer)}templateAttached(){}templateDetached(){}appendTemplate(l){this.appendChild(l)}defineElementModules(){const l=this,p=l.constructor.prototype;if("BaseElement"===p.elementName){p.modules=l.constructor.modules;const f=p.modules;for(let g=0;g<f.length;g+=1)l.addModule(f[g])}else{const f=p.modules;if(!f)return;for(let g=0;g<f.length;g+=1){const b=f[g],w=b.prototype;l.defineElementMethods(w.methodNames,w),l.defineElementProperties(b.properties)}}}watch(l,p){this._watch=null!==l&&null!==p?{properties:l,propertyChangedCallback:p}:null}unwatch(){this._watch=null}set(l,p,f){const g=this,b=g.context;g.context=!0===f?document:g,g[l]=p,g.context=b}get(l){return this[l]}_setModuleState(l,p){const f=this,g="is"+l.substring(0,1).toUpperCase()+l.substring(1),b="on"+l.substring(0,1).toUpperCase()+l.substring(1);for(let w=0;w<f.modulesList.length;w++){const S=f.modulesList[w];S[g]=!0,S[l]&&S[l](p),S[b]&&S[b](p)}}addModule(l,p){const f=this;if(!l)return;const g=f.modules.slice(0),b=l.prototype,w=Object.getPrototypeOf(l);if(w.name&&w.name!==l.name&&f.addModule(w),!l.moduleName&&l.name&&(l.moduleName=l.name),-1===g.findIndex(S=>l.moduleName===S.moduleName)&&g.push(l),f.defineModule(l),f.defineElementMethods(b.methodNames,b),f.defineElementProperties(l.properties),f.constructor.prototype.modules=g,p)for(let S in Smart.Elements.tagNames){const D=Smart.Elements.tagNames[S];let $=Object.getPrototypeOf(D),H=[];for(;$!==HTMLElement;)H.push($.prototype),$=Object.getPrototypeOf($);H.indexOf(f)>=0&&D!==f&&D.prototype.addModule(l)}}defineModule(l){if(l.isDefined)return;l.prototype._initModule=function(b){this.ownerElement=b};const p=l.properties||{},f=Object.keys(p),g=Object.getOwnPropertyNames(l.prototype);l.prototype.methodNames=g;for(let b=0;b<f.length;b+=1){const w=f[b],S=p[w];Object.defineProperty(l.prototype,w,{configurable:!1,enumerable:!0,get(){return this.ownerElement?this.ownerElement[w]:S.value},set(D){this.ownerElement[w]=D}})}l.isDefined=!0}getStaticMember(l,p){const f=window[n][this.elementName],g=f[l];p||(p="");let b="array"===p?[]:"string"===p?"":{},w=Object.getPrototypeOf(f),S=[];for(;w[l];)S.push(w[l]),w=Object.getPrototypeOf(w);for(let D=S.length-1;D>=0;D--)if("array"===p)for(let $=0;$<S[D].length;$++)-1===b.indexOf(S[D][$])&&b.push(S[D][$]);else"string"===p?-1===b.indexOf(S[D])&&(b+=S[D]):b=E.Core.assign(b,S[D]);if("array"===p){for(let D=0;D<g.length;D++)-1===b.indexOf(g[D])&&b.push(g[D]);return b}return"string"===p?(-1===b.indexOf(g)&&(b+=g),b):E.Core.assign(b,g)}defineElementHierarchicalProperties(l,p){const g=[];(function(b){const w=Object.keys(b);for(let S=0;S<w.length;S++){const D=w[S];if("messages"===D)continue;const $=b[D],H=Object.keys($),F=H.indexOf("value")>=0&&H.indexOf("type")>=0&&"object"==typeof $.value;if("propertyObject"===$.type||F){const M=function(N,R){if(!N.value)return;const W=Object.keys(N.value);for(let Y=0;Y<W.length;Y++){const X=W[Y],ee=N.value[X],te=R+"_"+X;if("object"!=typeof ee||null===ee)break;const j=Object.keys(ee);if(!(j.indexOf("value")>=0&&j.indexOf("type")>=0))break;if("array"!==N.type&&(N.isHierarchicalProperty=!0),ee.parentPropertyName=R,p){const K=p._properties[te];if(N.value.hasOwnProperty(X)){if(K.isDefined)continue;delete N.value[X]}K.isDefined=!0,Object.defineProperty(N.value,X,{configurable:!1,enumerable:!0,get:()=>p._properties[te].value,set(V){p.updateProperty(p,p._properties[te],V)}})}g[te]||(g[te]=ee,g.length++),("propertyObject"===ee.type||"object"==typeof ee.value&&"array"!==ee.type)&&M(p?p._properties[te]:ee,te)}};M($,D)}}})(l),g.length>0&&!p&&this.defineElementProperties(g)}defineElement(){const l=this,p=l.constructor.prototype,f=l.getStaticMember("properties"),g=Object.getOwnPropertyNames(p);p.extendedProperties={},p.boundProperties={},p.templateListeners={},l.defineElementModules(),l.defineElementMethods(g,p),l.defineElementProperties(f),l.defineElementHierarchicalProperties(l.extendedProperties),p._initElement=function(){const b=this,w=p.extendedProperties,S=Object.keys(w),D=b.modules;b.$=E.Extend(b),b.$document=A,b.smartId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),b.isCreated||(b.modulesList=[],b._properties=[],b._beforeCreatedProperties&&(b._properties=b._beforeCreatedProperties,delete b._beforeCreatedProperties),b.detachedChildren=[],b.propertyByAttributeName=[]);for(let $=0;$<D.length;$+=1){let H=new D[$];H._initModule(b),b.modulesList.push(H)}for(let $=0;$<S.length;$+=1){const H=S[$],F=w[H];let M=F.value;if(b._properties[H]){if(void 0!==b._properties[H].notify)continue;delete b._properties[H]}if(U&&"innerHTML"===H&&delete b[H],-1===window.navigator.userAgent.indexOf("PhantomJS")&&b.hasOwnProperty(H)&&(M=b[H],delete b[H]),"array"===F.type&&null!=M&&(M=M.slice(0)),"object"===F.type&&null!=M&&(M=Array.isArray(M)?M.slice(0):Object.assign({},M)),b._properties[H]={name:H,notify:F.notify,allowedValues:F.allowedValues,type:F.type,nullable:F.nullable,reflectToAttribute:F.reflectToAttribute,defaultReflectToAttribute:F.defaultReflectToAttribute,defaultReflectToAttributeConditions:F.defaultReflectToAttributeConditions,value:M,readOnly:F.readOnly,defaultValue:M,attributeName:F.attributeName,observer:F.observer,inherit:F.inherit,extend:F.extend,validator:F.validator},b.propertyByAttributeName[F.attributeName]=b._properties[H],!F.hasOwnProperty("type")){const R=b.localize("propertyUnknownType",{name:H});b.log(R)}if("any"===F.type||"propertyObject"===F.type)continue;const N=E.Types.getType(M);if(null!=M&&F.type!==N&&!F.validator){if("object"===F.type&&"array"===N||"number"===N&&["integer","int","float"].findIndex(W=>W===F.type)>=0)continue;const R=b.localize("propertyInvalidValueType",{name:H,actualType:N,type:F.type});b.log(R)}}b.defineElementHierarchicalProperties(b._properties,b),b.isCreated=!0},p.registered()}defineElementMethods(l,p){const f=this.constructor.prototype,g=function(w,S){const D=Array.prototype.slice.call(arguments,2);return function(){if(!this.isReady&&"localize"!==S&&"localize"!==S&&"cloneNode"!==S&&"importStyle"!==S&&"log"!==S&&"parseAttributes"!==S){const Y=this.localize("elementNotInDOM");this.log(Y)}let H=this;for(let Y=0;Y<this.modulesList.length;Y++){let X=this.modulesList[Y];if(S in X){H=X;break}}const F=this.context,M=D.concat(Array.prototype.slice.call(arguments));let N=null;const R=function(Y,X){return Y===X||"number"===Y&&("int"===X||"integer"===X||"float"===X)||"bool"===Y&&"boolean"===X||"boolean"===Y&&"bool"===X||"object"===Y&&"any"===X||void 0};if(this.methods){const Y=this.methods[S];if(Y){const X=Y.split(":");N=X[X.length-1].trim();const ee=[],te=Y.substring(1+Y.indexOf("("),Y.lastIndexOf(")")).split(",");let j="";for(let V=0;V<te.length;V++){const ne=te[V];j+=ne,ne.indexOf(":")>=0?(ee.push(j),j=""):j+=","}let K=ee.length;for(let V=0;V<ee.length;V++){const ne=ee[V].trim().split(":"),ae=ne[0].split("=")[0].trim().indexOf("?")>=0,oe=ne[1].indexOf("?")>=0,le=ne[1].replace(/\?/gi,"").trim(),se=le.split("|");let Q=ne[0].split("=")[1];const de=E.Types.getType(M[V]);if(void 0===M[V]&&Q){switch(Q=Q.trim(),le[0]){case"date":{let ie=Q.substring(Q.indexOf("(")+1,Q.lastIndexOf(")"));ie=ie.length>0?ie.split(",").map(re=>parseInt(re)):[],Q=0===ie.length?new Date:new Date(ie[0],ie[1],ie[2]);break}case"bool":case"boolean":Q="true"===Q||"1"===Q;break;case"int":case"integer":Q=parseInt(Q);break;case"float":case"number":Q=parseFloat(Q);break;case"any":case"object":Q=Q.indexOf("{")>=0?JSON.parse(Q):Q}M.push(Q)}else ae&&K--;if(le!==de&&de){let ie=!0;for(let re=0;re<se.length;re++)if(R(de,se[re])){ie=!1;break}if(ie&&(null!==M[V]||!oe)){const re=this.localize("methodInvalidValueType",{name:S,actualType:de,type:le,argumentIndex:V});this.log(re)}}if(M.length<K){const ie=this.localize("methodInvalidArgumentsCount",{name:S,actualArgumentsCount:M.length,argumentsCount:K});this.log(ie)}}}}this.context=this;const W=w.apply(H,M);if(N){const Y=void 0===E.Types.getType(W)?"void":E.Types.getType(W);if(!R(Y,N)){const X=this.localize("methodInvalidReturnType",{name:S,actualType:Y,type:N});this.log(X)}}return this.context=F,W}},b=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"];for(let w in l){let S=l[w];S&&S.startsWith&&S.startsWith("_")||void 0!==b.find(D=>D===S)||f.extendedProperties[S]||E.Types.isFunction(p[S])&&(f[S]=g(p[S],S))}}defineElementProperties(l){if(!l)return;const p=this,f=p.constructor.prototype,g=Object.keys(l),b=p.getStaticMember("properties");Object.assign(f.extendedProperties,l),p.updateProperty=function(w,S,D){const $=w;if(!S||S.readOnly)return;if(S.allowedValues){let M=!1;for(let N=0;N<S.allowedValues.length;N++)if(S.allowedValues[N]===D){M=!0;break}if(!M){const N=JSON.stringify(S.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),W=$.localize("propertyInvalidValue",{name:S.name,actualValue:"'"+D+"'",value:N});return void $.log(W)}}const H=S.name,F=$._properties[H].value;if(S.validator&&$[S.validator]){const M=$.context;$.context=$;const N=$[S.validator](F,D);void 0!==N&&(D=N),$.context=M}if(F!==D){if($.propertyChanging){const M=$.propertyChanging(H,F,D);if(!1===M||null===M)return}if(!S.hasOwnProperty("type")){const M=$.localize("propertyUnknownType",{name:H});$.log(M)}if("array"!==S.type||JSON.stringify(F)!==JSON.stringify(D)){if(null!=D&&"any"!==S.type&&"propertyObject"!==S.type&&S.type!==E.Types.getType(D)&&!S.validator||null===D&&!S.nullable){let M=!0;if("object"===S.type&&"array"===E.Types.getType(D)&&(M=!1),"number"===E.Types.getType(D)&&["integer","int","float"].findIndex(N=>N===S.type)>=0&&(M=!1),M){const N=$.localize("propertyInvalidValueType",{name:H,actualType:E.Types.getType(D),type:S.type});return void $.error(N)}}if(S.isUpdating=!0,S.isHierarchicalProperty){const M=function(N,R){if(!N)return;const W=Object.keys(N);for(let Y=0;Y<W.length;Y++){const X=W[Y],ee=N[X];"object"==typeof ee&&!E.Types.isArray(ee)&&ee&&ee.constructor!==Date?M(ee,R+"_"+X):$[R+"_"+X]=ee}};M(D,H)}else $._properties[H].value=D;if(!S.isUpdatingFromAttribute&&S.reflectToAttribute&&$.$.setAttributeValue(S.attributeName,D,S.type),$.isReady&&(!$.ownerElement||$.ownerElement&&$.ownerElement.isReady)){if("wait"===H&&(D||!F||$.isCompleted||($.classList.remove("smart-visibility-hidden"),$.ownerElement&&$.ownerElement.updateBoundMappedNodes(),$.updateBoundMappedNodes(),$.complete())),"renderMode"===H)return;if($.context!==$&&!$.wait){const N=$.context;$.context=$,$.propertyChangedHandler(H,F,D),$.context=N,S.observer&&$[S.observer]&&($.context=$,$[S.observer](F,D),$.context=document),$._watch&&$._watch.properties.indexOf(H)>=0&&$._watch.propertyChangedCallback(H,F,D)}const M=S.notify||$.boundProperties[H];M&&($.$.fireEvent(S.attributeName+"-changed",{context:$.context,oldValue:F,value:$[H]}),$.boundProperties[H]&&$.updateBoundNodes(H)),M&&$.templateProperties&&$.templateProperties[H]&&$.refreshTemplate(),$.dataContextProperties&&("dataContext"===H?$.applyDataContext():$.dataContextProperties[H]&&$.updateDataContextProperty(H))}S.isUpdating=!1}}};for(let w=0;w<g.length;w+=1){const S=g[w],D=l[S],$=E.Core.toDash(S),H=D.type||"any",F=H.indexOf("?")>=0||"any"===H;F&&"any"!==H&&(D.type=H.substring(0,H.length-1)),D.nullable=F,D.attributeName=$.toLowerCase(),D.name=S,D.reflectToAttribute=void 0===D.reflectToAttribute||D.reflectToAttribute,D.inherit&&b[S]&&(D.value=b[S].value),D.extend&&b[S]&&E.Core.assign(D.value,b[S].value),f.hasOwnProperty(S)||Object.defineProperty(f,S,{configurable:!1,enumerable:!0,get(){if(this._properties[S])return this._properties[S].value},set(M){const N=this;N.updateProperty(N,N._properties[S],M)}})}}}let B=[],O=[],P=[],U=!1;const J=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);J&&parseInt(J[2],10)<=50&&(U=!0);class q{static register(l,p){const f=p.prototype;let g=s.toCamelCase(l).replace(/[a-z]+/,""),b=p.version||window[n].Version;if(window.customElements.get(l)&&window.customElements.get(l).version===b)return;let w=l;for(b=b.split(".");window.customElements.get(l);)l=w+"-"+b.join("."),b[2]=parseInt(b[2])+1;if(!B[l]){if(l.startsWith(n.toLowerCase()))B[l]=window[n][g]=window[n.toLowerCase()+g]=p;else{let S=l.split("-")[0];S=S.substring(0,1).toUpperCase()+S.substring(1),window[n][S]||(window[n][S]={}),B[l]=window[n][S][g]=window[S.toLowerCase()+g]=p,window[n][g]&&(g=s.toCamelCase(l)),window[n][g]=p}f.elementName=g,f.defineElement(),O[l]&&O[l](f),window.customElements.define(l,p)}}static registerElements(){const l=this;if(l.toRegister){l.isRegistering=!0;for(let p=0;p<l.toRegister.length;p++){const f=l.toRegister[p];l.register(f.tagName,f.element)}l.isRegistering=!1}}static get(l){if(B[l])return B[l]}static whenRegistered(l,p){if(!l)throw new Error("Syntax Error: Invalid tag name");const f=O[l],g=this.get(l),b=g?g.modules.length:3;try{f||g?!f&&g?(p(g.prototype),O[l]=void 0):f&&!g?O[l]=function(w){f(w),p(w)}:f&&g&&(g.proto&&(f(g.proto),p(g.proto)),O[l]=void 0):O[l]=function(w){try{p(w)}catch(S){const D=S instanceof Error?S.message:S.toString();console.log(D)}}}catch(w){const S=w instanceof Error?w.message:w.toString();console.log(S)}if(g&&b!==g.prototype.modules.length){const w=document.querySelectorAll(l);for(let S=0;S<w.length;S++){const D=w[S];D.isCreated&&D._initElement()}}}}q.lazyRegister=!1,q.tagNames=[];class G{constructor(){const l=this;l.name="observableArray",l.observables=arguments.length<3?null:arguments[2];const p=new Proxy(l,{deleteProperty:function(f,g){return delete f[g],!0},apply:function(f,g,b){return f.apply(g,b)},get:function(f,g){return"symbol"==typeof(b=g)||"object"==typeof b&&"[object Symbol]"===Object.prototype.toString.call(b)||f[g]||isNaN(parseInt(g))?f[g]:l.getItem(parseInt(g));var b},set:function(f,g,b){return f[g]||isNaN(parseInt(g))?(f[g]=b,!0):(l.setItem(parseInt(g),b),!0)}});if(l._addArgs={eventName:"change",object:p,action:"add",index:null,removed:new Array,addedCount:1},l._removeArgs={eventName:"change",object:p,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){l._array=[];const f=arguments[0];for(let g=0,b=f.length;g<b;g++){const w=l._getItem(l._array.length,f[g]);l._array.push(w)}}else l._array=Array.apply(null,arguments);return 2===arguments.length&&(l.notifyFn=arguments[1]),p}get canNotify(){const l=this;return void 0===l._canNotify&&(l._canNotify=!0),l._canNotify}set canNotify(l){this._canNotify=l}_notify(l){const p=this;p.canNotify&&p.notifyFn&&p.notifyFn(l)}notify(l){l&&(this.notifyFn=l)}toArray(){return this._array}_getItem(l,p){const f=this;return"string"==typeof p||"number"==typeof p||void 0===p?p:new Proxy(p,{deleteProperty:function(g,b){return delete g[b],!0},set:function(g,b,w){const S=g[b];return g[b]=w,!f._canNotify||!1===g.canNotify||(f.observables&&!f.observables[b]||f._notify({eventName:"change",object:f,target:g,action:"update",index:l,path:l+"."+b,oldValue:S,newValue:w,propertyName:b}),!0)}})}getItem(l){return this._array[l]}setItem(l,p){const f=this,g=f._array[l];f._array[l]=f._getItem(l,p),f._notify({eventName:"change",object:f._array,action:"update",index:l,removed:[g],addedCount:1})}get length(){return this._array.length}set length(l){const p=this;i.isNumber(l)&&p._array&&p._array.length!==l&&p.splice(l,p._array.length-l)}toString(){return this._array.toString()}toLocaleString(){return this._array.toLocaleString()}concat(){const l=this;l._addArgs.index=l._array.length;const p=l._array.concat.apply(l._array,arguments);return new Smart.ObservableArray(p)}join(l){return this._array.join(l)}pop(){const l=this;l._removeArgs.index=l._array.length-1,delete l[l._array.length-1];const p=l._array.pop();return l._removeArgs.removed=[p],l._notify(l._removeArgs),l._notifyLengthChange(),p}push(){const l=this;if(l._addArgs.index=l._array.length,1===arguments.length&&Array.isArray(arguments[0])){const p=arguments[0];for(let f=0,g=p.length;f<g;f++){const b=l._getItem(l._array.length,p[f]);l._array.push(b)}}else{const p=l._getItem(l._addArgs.index,arguments[0]);l._array.push.apply(l._array,[p])}return l._addArgs.addedCount=l._array.length-l._addArgs.index,l._notify(l._addArgs),l._notifyLengthChange(),l._array.length}_notifyLengthChange(){const l=this;if(!l.canNotify)return;const p=l._createPropertyChangeData("length",l._array.length);l._notify(p)}_createPropertyChangeData(l,p,f){return{eventName:"change",object:this,action:l,value:p,oldValue:f}}reverse(){return this._array.reverse()}shift(){const l=this,p=l._array.shift();return l._removeArgs.index=0,l._removeArgs.removed=[p],l._notify(l._removeArgs),l._notifyLengthChange(),p}slice(l,p){return this._array.slice(l,p)}sort(l){return this._array.sort(l)}splice(l,p,f){const g=this,b=g._array.length;let w;if(f&&f.length)for(let S=0;S<f.length;S++)w=g._array.splice(l+S,p,f[S]);else w=g._array.splice.apply(g._array,arguments);if(f){let S=g.canNotify;if(g.canNotify=!1,f.length)for(let D=0;D<f.length;D++)g.setItem(l+D,f[D]);else g.setItem(l,f);g.canNotify=S,g._notify({eventName:"change",object:this,action:"add",index:l,added:w,addedCount:g._array.length>b?g._array.length-b:0})}else g._notify({eventName:"change",object:this,action:"remove",index:l,removed:w,addedCount:g._array.length>b?g._array.length-b:0});return g._array.length!==b&&g._notifyLengthChange(),w}unshift(){const l=this,p=l._array.length,f=l._array.unshift.apply(l._array,arguments);return l._addArgs.index=0,l._addArgs.addedCount=f-p,l._notify(this._addArgs),l._notifyLengthChange(),f}indexOf(l,p){const f=this;for(let g=p||0,b=f._array.length;g<b;g++)if(f._array[g]===l)return g;return-1}lastIndexOf(l,p){const f=this;for(let g=p||f._array.length-1;g>=0;g--)if(f._array[g]===l)return g;return-1}find(l,p){return this._array.find(l,p)}findIndex(l,p){return this._array.findIndex(l,p)}every(l,p){return this._array.every(l,p)}some(l,p){return this._array.some(l,p)}forEach(l,p){this._array.forEach(l,p)}map(l,p){return this._array.map(l,p)}filter(l,p){return this._array.filter(l,p)}reduce(l,p){return void 0!==p?this._array.reduce(l,p):this._array.reduce(l)}reduceRight(l,p){return void 0!==p?this._array.reduceRight(l,p):this._array.reduceRight(l)}move(l,p){this.splice(p,0,this.splice(l,1)[0])}}let T={};window[n]&&(T=window[n]),window[n]=function(v,l){let p=v;if(v){if(v.indexOf("#")>=0||v.indexOf(".")>=0)return m[v]?m[v]:l?(m[v]=new l,function(f,g){const b=g.properties;g._properties=[];const w=function(D,$){const H=Object.keys(D);for(let F=0;F<H.length;F++){const M=H[F],N=D[M];g._properties[$+M]=N,Array.isArray(N)?g._properties[$+M]=new G(N,function(R){const W=M+"."+R.path,Y=R.newValue,X=document.querySelector(f);if(X){const ee=W.split(".");let te=X;for(let j=0;j<ee.length;j++)te=te[ee[j]];te=Y}}):(Object.defineProperty(D,M,{configurable:!1,enumerable:!0,get:()=>g._properties[$+M],set(R){g._properties[$+M]=R}}),N&&"DataAdapter"===N.constructor.name||N&&"object"==typeof N&&Smart.DataAdapter&&N instanceof Smart.DataAdapter||"object"==typeof N&&N&&Object.keys(N).length>0&&w(N,$+M+"."))}};w(b,""),Object.defineProperty(g,"properties",{configurable:!1,enumerable:!0,get:()=>b});const S=document.querySelector(f);if(S&&S.isReady)for(let D in b)S[D]=b[D];else if(S){S.props={};for(let D in b)S.props[D]=b[D]}}(v,m[v]),m[v]):void 0;if(l){if(q.tagNames[v]=l,q.lazyRegister){q.toRegister||(q.toRegister=[]);const f=s.toCamelCase(p).replace(/[a-z]+/,"");return window[n][f]=l,void q.toRegister.push({tagName:p,element:l})}q.register(p,l)}}},window.addEventListener("load",function(){const v=window[n].Elements.tagNames;let l=[];for(let p in v){const f=v[p];let g=document.querySelectorAll("["+p+"]");for(let w=0;w<g.length;w++){const S=g[w];S instanceof HTMLDivElement&&(S.__proto__=f.prototype,S.created(),S.connectedCallback()),S.classList.add("smart-element-ready")}let b=f.name;"Item"===b&&(b="ListItem"),g=document.querySelectorAll('[is="'+n.toLocaleLowerCase()+b+'"]');for(let w=0;w<g.length;w++)l.push(g[w])}if(l.length>0){const p=f=>{let g=[],b=f.parentNode;for(;b&&9!==b.nodeType;)b instanceof HTMLElement==1&&g.push(b),b=b.parentNode;return g};l.sort(function(f,g){let b=p(f).length,w=p(g).length;return b<w?1:b>w?-1:0});for(let f=0;f<l.length;f++){const g=l[f],b=g.getAttribute("is");let w;w="smartItem"===b?new window.smartListItem(g):new window[b](g),w.removeAttribute("is")}}});const z=function(){if("complete"===document.readyState&&"manual"!==window[n].RenderMode){P.sort(function(v,l){let p=v.element.parents.length,f=l.element.parents.length;return p<f?-1:p>f?1:0});for(let v=0;v<P.length;v++)window[n].RenderMode="",P[v].element.isLoading=!1,P[v].callback(),window[n].RenderMode="";P=[],document.removeEventListener("readystatechange",z)}};Object.assign(window[n],{Elements:q,Modules:[],BaseElement:class extends k{static get observedAttributes(){let v=this,l=["external-style"];for(let p in v.prototype.extendedProperties)l.push(v.prototype.extendedProperties[p].attributeName);return l}static get styleUrls(){return[]}static get styles(){return""}get styleUrl(){return this._styleUrl}set styleUrl(v){this._styleUrl=v}get isInShadowDOM(){const v=this,l=v.getRootNode();return!v.hasAttribute("smart-blazor")&&l!==document&&l!==v}getShadowRootOrBody(){const v=this;return v.isInShadowDOM&&v.getRootNode().host?v.getRootNode().host.shadowRoot:document.body}get enableShadowDOM(){return window[n].EnableShadowDOM}importStyle(v,l){this._importStyle(v,l)}_importStyle(v,l){const p=this;if(!p.shadowRoot||!v)return;const f=w=>{const S=p.shadowRoot.children;for(let $=0;$<S.length;$++){const H=S[$];if(H instanceof HTMLLinkElement&&H.href===w)return l&&l(),null}const D=document.createElement("link");return D.rel="stylesheet",D.type="text/css",D.href=w,D.onload=l,D},g=(()=>{const w=p.shadowRoot.children;let S=null;for(let D=0;D<w.length;D++){const $=w[D];$ instanceof HTMLLinkElement&&(S=$)}return S})(),b=(w,S)=>{S.parentNode.insertBefore(w,S.nextSibling)};if(Array.isArray(v)){const w=document.createDocumentFragment();for(let S=0;S<v.length;S++){const D=f(v[S]);D&&w.appendChild(D)}g?b(w,g):p.shadowRoot.insertBefore(w,p.shadowRoot.firstChild)}else{const w=f(v);if(!w)return;g?b(w,g):p.shadowRoot.insertBefore(w,p.shadowRoot.firstChild)}}attributeChanged(v,l,p){"style-url"===v&&(this.styleUrl=p)}attributeChangedCallback(v,l,p){this.isReady&&super.attributeChangedCallback(v,l,p)}constructor(v,l){super();const p=this;if(v){l&&(p._initProperties=l);const f=g=>{if("string"==typeof g?document.querySelector(g):g){const b="string"==typeof g?document.querySelector(g):g;if(b instanceof HTMLDivElement){const w=document.createElement(p.tagName);for(let S of b.attributes)w.setAttribute(S.name,b.getAttribute(S.name));for(;b.childNodes.length;)w.appendChild(b.firstChild);return"string"==typeof g&&(w.id=g.substring(1)),w._initProperties=l,b.parentNode&&b.parentNode.replaceChild(w,b),w}if(l){const w=b.context;if(b._initProperties=l,b.isReady){b.context=b;const S={},D={};for(let $ in l)S[$]=b[$],D[$]=l[$];Object.getOwnPropertyNames(l).length>0&&(b.initProperties(),b.propertyChangedHandler(l,S,D)),b.context=w}}return b}};if("string"==typeof v){const g=document.querySelectorAll(v),b=[];if(g.length>1){for(let w=0;w<g.length;w++){const S=f(g[w]);b.push(S)}return b}}else if(v&&v.length>0){const g=v;if(g.length>1){for(let b=0;b<g.length;b++){const w=f(g[b]);B.push(w)}return B}}return f(v)}p._styleUrl="",p.isUtilityElement||p.created()}_getRootShadowParent(){let v=this.shadowParent;for(;v;){if(!v.shadowParent)return v;v=v.shadowParent}return v||this.shadowParent}_getStyleUrl(v){let l=E.Core.getScriptLocation()+window[n].StyleBaseUrl+v;return this.shadowParent&&(l=l.replace("scoped/","")),l}_getStyleUrls(){const v=this;v.nodeName.startsWith(n);const l=v.getStaticMember("styleUrls","array"),p=[];for(let f=0;f<l.length;f++){const b=v._getStyleUrl(l[f]);p.push(b)}return p}_setupShadowRoot(){const v=this;v.classList.add("smart-element-init");const l=p=>{p.$.root&&(p.$.root.classList.add(n.toLowerCase()+"-element"),p.$.root.classList.add(v.nodeName.toLowerCase())),p.setup(),p.classList.remove("smart-element-init")};if(document.adoptedStyleSheets)if(window[n].AdoptedStyleSheets)window[n].AdoptedStyleSheetsLoaded?(v.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets,l(v)):(v.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets,window[n].AdoptedStyleSheetsLoadedQueue||(window[n].AdoptedStyleSheetsLoadedQueue=[]),window[n].AdoptedStyleSheetsLoadedQueue.push(v));else{const p=new CSSStyleSheet;let f=E.Core.getScriptLocation()+"/styles/smart.default.css";p.replace('@import url("'+f+'")').then(()=>{if(l(v),window[n].AdoptedStyleSheetsLoaded=!0,window[n].AdoptedStyleSheetsLoadedQueue){const g=window[n].AdoptedStyleSheetsLoadedQueue;for(let b=0;b<g.length;b++)l(g[b]);delete window[n].AdoptedStyleSheetsLoadedQueue}}).catch(g=>{console.error("Failed to load:",g)}),window[n].AdoptedStyleSheets=[p],document.adoptedStyleSheets=[p],v.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets}}connect(){const v=this;window[n].EnableShadowDOM&&!v.shadowRoot&&!0!==v.isInShadowDOM&&(v.attachShadow({mode:"open"}),v.shadowRoot&&v.$.root&&(v.shadowRoot.appendChild(v.$.root),v.$.root.classList.add(v.nodeName.toLowerCase()))),v.shadowRoot||v.shadowParent?v.shadowRoot?v._setupShadowRoot():(v.shadowParent&&window,v.setup()):v.setup()}connectedCallback(){const v=this;if(v.isLoading||v.isUtilityElement)return;v.classList.add("smart-element-init");const l=function(){v.classList.remove("smart-element-init")};if("complete"===document.readyState&&(void 0===window[n].isAngular&&(window[n].isAngular=null!==document.body.querySelector("[ng-version]")),window[n].isAngular))for(let p=0;p<v.parents.length&&!v.parents[p].nodeName.toLowerCase().startsWith(n.toLowerCase()+"-");p++)if(v.parents[p].hasAttribute("ng-version")&&!v.classList.contains("smart-angular")){window[n].RenderMode="manual";break}if("complete"===document.readyState&&"manual"!==window[n].RenderMode){const p=v.parents;p.length&&"HTML"===p[p.length-1].nodeName||v.getRootNode().host?(v.checkIsInDomTimer&&clearInterval(v.checkIsInDomTimer),l(),v.connect()):(v.checkIsInDomTimer&&clearInterval(v.checkIsInDomTimer),p.length>0&&(v.checkIsInDomTimer=setInterval(()=>{const f=v.parents;0===f.length&&clearInterval(v.checkIsInDomTimer),f.length>0&&"HTML"===f[f.length-1].nodeName&&(clearInterval(v.checkIsInDomTimer),l(),v.connect())},100)))}else v.isLoading=!0,P.push({element:this,callback:function(){this.isReady||(l(),this.connect())}.bind(v)})}disconnectedCallback(){const v=this;v.isAttached?(v.shadowParent=null,v.detached()):v._resetShadowParent()}adoptedCallback(){this.setup()}appendTemplate(v){const l=this;l.shadowRoot?l.shadowRoot.appendChild(v):l.appendChild(v)}_resetShadowParent(){const v=this;if(!window[n].EnableShadowDOM||null===v.shadowParent)return;const l=[];let p=v.parentNode;for(;p&&9!==p.nodeType;){if(p instanceof HTMLElement==1)l.push(p);else if(11===p.nodeType&&p.host){p=p.host;continue}p=p.parentNode}for(let f=0;f<l.length;f++)if(l[f]===v.shadowParent)return;l.length>0&&"HTML"===l[l.length-1].nodeName&&(v.shadowParent=null)}},Utilities:E,Import:function(v,l){let p=0;const f=function(g,b){return new Promise(w=>{const S=document.createElement("script");S.src=g,S.onload=w;for(let D=0;D<document.head.children.length;D++){const $=document.head.children[D];if($.src&&$.src.toString().indexOf(b)>=0)return void w()}document.head.appendChild(S)})};return new Promise(g=>{const b=E.Core.getScriptLocation(),w=function(S){v[S]&&f(b+"/"+v[S],v[S]).then(function(){p++,p===v.length&&g(),w(S+1)})};if(l)for(let S=0;S<v.length;S++)f(b+"/"+v[S],v[S]).then(function(){p++,p===v.length&&g()});else w(0)})},ObservableArray:G,Observable:class{constructor(v,l){const p=this;var f;return this.name="observable",v&&Object.assign(p,v),f=v,Object.getOwnPropertyNames(Object.getPrototypeOf(f)).forEach(g=>"constructor"===g||!!g.startsWith("_")||void(p[g]=f[g])),new Proxy(p,{deleteProperty:function(g,b){return delete g[b],!0},get:function(g,b){return g[b]},set:function(g,b,w){const S=g[b];return S===w||(g[b]=w,!("notifyFn"!==b&&!b.startsWith("_")&&"canNotify"!==b&&(!l||-1!==l.indexOf(b))&&p.canNotify&&(p._notify({target:g,propertyName:b,oldValue:S,newValue:w}),0)))}})}get canNotify(){const v=this;return void 0===v._canNotify&&(v._canNotify=!0),v._canNotify}set canNotify(v){this._canNotify=v}_notify(v){const l=this;if(l.canNotify&&l.notifyFn)for(let p=0;p<l.notifyFn.length;p++)l.notifyFn[p](v)}notify(v){const l=this;v&&(l.notifyFn||(l.notifyFn=[]),l.notifyFn.push(v))}},Component:class{constructor(v,l){const p=this.name;let f=null;return v?f=new window[p](v,l):(f=new window[p],f._initProperties=l),this._element=f,f}get name(){return"Component"}get element(){return this._element}},Theme:T.Theme||"",EnableShadowDOM:T.ShadowDom||!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:t,Templates:e,RenderMode:T.RenderMode||"auto",Render:function(){const v=()=>{window[n].RenderMode="",z()};"complete"===document.readyState?v():(window.removeEventListener("load",v),window.addEventListener("load",v))},Data:m,Mode:T.Mode||"production",License:T.License||"Evaluation"});let Z=window[n].Theme;"manual"!==window[n].RenderMode&&document.addEventListener("readystatechange",z),Object.defineProperty(window[n],"Theme",{configurable:!1,enumerable:!0,get:()=>Z,set(v){const l=Z;Z=v,A.fireEvent("theme-changed",{oldValue:l,newValue:v},{bubbles:!0,cancelable:!0})}}),window[n]("smart-base-element",window[n].BaseElement),window[n]("smart-content-element",class extends window[n].BaseElement{static get properties(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}template(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}ready(){super.ready(),this.applyContent()}refresh(){}clearContent(){const v=this;for(;v.$.content.firstChild;)v.$.content.removeChild(v.$.content.firstChild)}applyContent(){const v=this;if(void 0===v.content)return void(v.content=v.$.content);if(""===v.content||null===v.content)return void v.clearContent();if(v.content instanceof HTMLElement)return v.clearContent(),void v.$.content.appendChild(v.content);const l=document.createDocumentFragment();let p=document.createElement("div");l.appendChild(p),v.content instanceof HTMLElement?p.appendChild(v.content):p.innerHTML=v.content;let f=Array.from(p.childNodes);p.parentNode.removeChild(p);for(let g=0;g<f.length;g++)l.appendChild(f[g]);v.clearContent(),v.$.content.appendChild(l)}propertyChangedHandler(v,l,p){super.propertyChangedHandler(v,l,p);const f=this;l!==p&&("innerHTML"===v&&(f.content=p,f.applyContent(),f.innerHTML=f.content=E.Core.html(f.$.content)),"content"===v&&f.applyContent())}}),window[n]("smart-scroll-viewer",class extends window[n].ContentElement{static get properties(){return{autoRefresh:{type:"boolean",value:!1},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}static get styleUrls(){return["smart.scrollviewer.css"]}template(){return'<div id="container" class="smart-container" role="presentation">\n                        <div id="scrollViewerContainer" class="smart-scroll-viewer-container" role="presentation">\n                            <div id="scrollViewerContentContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-scroll-viewer-content-container" role="presentation">\n                                <content></content>\n                            </div>\n                        </div>\n                        <smart-scroll-bar id="verticalScrollBar" theme="[[theme]]"  animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></smart-scroll-bar>\n                        <smart-scroll-bar id="horizontalScrollBar" theme="[[theme]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></smart-scroll-bar>\n                    </div>'}appendChild(v){const l=this;if(v){if(!l.isCompleted||v.classList&&v.classList.contains("smart-resize-trigger-container")){const p=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(l,p.concat(Array.prototype.slice.call(arguments)))}l.$.scrollViewerContentContainer.appendChild(v)}}removeChild(v){const l=this;if(v){if(!l.isCompleted||v.classList&&v.classList.contains("smart-resize-trigger-container")){const p=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(l,p.concat(Array.prototype.slice.call(arguments)))}l.$.scrollViewerContentContainer.removeChild(v)}}removeAll(){this.isCompleted&&(this.$.scrollViewerContentContainer.innerHTML="")}_horizontalScrollbarHandler(v){const l=this;l.$.scrollViewerContentContainer.style.left=(l.rightToLeft?1:-1)*l.scrollLeft+"px",v.stopPropagation&&v.stopPropagation(),l.onHorizontalChange&&l.onHorizontalChange(v)}_verticalScrollbarHandler(v){const l=this;l.$.scrollViewerContentContainer.style.top=-l.scrollTop+"px",v.stopPropagation&&v.stopPropagation(),l.onVerticalChange&&l.onVerticalChange(v)}_touchmoveHandler(v){const l=this;if(l._touchmoveInside&&v.cancelable)return v.preventDefault(),void v.stopPropagation();const p=l.scrollHeight>0,g=l._touchCoords;if(!p&&!(l.scrollWidth>0)||!g)return;const b=v.touches[0];let w,S,D,$;l._touchCoords=[b.pageX,b.pageY],p?(w=l.scrollTop,S=l.scrollHeight,D=b.pageY,$=g[1]):(w=l.scrollLeft,S=l.scrollWidth,D=b.pageX,$=g[0]);const H=parseFloat(D.toFixed(5)),F=parseFloat($.toFixed(5));0===w&&H>=F||w===S&&H<=F||(D!==$&&(l._touchmoveInside=!0),v.cancelable&&(v.preventDefault(),v.stopPropagation()))}_touchstartHandler(v){const l=v.touches[0];this._touchCoords=[l.pageX,l.pageY]}_mouseWheelHandler(v){const l=this;if(!l.disabled&&(l.computedHorizontalScrollBarVisibility||l.computedVerticalScrollBarVisibility)){if(v.shiftKey&&l.computedHorizontalScrollBarVisibility){const p=l.scrollLeft;return 0===p&&v.deltaX<0||p===l.scrollHeight&&v.deltaX>0?void 0:(v.stopPropagation(),v.preventDefault(),void(l.scrollWidth>0&&l.scrollTo(void 0,l.scrollLeft+l._getScrollCoefficient(v,l.offsetWidth))))}if(l.computedVerticalScrollBarVisibility){const p=l.scrollTop;if(0===p&&v.deltaY<0||p===l.scrollHeight&&v.deltaY>0)return;v.stopPropagation(),v.preventDefault(),l.scrollHeight>0&&l.scrollTo(l.scrollTop+l._getScrollCoefficient(v,l.offsetHeight))}}}_overriddenHandler(){}_upHandler(){delete this._touchCoords,delete this._touchmoveInside}_getScrollCoefficient(v,l){const p=v.deltaMode,f=Math.abs(v.deltaY);let g;return 0===p?g=f<100/3?f:l:1===p?g=f<1?f*(100/3):l:2===p&&(g=l),v.deltaY<0?-g:g}applyContent(){super.applyContent(),this.refresh()}get computedHorizontalScrollBarVisibility(){const v=this;return v._scrollView&&v._scrollView.hScrollBar?!v._scrollView.hScrollBar.$.hasClass("smart-hidden"):null}get computedVerticalScrollBarVisibility(){const v=this;return v._scrollView&&v._scrollView.vScrollBar?!v._scrollView.vScrollBar.$.hasClass("smart-hidden"):null}scrollTo(v,l){const p=this;p._scrollView&&(void 0!==v&&p._scrollView.scrollTo(v),void 0!==l&&p._scrollView.scrollTo(l,!1))}refreshScrollBarsVisibility(){const v=this;v._scrollView&&(v._scrollView.hScrollBar.disabled=v.disabled,v._scrollView.vScrollBar.disabled=v.disabled,"disabled"===v.horizontalScrollBarVisibility&&(v._scrollView.hScrollBar.disabled=!0),"disabled"===v.verticalScrollBarVisibility&&(v._scrollView.vScrollBar.disabled=!0),v.scrollWidth>0?v._scrollView.hScrollBar.$.removeClass("smart-hidden"):"visible"!==v.horizontalScrollBarVisibility&&v._scrollView.hScrollBar.$.addClass("smart-hidden"),v.scrollHeight>0?v._scrollView.vScrollBar.$.removeClass("smart-hidden"):"visible"!==v.verticalScrollBarVisibility&&v._scrollView.vScrollBar.$.addClass("smart-hidden"),"hidden"===v.horizontalScrollBarVisibility&&v._scrollView.hScrollBar.$.addClass("smart-hidden"),"hidden"===v.verticalScrollBarVisibility&&v._scrollView.vScrollBar.$.addClass("smart-hidden"),"visible"===v.horizontalScrollBarVisibility&&v._scrollView.hScrollBar.$.removeClass("smart-hidden"),"visible"===v.verticalScrollBarVisibility&&(v._scrollView.vScrollBar.$.removeClass("smart-hidden"),v.disabled||(v._scrollView.vScrollBar.disabled=v.scrollHeight<=0)),v.computedHorizontalScrollBarVisibility&&v.computedVerticalScrollBarVisibility?(v._scrollView.hScrollBar.$.addClass("bottom-corner"),v._scrollView.vScrollBar.$.addClass("bottom-corner")):(v._scrollView.hScrollBar.$.removeClass("bottom-corner"),v._scrollView.vScrollBar.$.removeClass("bottom-corner")))}ready(){super.ready();const v=this;v.$.verticalScrollBar.onChange=l=>{l.detail=l,v._verticalScrollbarHandler(l)},v.$.horizontalScrollBar.onChange=l=>{l.detail=l,v._horizontalScrollbarHandler(l)},v.$.verticalScrollBar.setAttribute("aria-controls",v.id),v.$.horizontalScrollBar.setAttribute("aria-controls",v.id),v._customScrollView||(v._scrollView=new Smart.Utilities.Scroll(v,v.$.horizontalScrollBar,v.$.verticalScrollBar)),v.refresh()}refresh(){const v=this;function l(){const b=v.$.scrollViewerContainer.classList.contains("vscroll");v.$.scrollViewerContainer.classList.remove("vscroll");const w=v.$.scrollViewerContentContainer.offsetWidth-v.$.scrollViewerContainer.offsetWidth;return w>0&&"hidden"!==v.horizontalScrollBarVisibility||"visible"===v.horizontalScrollBarVisibility?v.$.scrollViewerContainer.classList.add("hscroll"):v.$.scrollViewerContainer.classList.remove("hscroll"),b&&v.$.scrollViewerContainer.classList.add("vscroll"),w}function p(){let b;const w=v.$.scrollViewerContainer.classList.contains("hscroll");if(v.$.scrollViewerContainer.classList.remove("hscroll"),Smart.Utilities.Core.Browser.Safari){const S=v.$.scrollViewerContentContainer.getBoundingClientRect().height,D=v.$.scrollViewerContainer.getBoundingClientRect().height;b=S&&D?parseInt(S)-parseInt(D):v.$.scrollViewerContentContainer.offsetHeight-v.$.scrollViewerContainer.offsetHeight}else b=v.$.scrollViewerContentContainer.offsetHeight-v.$.scrollViewerContainer.offsetHeight;return v.virtualScrollHeight&&(b=v.virtualScrollHeight),b>0&&"hidden"!==v.verticalScrollBarVisibility||"visible"===v.verticalScrollBarVisibility?v.$.scrollViewerContainer.classList.add("vscroll"):v.$.scrollViewerContainer.classList.remove("vscroll"),w&&v.$.scrollViewerContainer.classList.add("hscroll"),b}if(!v.$.scrollViewerContentContainer)return;"hidden"===v.verticalScrollBarVisibility&&v.$.scrollViewerContentContainer.setAttribute("disable-vertical",""),"hidden"===v.horizontalScrollBarVisibility&&v.$.scrollViewerContentContainer.setAttribute("disable-horizontal","");let f=v.scrollWidth,g=v.scrollHeight;v.scrollWidth=l(),v.scrollHeight=p(),v.scrollHeight&&g===v.scrollHeight||(v.scrollWidth=l()),v.scrollWidth&&f===v.scrollWidth||(v.scrollHeight=p()),v.computedVerticalScrollBarVisibility&&(v.scrollHeight+=v._scrollView.hScrollBar.offsetHeight),v.computedHorizontalScrollBarVisibility&&(v.scrollWidth+=v._scrollView.vScrollBar.offsetWidth),0===v.scrollHeight&&v.scrollWidth>0&&v.$.container.offsetHeight-v.$.content.offsetHeight<5&&(v.$.container.style.paddingBottom=v._scrollView.hScrollBar.offsetHeight+"px"),v.autoRefresh&&(v.$.scrollViewerContainer.scrollLeft=0,v.$.scrollViewerContainer.scrollTop=0)}attached(){const v=this;super.attached(),v._scrollView||v._customScrollView||(v._scrollView=new Smart.Utilities.Scroll(v,v.$.horizontalScrollBar,v.$.verticalScrollBar))}detached(){const v=this;super.detached(),v._scrollView&&(v._scrollView.unlisten(),delete v._scrollView)}get scrollWidth(){const v=this;return v._scrollView&&v._scrollView.hScrollBar?1===v._scrollView.hScrollBar.max&&"visible"===v.horizontalScrollBarVisibility?0:v._scrollView.hScrollBar.max:-1}set scrollWidth(v){const l=this;v<0&&(v=0),l._scrollView&&l._scrollView.hScrollBar&&(l._scrollView.hScrollBar.max=0===v&&"visible"===l.horizontalScrollBarVisibility?0:v,l.refreshScrollBarsVisibility())}get scrollHeight(){const v=this;return v._scrollView&&v._scrollView.vScrollBar?1===v._scrollView.vScrollBar.max&&"visible"===v.verticalScrollBarVisibility?0:v._scrollView.vScrollBar.max:0}set scrollHeight(v){const l=this;v<0&&(v=0),l._scrollView&&l._scrollView.vScrollBar&&(l._scrollView.vScrollBar.max=0===v&&"visible"===l.verticalScrollBarVisibility?1:v,l.refreshScrollBarsVisibility())}get scrollLeft(){const v=this;return v._scrollView&&v._scrollView.hScrollBar?v._scrollView.hScrollBar.value:0}set scrollLeft(v){const l=this;v<0&&(v=0),l._scrollView&&l._scrollView.hScrollBar&&(l._scrollView.hScrollBar.value=v)}get scrollTop(){const v=this;return v._scrollView&&v._scrollView.vScrollBar?v._scrollView.vScrollBar.value:0}set scrollTop(v){const l=this;v<0&&(v=0),l._scrollView&&l._scrollView.vScrollBar&&(l._scrollView.vScrollBar.value=v)}propertyChangedHandler(v,l,p){super.propertyChangedHandler(v,l,p),"animation"!==v&&"theme"!==v&&this.refresh()}}),window[n].Utilities.Assign("PositionDetection",class{constructor(v,l,p,f){const g=this;if(l){const b="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);l.id=b,v.setAttribute("aria-owns",b)}g.context=v,g.dropDown=l,g.defaultParent=p,g.closeMethod=f}handleAutoPositioning(){const v=this,l=v.context;if("auto"!==l.dropDownPosition||l.disabled||l.isHidden)return;const p=window.requestAnimationFrame;let f,g=Date.now();return f=p(function b(){l.isHidden||document.hidden||(f=p(b),"auto"===l.dropDownPosition&&!l.disabled&&(l.isInShadowDOM?document.body.contains(l.shadowParent):document.body.contains(l))||cancelAnimationFrame(f),l.isHidden&&cancelAnimationFrame(f),Date.now()-g>=200&&(v.scrollHandler(),g=Date.now()))})}checkBrowserBounds(v){const l=this.context;if("auto"===l.dropDownPosition&&!l.disabled)switch(v){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}checkBrowserBoundsHorizontally(){const v=this.context,l=this.dropDown;let p,f=0;s.isMobile||window.innerWidth===document.documentElement.clientWidth||(f=window.innerWidth-document.documentElement.clientWidth),null!==v._dropDownParent?p=!0:l.style.left="";const g=window.innerWidth-f;let b=v.getBoundingClientRect().left;if(b<0&&(l.style.left=(p?0:Math.abs(b))+"px",b=parseFloat(l.style.left)),b+l.offsetWidth>g){let w=b-Math.abs(g-b-l.offsetWidth);p&&(w+=window.pageXOffset),l.style.left=(p?w:w-b)+"px",window.innerWidth===document.documentElement.clientWidth&&(l.style.left=parseFloat(l.style.left)+f+"px"),p&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}checkBrowserBoundsVertically(v){const l=this.context,p=this.dropDown,f=l._dropDownListPosition;v||(v=l.getBoundingClientRect()),0!==v.height&&(l._dropDownListPosition=document.documentElement.clientHeight-Math.abs(v.top+v.height+p.offsetHeight)>=0?"bottom":v.top-p.offsetHeight>=0?"top":"overlay-center",this.updatePositionAttribute(f,l._dropDownListPosition))}scrollHandler(){const v=this.context;if(!v.parentElement)return;const l=v.getBoundingClientRect();if(l.top===v._positionTop)return;const p=v._dropDownListPosition;this.checkBrowserBoundsVertically(l),v._dropDownListPosition!==p&&this.positionDropDown(),v._positionTop=l.top}getDropDownParent(v){const l=this.context,p=this.dropDown;let f=l.dropDownAppendTo;l._positionedParent=null,null===f?l._dropDownParent=null:"body"===f||f===document.body?l._dropDownParent=l.getRootNode().host?l.getRootNode().host.shadowRoot:document.body:f instanceof HTMLElement?l._dropDownParent=f:"string"==typeof f?(f=document.getElementById(f),f instanceof HTMLElement?l._dropDownParent=f:(l.dropDownAppendTo=null,l._dropDownParent=null)):(l.dropDownAppendTo=null,l._dropDownParent=null);let g=l._dropDownParent;if(null!==g){for(;g&&g instanceof HTMLElement&&"static"===window.getComputedStyle(g).position&&g!==l.getShadowRootOrBody();)g=g.parentElement;l._positionedParent=g===document.body?null:g,p&&(p.setAttribute("animation",l.animation),""!==l.theme&&p.$.addClass(l.theme),v&&(l._dropDownParent.appendChild(p),p.$.addClass("smart-drop-down-repositioned")),-1===l.detachedChildren.indexOf(p)&&l.detachedChildren.push(p))}}dropDownAppendToChangedHandler(){const v=this.context,l=this.dropDown,p=v._dropDownParent;this.getDropDownParent(),v._dropDownParent!==p&&(v[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach(f=>l.style[f]=null),null===v._dropDownParent?(this.defaultParent.appendChild(l),l.$.removeClass("smart-drop-down-repositioned")):(v._dropDownParent.appendChild(l),l.$.addClass("smart-drop-down-repositioned")))}dropDownPositionChangedHandler(){const v=this;v.dropDown.style.transition="none",v.context[v.closeMethod](),v.setDropDownPosition(),v.handleAutoPositioning()}dropDownAttached(v){const l=this.context;null!==l._dropDownParent&&(l._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),v&&l[v]())}dropDownDetached(){const v=this.context;null!==v._dropDownParent&&document.body.contains(this.dropDown)&&document.body.contains(v._dropDownParent)&&v._dropDownParent.removeChild(this.dropDown)}setDropDownPosition(){const v=this.context,l=v.dropDownPosition,p=v._dropDownListPosition;"auto"===l?this.checkBrowserBounds():v._dropDownListPosition=l,this.updatePositionAttribute(p,v._dropDownListPosition)}updatePositionAttribute(v,l){const p=this.context,f=this.dropDown;p.$.dropDownButton&&!p.$.dropDownButton.hasAttribute(l)&&(p.$.dropDownButton.removeAttribute(v),p.$.dropDownButton.setAttribute(l,"")),f.hasAttribute(l)||(f.style.transition="none",f.removeAttribute(v),f.setAttribute(l,""),requestAnimationFrame(function(){f.style.transition=null}))}positionDropDown(v){const l=this.context,p=this.dropDown;if(!l.opened||null===l._dropDownParent)return;const f=l.getBoundingClientRect();let g,b;if(this.customPositionDropDown){const S=this.customPositionDropDown(f);g=S.left,b=S.top}else switch(g=f.left,b=f.top,l._dropDownListPosition){case"bottom":b+=l.$.container.offsetHeight-1;break;case"center-bottom":b+=l.$.container.offsetHeight-1,g+=l.offsetWidth-p.offsetWidth/2;break;case"center-top":b-=p.offsetHeight-1,g+=l.offsetWidth-p.offsetWidth/2;break;case"top":b-=p.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":b-=p.offsetHeight/2-l.offsetHeight/2;break;case"overlay-top":b-=p.offsetHeight-l.offsetHeight}const w=this.getDropDownOffset();p.style.top=b+w.y+"px",v||(p.style.left=g+w.x+"px")}getDropDownOffset(){const v=this.context._positionedParent;let l,p;if(v&&"#document-fragment"!==v.nodeName){const f=v.getBoundingClientRect();l=-f.left,p=-f.top}else l=window.pageXOffset,p=window.pageYOffset;return{x:l,y:p}}placeOverlay(){const v=this.context;if(!v.dropDownOverlay||v._overlay)return;const l=document.createElement("div");l.classList.add("smart-drop-down-overlay"),l.style.width=document.documentElement.scrollWidth+"px",l.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(l),v._overlay=l}removeOverlay(v){const l=this,p=l.context;p._overlay&&(p.hasAnimation&&v?requestAnimationFrame(function f(){l.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(f):(document.body.removeChild(p._overlay),delete p._overlay)}):(document.body.removeChild(p._overlay),delete p._overlay))}}),window.Smart.Color=class{constructor(v){if(window.Smart._colors||(window.Smart._colors=[]),window.Smart._colors[v]){const p=window.Smart._colors[v];return this.hex=p.hex,this.r=p.r,this.g=p.g,void(this.b=p.b)}this.r=this.g=this.b=0,this.hex="";const l=this.getStandardizedColor(v);l&&(this.setHex(l.substring(1)),window.Smart._colors[v]={hex:this.hex,r:this.r,g:this.g,b:this.b})}getStandardizedColor(v){const l=document.createElement("canvas").getContext("2d");return l.fillStyle=v,l.fillStyle}getInvertedColor(){return""===this.hex?"transparent":255-(.299*this.r+.587*this.g+.114*this.b)<105?"Black":"White"}hexToRgb(v){let l="00",p="00",f="00";return 6===(v=this.validateHex(v)).length?(l=v.substring(0,2),p=v.substring(2,4),f=v.substring(4,6)):(v.length>4&&(l=v.substring(4,v.length),v=v.substring(0,4)),v.length>2&&(p=v.substring(2,v.length),v=v.substring(0,2)),v.length>0&&(f=v.substring(0,v.length))),{r:this.hexToInt(l),g:this.hexToInt(p),b:this.hexToInt(f)}}validateHex(v){return(v=(v=new String(v).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(v=v.substring(0,6)),v}webSafeDec(v){return 51*Math.round(v/51)}hexToWebSafe(v){let l,p,f;return 3===v.length?(l=v.substring(0,1),p=v.substring(1,1),f=v.substring(2,1)):(l=v.substring(0,2),p=v.substring(2,4),f=v.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(l)))+this.intToHex(this.webSafeDec(this.hexToInt(p)))+this.intToHex(this.webSafeDec(this.hexToInt(f)))}rgbToWebSafe(v){return{r:this.webSafeDec(v.r),g:this.webSafeDec(v.g),b:this.webSafeDec(v.b)}}rgbToHex(v){return this.intToHex(v.r)+this.intToHex(v.g)+this.intToHex(v.b)}intToHex(v){let l=parseInt(v).toString(16);return 1===l.length&&(l="0"+l),l.toUpperCase()}hexToInt(v){return parseInt(v,16)}setRgb(v,l,p){let f=function(g){return g<0||g>255||isNaN(parseInt(g))?0:g};this.r=f(v),this.g=f(l),this.b=f(p),this.hex=this.rgbToHex(this)}setHex(v){this.hex=v;let l=this.hexToRgb(this.hex);this.r=l.r,this.g=l.g,this.b=l.b}}}()},63715:()=>{Smart.Utilities.Assign("DataExporter",class{constructor(t,e,n,a){const i=this;t||(t={}),i.style=t.style,i.header=t.header,i.exportHeader=void 0===t.exportHeader||t.exportHeader,i.hierarchical=t.hierarchical,i.expandChar=t.expandChar||"+",i.collapseChar=t.collapseChar||"-",i.pageOrientation=t.pageOrientation,i.allowNull=t.allowNull||!1,!i.hierarchical&&e&&e.length>0?i.groupBy=e:i.mergedCells=t.mergedCells,!i.groupBy&&n&&Object.keys(n).length>0&&(i.filterBy=n),a&&(i.conditionalFormatting=a),i.timeBetween1900And1970=new Date(1970,0,1,0,0,0).getTime()-new Date(1900,0,1,0,0,0).getTime()}downloadFile(t,e,n){let a;if(!n)return t;if(a=t instanceof Blob?t:new Blob([t],{type:e}),window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,n);else{const i=document.createElement("a"),r=URL.createObjectURL(a);i.href=r,i.download=n,i.style.position="absolute",i.style.visibility="hidden",document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)},100)}}exportData(t,e,n,a){const i=this;if(i.actualHierarchy=i.hierarchical,e=e.toLowerCase(),i.exportHeader&&(i.header?(0===(t=t.slice(0)).length&&(i.actualHierarchy=!1),i.processComplexHeader(i.header,t,e)):1===t.length&&(i.actualHierarchy=!1)),0===t.length)return void console.warn("No data to export.");"xlsx"===e&&(i.xlsxStartIndex=i.complexHeader?i.complexHeader.length:+i.exportHeader),i.actualHierarchy&&(t=i.processHierarchicalData(t,e)),i.getDatafields(t),n&&n.slice(n.length-e.length-1,n.length)!=="."+e&&(n+="."+e);let r=null;switch(e){case"csv":r=i.exportToCSVAndTSV(t,{delimiter:", ",MIME:"text/csv",toRemove:2},n);break;case"html":r=i.exportToHTML(t,n);break;case"jpeg":case"png":i.exportToImage(t,n,e,a);break;case"json":r=i.exportToJSON(t,n);break;case"pdf":r=i.exportToPDF(t,n);break;case"tsv":r=i.exportToCSVAndTSV(t,{delimiter:"\t",MIME:"text/tab-separated-values",toRemove:1},n);break;case"xlsx":r=i.exportToXLSX(t,n,a);break;case"xml":r=i.exportToXML(t,n);break;case"md":r=i.exportToMD(t,n)}return a&&r&&a(r),delete i.complexHeader,r}exportToCSVAndTSV(t,e,n){const a=this,i=a.datafields;let r="";for(let o=0;o<t.length;o++){const s=t[o];let d="";for(let c=0;c<i.length;c++)d+=a.actualHierarchy&&0===c?('""'+e.delimiter).repeat(s._level-1)+'"'+s[i[c]]+'"'+e.delimiter+('""'+e.delimiter).repeat(a.maxLevel-s._level):'"'+s[i[c]]+'"'+e.delimiter;d=d.slice(0,d.length-e.toRemove)+"\n",r+=d}return n?this.downloadFile(r,e.MIME,n):r}exportToHTML(t,e){const n=this,a=n.datafields,i=n.style;let r="",o=0,s="";t=n.processGroupingInformation(t),n.data=t,n.exportHeader&&(r=n.getHTMLHeader(a,t),o=1),arguments[2]&&(s=`<script type="text/javascript" src="${Array.from(document.getElementsByTagName("script")).find(h=>-1!==h.src.indexOf("html2canvas")).src}"><\/script>`);let d=`<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="UTF-8">\n    <style type="text/css">\n${n.getRowStyle()}${n.getColumnStyle()}\n    </style>${s}${n.toggleableFunctionality()}\n</head>\n<body>\n    <table${n.getTableStyle()}>${r}\n        <tbody>\n`;const c={},u={},m=[];n.getMergedCellsInfo(c,u);e:for(let h=o;h<t.length;h++){const y=t[h],_=h-o;let C=n.getAlternationIndex(_," rowN"),x="",E="",A="",I=0;if(n.actualHierarchy)y._collapsed&&(x=" collapsed"),E=` level="${y._level}"`;else if(n.groupBy)for(let k=0;k<n.groupBy.length;k++){const B=n.groupBy[k],O=y[B],P=n.groups[B][O];if(A+=O,-1===m.indexOf(A)){d+=`            <tr class="row">\n                <td class="column group" style="padding-left: ${25*I}px;" colspan="${n.datafields.length}">${P}</td>\n            </tr>`,m.push(A),h--;continue e}I++}let L=`            <tr class="row row${_}${C}${x}"${E}`;e||(L+=' style="page-break-inside: avoid;"'),L+=">\n";for(let k=0;k<a.length;k++){const B=k+","+_;let O=1,P=1;if(c[B])O=c[B].colspan,P=c[B].rowspan;else if(u[B])continue;const U=a[k];let J=y[U],q="";if(n.actualHierarchy&&0===k){let T="";y._expanded?T=n.collapseChar:!1===y._expanded&&(T=n.expandChar),q=`<div class="toggle-element" style="margin-left: ${25*(y._level-1)+5}px;" expanded>${T}</div>`}J=n.getFormattedValue(J,U);let G="";if(i&&i.columns&&i.columns[U]&&i.columns[U][_]){const T=i.columns[U][_];G+=`border-color: ${T.border}; background-color: ${T.background}; color: ${T.color};"`}0===k&&I>1&&(G+=`padding-left: ${25*(I-1)}px;"`),G&&(G=` style="${G}"`),L+=`                <td class="column column${U}"${G} colspan="${O}" rowspan="${P}">${q+J}</td>\n`}d+=L+"            </tr>\n"}return d+="        </tbody>\n    </table>\n</body>\n</html>",arguments[2]?d:this.downloadFile(d,"text/html",e)}exportToImage(t,e,n,a){try{html2canvas}catch{throw new Error("smart-grid: Missing reference to 'html2canvas.min.js'.")}let i=null;const r=this.exportToHTML(t,e,!0),o=document.createElement("iframe");return o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.border="none",o.style.width="100%",o.style.height="100%",o.style.opacity=0,o.style.pointerEvents="none",document.body.appendChild(o),o.contentDocument.write(r),function s(){o.contentDocument.body&&o.contentDocument.body.firstElementChild?o.contentWindow.html2canvas(o.contentDocument.body.firstElementChild).then(d=>{const c=new Smart.Utilities.Draw(document.createElement("div"));i=d.toDataURL("image/png"),a?a(i):(document.body.appendChild(d),c.exportImage(void 0,d,n,e)),o.remove(),d.remove()}):requestAnimationFrame(s)}(),i}getMergedCellsInfo(t,e,n){const a=this;if(!a.mergedCells)return;const i=n&&0!==n[a.datafields.length-1];a.mergedCellsPDF=a.mergedCells.slice(0);for(let r=0;r<a.mergedCellsPDF.length;r++){const o=a.mergedCellsPDF[r];let s=o.colspan,d=o.rowspan;if(d<2&&s<2)continue;const c=o.cell[1];let u=o.cell[0];if(i&&s>1){const m=n[u],h=n[u+s-1],y=[];if(h>m){let _=m,C=u,x=0;e:for(let E=m;E<=h;E++){let A=C,I=0;for(;n[C]===_;)if(C++,x++,I++,x===s){y.push({start:A,span:I});break e}y.push({start:A,span:I}),_=n[C]}s=y[0].span;for(let E=1;E<y.length;E++)a.mergedCellsPDF.push({cell:[y[E].start,c],colspan:y[E].span,rowspan:d,originalCell:u})}}for(let m=u;m<u+s;m++)for(let h=c;h<c+d;h++){const y=m+","+h;m!==u||h!==c?e[y]=!0:t[y]={colspan:s,rowspan:d,originalCell:o.originalCell}}}}getAlternationIndex(t,e){if(!this.style)return"";const n=this.style.rows;return n&&n.alternationCount&&((void 0===n.alternationStart||t>=n.alternationStart)&&(void 0===n.alternationEnd||t<=n.alternationEnd)||n.alternationStart===n.alternationEnd)?e+t%n.alternationCount:""}getFormattedValue(t,e){const n=this,a=n.style;if(null===t)return n.allowNull?"null":"";if(e&&a&&a.columns&&a.columns[e]&&a.columns[e].format){if("number"==typeof t)return n.formatNumber(t,a.columns[e].format);if(t instanceof Date)return n.formatDate(t,a.columns[e].format)}else if(t instanceof Date)return n.formatDate(t,"d");return t}exportToJSON(t,e){return this.downloadFile(JSON.stringify(t,this.datafields.concat("rows")),"application/json",e)}exportToMD(t,e){const n=this.datafields;let a="";for(let i=0,r=t.length;i<r;i+=1)for(let o=0,s=n.length;o<s;o+=1){const d=t[i][n[o]];"string"==typeof d&&(a+=d)}return this.downloadFile(a,"application/text",e)}exportToPDF(t,e){try{pdfMake}catch{throw new Error("Missing reference to 'pdfmake.min.js'.")}const n=this,a=n.datafields,i=+n.exportHeader,r=[],o={},s={},d={},c=i?n.complexHeader?n.complexHeader.length:1:0,u={pageOrientation:n.pageOrientation||"portrait"};let m,h=[],y=[];function _(){let x=[];for(let E=0;E<m.length;E++)x.push([]);return x}t=n.processGroupingInformation(t),n.data=t,n.headerRows=c,n.getPDFStyle();const C=n.styleInfo;m=C?n.wrapPDFColumns(u,d):[{body:h,datafields:a}],i&&(h=n.getPDFHeader(a,m,d)),n.getMergedCellsInfo(o,s,d);e:for(let x=i;x<t.length;x++){const E=t[x];let A="",I=0;if(n.groupBy)for(let O=0;O<n.groupBy.length;O++){const P=n.groupBy[O],U=E[P],J=n.groups[P][U];if(A+=U,-1===r.indexOf(A)){n.createGroupHeaderRow(m,{text:J,style:["row","cell","group"],marginLeft:7.5*I}),r.push(A),x--;continue e}I++}const L=_(),k=x-i;let B=n.getAlternationIndex(k,"");for(let O=0;O<a.length;O++){const P=a[O],U={style:["row","row"+k,"cell","cell"+P]},J=d[O]||0;if(void 0!==B&&U.style.splice(1,0,"rowN"+B),n.mergedCellsPDF){const G=O+","+k,T=o[G];if(T){if(U.colSpan=T.colspan,U.rowSpan=T.rowspan,void 0!==T.originalCell){U.text="",U.style[U.style.length-1]="cell"+a[T.originalCell],L[J].push(U);continue}}else if(s[G]){L[J].push({});continue}}const q=n.getFormattedValue(E[P],P);U.text=q.toString(),n.getUniqueStylePDF(U,P,k),n.setIndentation(U,{j:O,currentRecord:E,value:q,outlineLevel:I}),L[J].push(U)}for(let O=0;O<m.length;O++)m[O].body.push(L[O])}if(C){for(let x=0;x<m.length;x++){const E=m[x].body;for(let A=c-1;A>=0;A--)E.unshift(h[x][A]);y.push({table:{headerRows:c,widths:m[x].widths,heights:function(A){return C.heights[A]?C.heights[A]:C.defaultHeight?C.defaultHeight:void 0},body:E},pageBreak:"after"})}delete y[m.length-1].pageBreak,u.styles=C.styles}else{const x=m[0].body;for(let E=c-1;E>=0;E--)x.unshift(h[0][E]);y=[{table:{headerRows:c,body:x}}],u.styles={header:{bold:!0},group:{bold:!0}}}if(u.content=y,!e){const x=pdfMake.createPdf(u);return delete n.mergedCellsPDF,delete n.styleInfo,x}pdfMake.createPdf(u).download(e),delete n.mergedCellsPDF,delete n.styleInfo}getPDFStyle(){const t=this,e=t.style;if(!e)return"";const n=t.data[0],a=e.header,i=e.columns,r=e.rows,o={heights:[],widths:Array(t.datafields.length).fill("*"),styles:{header:{},row:{},cell:{},group:{fillColor:"#FFFFFF",color:"#000000",bold:!0}}};function s(d,c){if(d)for(let u in d)if(Object.prototype.hasOwnProperty.call(d,u))if(void 0===n[u])if("height"===u&&"header"===c)for(let m=0;m<t.headerRows;m++)o.heights[m]=parseInt(d[u],10)/t.headerRows/1.4;else t.storePDFStyle({prop:u,value:d[u],toUpdate:c});else for(let m in d[u]){if(!isNaN(m)||!Object.prototype.hasOwnProperty.call(d[u],m))continue;const h=d[u][m],y=t.datafields.indexOf(u);"width"===m&&"*"===o.widths[y]?o.widths[y]=h:t.storePDFStyle({prop:m,value:h,toUpdate:c+u})}}if(t.styleInfo=o,s(a,"header"),s(i,"cell"),r){for(let d in r){if(!Object.prototype.hasOwnProperty.call(r,d)||-1!==d.indexOf("alt"))continue;const c=r[d];if(isNaN(d))"height"===d?o.defaultHeight=parseFloat(c)/1.4:t.storePDFStyle({prop:d,value:c,toUpdate:"row"});else for(let u in c)Object.prototype.hasOwnProperty.call(c,u)&&("height"===u?o.heights[parseFloat(d)+t.headerRows]=parseFloat(c[u])/1.4:t.storePDFStyle({prop:u,value:c[u],toUpdate:"row"+d}))}if(r.alternationCount)for(let d=0;d<r.alternationCount;d++){const c={};r[`alternationIndex${d}Color`]&&(c.color=r[`alternationIndex${d}Color`]),r[`alternationIndex${d}BackgroundColor`]&&(c.fillColor=r[`alternationIndex${d}BackgroundColor`]),o.styles["rowN"+d]=c}}}storePDFStyle(t){let n=this.styleInfo.styles[t.toUpdate];n||(n={},this.styleInfo.styles[t.toUpdate]=n);let a=t.value;switch(t.prop){case"backgroundColor":n.fillColor=a;break;case"color":n.color=a;break;case"fontSize":n.fontSize=parseFloat(a);break;case"fontStyle":"italic"===a&&(n.italics=!0);break;case"fontWeight":"bold"===a&&(n.bold=!0);break;case"textAlign":n.alignment=a}}wrapPDFColumns(t,e){const n=this,a=this.styleInfo,i="portrait"===t.pageOrientation?655:1155,r=[];let o=0;for(let s=0;s<a.widths.length;s++){let d,c=a.widths[s];if("*"===c?d=i/6:"string"==typeof c&&-1!==c.indexOf("%")?(d=Math.min(i,Math.floor(parseFloat(c)/100*i)),d===i&&(c="*")):(c=parseFloat(c),c>=i?(d=i,c="*"):(d=c,c/=1.4)),void 0===r[o]){r[o]={body:[],width:d,widths:[c],datafields:[n.datafields[s]]},e[s]=o;continue}const u=r[o];u.width+d>i?(o++,s--):(e[s]=o,u.width+=d,u.widths.push(c),u.datafields.push(n.datafields[s]))}return r}getPDFHeader(t,e,n){const a=this,i=[],r=a.headerRows,o=[],s=[];let d,c,u=[];a.complexHeader?(d=a.complexHeader,c=a.complexDataFieldsHeader):(d=[Object.values(a.data[0])],c=d);for(let h=0;h<r;h++){const y=d[h],_=c[h];for(let C=0;C<y.length;C++){let x=n[C]||0;o[x]||(o[x]=[],s[x]=[]),o[x][h]||(o[x][h]=[],s[x][h]=[]),o[x][h].push(y[C]),s[x][h].push(_[C])}}function m(h,y,_,C){for(let x=0;x<r;x++){const E=h[x],A=y[x],I=[];for(let L=0;L<E.length;L++){const k=A[L];let B=1,O=1;if(A[L-1]&&A[L-1]===k||y[x-1]&&y[x-1][L]===k){I.push({});continue}let P=L+1;for(;A[P]&&A[P]===A[P-1];)B++,P++;for(P=x+1;y[P]&&y[P][L]===k;)O++,P++;const U=x===r-1||O+x===r?C.datafields[L]:null,J={text:E[L],colSpan:B,rowSpan:O};U?J.style=["header","header"+U]:(J.alignment="center",J.style="header"),I.push(J)}_.push(I)}}for(let h=0;h<e.length;h++)u=[],m(o[h],s[h],u,e[h]),i.push(u);return i}createGroupHeaderRow(t,e){for(let n=0;n<t.length;n++){const a=Object.assign({},e),i=t[n].datafields.length,r=[a];a.colSpan=i,r.length=i,r.fill({},1,i-1),t[n].body.push(r)}}getUniqueStylePDF(t,e,n){const a=this.style;if(!a||!a.columns||!a.columns[e])return;const i=a.columns[e][n];i&&(t.fillColor=function(r){const o=/rgba\((\d+),(\d+),(\d+)\,(\d*.\d+|\d+)\)/gi.exec(r.replace(/\s/g,""));if(null===o)return r;const s=parseFloat(o[1]).toString(16).toUpperCase(),d=parseFloat(o[2]).toString(16).toUpperCase(),c=parseFloat(o[3]).toString(16).toUpperCase();return"#"+"0".repeat(2-s.length)+s+"0".repeat(2-d.length)+d+"0".repeat(2-c.length)+c}(i.background),t.color=i.color.toLowerCase())}setIndentation(t,e){if(0!==e.j)return;const n=this;if(n.actualHierarchy){const a=e.currentRecord;void 0!==a._expanded?(t.marginLeft=25*(a._level-1),t.text=n.collapseChar+" "+e.value):t.marginLeft=25*(a._level-1)+6}else e.outlineLevel>1&&(t.marginLeft=7.5*(e.outlineLevel-1))}exportToXLSX(t,e,n){try{JSZip}catch{throw new Error("Missing reference to 'jszip.min.js'.")}const a=this;let i=a.style;if(t=a.processGroupingInformation(t,!0),a.data=t,a.getColumnsArray(),a.complexHeaderMergedCells=[],a.complexHeaderMergeInfo)for(let A in a.complexHeaderMergeInfo)if(Object.prototype.hasOwnProperty.call(a.complexHeaderMergeInfo,A)){const I=a.complexHeaderMergeInfo[A];if(I.from[0]===I.to[0]&&I.from[1]===I.to[1])continue;a.complexHeaderMergedCells.push({from:a.columnsArray[I.from[1]]+(I.from[0]+1),to:a.columnsArray[I.to[1]]+(I.to[0]+1)})}a.getConditionalFormatting(),i||(i=a.generateDefaultStyle(t));const r=a.generateSharedStrings(t),o=r.collection,s=r.xml,d=a.generateStyles(i),c=a.groupBy?a.generateSheet1WithGrouping(t,o):a.generateSheet1(t,o),u=a.generateAuxiliaryFiles(),m=new JSZip,h=m.folder("_rels"),y=m.folder("docProps"),_=m.folder("xl"),C=_.folder("_rels"),x=_.folder("theme"),E=_.folder("worksheets");h.file(".rels",u._relsRels),y.file("app.xml",u.docPropsAppXml),y.file("core.xml",u.docPropsCoreXml),C.file("workbook.xml.rels",u.xl_relsWorkbookXmlRels),x.file("theme1.xml",u.xlThemeTheme1Xml),E.file("sheet1.xml",c),_.file("sharedStrings.xml",s),_.file("styles.xml",d),_.file("workbook.xml",u.xlWorkbookXml),m.file("[Content_Types].xml",u.Content_TypesXml),m.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}).then(function(A){return!e&&n&&n(A),a.downloadFile(A,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",e)}),delete a.conditionalFormattingXLSX,delete a.complexHeaderMergeInfo,delete a.defaultRowHeight,delete a.rowHeight}processGroupingInformation(t,e){const n=this;if(!n.groupBy)return t;let a;if(t=t.slice(0),n.exportHeader&&(e&&n.complexHeader?(a=t.slice(0,n.complexHeader.length),t.splice(0,n.complexHeader.length)):(a=[t[0]],t.splice(0,1))),t.length>1){const i=function(r,o){let s;switch(o||typeof r){case"string":s=(new Intl.Collator).compare;break;case"number":s=function(d,c){return d-c};break;case"boolean":case"bool":s=function(d,c){return d===c?0:!1===d?-1:1};break;case"date":case"time":case"dateTime":r instanceof Date?s=function(d,c){return d.getTime()-c.getTime()}:(r instanceof Smart.Utilities.DateTime||r instanceof Smart.Utilities.BigNumber)&&(s=function(d,c){return d.compare(c)});break;case"object":if(r instanceof Date)s=function(d,c){return d.getTime()-c.getTime()};else if(r instanceof Smart.Utilities.DateTime||r instanceof Smart.Utilities.BigNumber)s=function(d,c){return d.compare(c)};else if(r instanceof Smart.Utilities.Complex||window.NIComplex&&r instanceof window.NIComplex){const d=new Smart.Utilities.ComplexNumericProcessor;s=function(c,u){return d.compareComplexNumbers(c,u)}}}return s};!function(r,o,s,d){if(!r||!Array.isArray(r)||0===r.length||!o||Array.isArray(o)&&0===o.length)return;"string"==typeof o&&(o=[o]);const c=[],u=[];void 0===s&&(s=[]);for(let m=0;m<o.length;m++)c[m]=void 0===s[m]||"asc"===s[m]||"ascending"===s[m]?1:-1,u[m]=i(r[0][o[m]]);r.sort(function(m,h){for(let y=0;y<o.length;y++){const _=u[y](m[o[y]],h[o[y]]);if(0===_){if(o[y+1])continue;return void 0!==m._index?(m._index-h._index)*c[y]:0}return _*c[y]}})}(t,n.groupBy)}return a&&(t=a.concat(t)),n.getGroupLabels(t),t}exportToXML(t,e){const n=this.datafields.slice(0);let a='<?xml version="1.0" encoding="UTF-8" ?>\n<table>\n';return-1===n.indexOf("rows")&&n.push("rows"),a+=function i(r,o){let s="";for(let d=0;d<r.length;d++){const c=r[d];s+=o+"<row>\n";for(let u=0;u<n.length;u++){const m=n[u];if("rows"!==m)s+=o+`    <${m}>${c[m]}</${m}>\n`;else{if(!c.rows)continue;s+=`${o}    <rows>\n${i(c.rows,o+"        ")}${o}    </rows>\n`}}s+=o+"</row>\n"}return s}(t,"    ")+"</table>",e?this.downloadFile(a,"application/xml",e):a}formatDate(t,e){if(!Smart.Utilities.DateTime)return t;try{return new Smart.Utilities.DateTime(t).toString(e)}catch{return t}}formatNumber(t,e){if(!Smart.Utilities.NumberRenderer)return t;const n=(new Smart.Utilities.NumberRenderer).formatNumber(t,e);return void 0===n?t:n}generateAuxiliaryFiles(){const t=(new Date).toISOString();return{_relsRels:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',docPropsAppXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>',docPropsCoreXml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>Smart HTML Elements</dc:creator><cp:lastModifiedBy>Smart HTML Elements</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${t}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${t}</dcterms:modified></cp:coreProperties>`,xl_relsWorkbookXmlRels:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>',xlThemeTheme1Xml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\u6e38\u30b4\u30b7\u30c3\u30af Light"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u7b49\u7ebf Light"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\u6e38\u30b4\u30b7\u30c3\u30af"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u7b49\u7ebf"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>',xlWorkbookXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15 xr xr6 xr10 xr2" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr6="http://schemas.microsoft.com/office/spreadsheetml/2016/revision6" xmlns:xr10="http://schemas.microsoft.com/office/spreadsheetml/2016/revision10" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2"><fileVersion appName="xl" lastEdited="7" lowestEdited="7" rupBuild="20325"/><workbookPr defaultThemeVersion="166925"/><mc:AlternateContent xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"><mc:Choice Requires="x15"><x15ac:absPath url="C:UsersjqwidgetsDesktop" xmlns:x15ac="http://schemas.microsoft.com/office/spreadsheetml/2010/11/ac"/></mc:Choice></mc:AlternateContent><xr:revisionPtr revIDLastSave="0" documentId="13_ncr:1_{0DEDCB6D-5403-4CD8-AAA5-59B6D238A8B6}" xr6:coauthVersionLast="34" xr6:coauthVersionMax="34" xr10:uidLastSave="{00000000-0000-0000-0000-000000000000}"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="19200" windowHeight="6950" xr2:uid="{0CB664E6-3800-4A88-B158-B46A682E7484}"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="179021"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>',Content_TypesXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="bin" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings"/><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/><Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>'}}generateDefaultStyle(t){const e=this,n={},a=e.datafields,i=e.complexHeader?t[e.complexHeader.length]:t[+e.exportHeader];if(!i)return n;for(let r=0;r<a.length;r++)i[a[r]]instanceof Date&&(n.columns||(n.columns=[]),n.columns[a[r]]={format:"d"});return n}generateGroupRow(t){const e=t.rowNumber,n="A"+e,a=`        <row r="${e}" outlineLevel="${t.outlineLevel}" spans="1:${t.numberOfColumns}"${this.getCustomRowHeight(e-1)} x14ac:dyDescent="0.45">\n            <c r="${n}" t="s" s="0">\n                <v>${t.sharedStringIndex}</v>\n            </c>\n        </row>\n`;return t.mergedCells.push({from:n,to:this.columnsArray[t.numberOfColumns-1]+e}),a}generateSharedStrings(t){const e=this,n=e.datafields,a=[];let i="",r=0,o=0;function s(d){r++,-1===a.indexOf(d)&&(o++,a.push(d),d=(d=(d=(d=(d=d.replace(/&(?!amp;)/g,"&amp;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;"),i+=`<si><t>${d}</t></si>`)}for(let d=0;d<t.length;d++){const c=t[d];for(let u=0;u<n.length;u++){let m=c[n[u]];null!==m||e.allowNull||(m=""),"string"==typeof m&&s(m)}}if(e.groupLabels)for(let d=0;d<e.groupLabels.length;d++)s(e.groupLabels[d]);return i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${r}" uniqueCount="${o}">${i}</sst>`,{collection:a,xml:i}}generateSheet1(t,e){const n=this,a=n.columnsArray.length,r=n.columnsArray[a-1]+t.length,o=n.datafields,s=n.getFilters(),d=[].concat(n.complexHeaderMergedCells);let c=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac xr xr2 xr3" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2" xmlns:xr3="http://schemas.microsoft.com/office/spreadsheetml/2016/revision3" xr:uid="{7F25248B-C640-4C64-AD47-C0EA0E5D90D0}">\n    <sheetPr filterMode="${""!==s}" />\n    <dimension ref="A1:${r}" />\n    <sheetViews>\n        <sheetView tabSelected="1" workbookViewId="0" />\n    </sheetViews>\n    <sheetFormatPr defaultRowHeight="14.5" x14ac:dyDescent="0.35" />${n.getCustomColumnWidths()}\n    <sheetData>\n`;function u(m,h){return n.columnsArray[m]+h}for(let m=0;m<=t.length;m++){const h=t[m],y=m+1;let _="";if(n.actualHierarchy){const x=t[m-1];x&&x._collapsed&&(!h||x._level>h._level)&&(_=' collapsed="true"')}if(m===t.length){_&&(c+=`        <row r="${y}" outlineLevel="${Math.max(t[m-1]._level-2,0)}" hidden="false" collapsed="true" />\n`);break}let C=`        <row r="${y}"${n.getOutlineLevel(h)} hidden="${h._hidden||h._collapsed||!1}"${_} spans="1:${a}"${n.getCustomRowHeight(y-1)} x14ac:dyDescent="0.45">\n`;for(let x=0;x<o.length;x++){const E=n.getXLSXCellStyle(u(x,y));C+=n.getActualCellData(h[o[x]],{r:u(x,y),s:E},e)}C+="        </row>\n",c+=C}return c+=`    </sheetData>${n.conditionalFormattingXLSX.conditions}${s}${n.getMergedCells(d)}\n    <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n    <pageSetup paperSize="9" orientation="portrait" r:id="rId1" />\n</worksheet>`,c}generateSheet1WithGrouping(t,e){const n=this,a=n.columnsArray.length,r=n.columnsArray[a-1]+t.length,o=n.datafields,s=[].concat(n.complexHeaderMergedCells);let d=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac xr xr2 xr3" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2" xmlns:xr3="http://schemas.microsoft.com/office/spreadsheetml/2016/revision3" xr:uid="{7F25248B-C640-4C64-AD47-C0EA0E5D90D0}">\n    <dimension ref="A1:${r}" />\n    <sheetViews>\n        <sheetView tabSelected="1" workbookViewId="0" />\n    </sheetViews>\n    <sheetFormatPr defaultRowHeight="14.5" x14ac:dyDescent="0.35" />${n.getCustomColumnWidths()}\n    <sheetData>\n`,c=0,u=[];function m(h,y){return n.columnsArray[h]+y}e:for(let h=0;h<t.length;h++){const y=t[h],_=h+1+c;let C=0,x="";if(!n.exportHeader||!n.complexHeader&&0!==h||n.complexHeader&&h>=n.complexHeader.length){let A="";for(let I=0;I<n.groupBy.length;I++){const L=n.groupBy[I],k=y[L],B=n.groups[L][k];if(A+=k,-1===u.indexOf(A)){let O=e.indexOf(B);d+=n.generateGroupRow({rowNumber:_,outlineLevel:C,numberOfColumns:a,sharedStringIndex:O,mergedCells:s}),u.push(A),h--,c++;continue e}C++}x=` outlineLevel="${C}"`}let E=`        <row r="${_}"${x} spans="1:${a}"${n.getCustomRowHeight(_-1)} x14ac:dyDescent="0.45">\n`;for(let A=0;A<o.length;A++){const I=n.getXLSXCellStyle(m(A,h+1));E+=n.getActualCellData(y[o[A]],{r:m(A,_),s:I},e)}E+="        </row>\n",d+=E}return d+=`    </sheetData>${n.getMergedCells(s)}\n    <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n    <pageSetup paperSize="9" orientation="portrait" r:id="rId1" />\n</worksheet>`,d}getActualCellData(t,e,n){const a=e.r,i=e.s||' s="0"';return null!==t||this.allowNull||(t=""),"string"==typeof t?`            <c r="${a}" t="s"${i}>\n                <v>${n.indexOf(t)}</v>\n            </c>\n`:"boolean"==typeof t?`            <c r="${a}" t="b"${i}>\n                <v>${+t}</v>\n            </c>\n`:t instanceof Date?`            <c r="${a}"${i}>\n                <v>${2+Math.round(this.timeBetween1900And1970/864e5)+(t.getTime()-60*t.getTimezoneOffset()*1e3)/864e5}</v>\n            </c>\n`:`            <c r="${a}"${i}>\n                <v>${t}</v>\n            </c>\n`}getColumnsArray(){const t=this.datafields.length,e=[];function n(a){return a<26?"":String.fromCharCode(64+Math.floor(a/26))}for(let a=0;a<t;a++)e.push(n(a)+String.fromCharCode(65+(a<26?a:a%26)));this.columnsArray=e}getColumnStyle(){const t=this,e=t.style;if(!e)return"        .header { border: 1px solid black; padding: 5px; }\n        .column { border: 1px solid black; padding: 5px; }\n        .group { background-color: #FFFFFF; color: #000000; font-weight: bold; }";let n;n=e.removeDefault?{header:"",column:"",group:""}:{header:"border: 1px solid black; padding: 5px; ",column:"white-space: nowrap; overflow: hidden; border: 1px solid black; padding: 5px; ",group:"background-color: #FFFFFF; color: #000000; font-weight: bold; "};const a=t.data[0];let i="";const r=e.header||{};for(let s in r){if(!Object.prototype.hasOwnProperty.call(r,s))continue;const d=r[s];if(a[s]){n["header"+s]||(n["header"+s]="");for(let c in d)if(Object.prototype.hasOwnProperty.call(d,c)){const u=Smart.Utilities.Core.toDash(c)+": "+d[c]+"; ";n["header"+s]+=u,"width"===c&&(n["column"+s]||(n["column"+s]=""),n["column"+s]+=u)}}else n.header+="height"===s&&t.complexHeader?"height: "+parseInt(r[s],10)/t.complexHeader.length+"px; ":Smart.Utilities.Core.toDash(s)+": "+r[s]+"; "}const o=e.columns||{};for(let s in o){if(!Object.prototype.hasOwnProperty.call(o,s))continue;const d=o[s];if(a[s]){n["column"+s]||(n["column"+s]="");for(let c in d)isNaN(c)&&Object.prototype.hasOwnProperty.call(d,c)&&"format"!==c&&(n["column"+s]+=Smart.Utilities.Core.toDash(c)+": "+d[c]+"; ")}else n.column+=Smart.Utilities.Core.toDash(s)+": "+d+"; "}for(let s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i+=`        .${s} { ${n[s]}}\n`);return e.custom&&(i+=`${e.custom}\n`),i}getCustomColumnWidths(){const t=this;if(!t.style||!t.columnWidth||0===t.columnWidth.length)return"";let e="\n    <cols>\n";for(let n=0;n<t.columnWidth.length;n++){let a=t.columnWidth[n];void 0!==a&&(a=Math.round(parseFloat(a))/7,e+=`        <col min="${n+1}" max="${n+1}" width="${a}" customWidth="1" />\n`)}return e+="    </cols>",e}getCustomFilter(t,e){let n,a="equal";switch(t instanceof Date&&(t=(t.getTime()+this.timeBetween1900And1970)/864e5+2),e=e.toUpperCase()){case"EMPTY":n="";break;case"NOT_EMPTY":n="",a="notEqual";break;case"CONTAINS":case"CONTAINS_CASE_SENSITIVE":n=`*${t}*`;break;case"DOES_NOT_CONTAIN":case"DOES_NOT_CONTAIN_CASE_SENSITIVE":n=`*${t}*`,a="notEqual";break;case"STARTS_WITH":case"STARTS_WITH_CASE_SENSITIVE":n=`${t}*`;break;case"ENDS_WITH":case"ENDS_WITH_CASE_SENSITIVE":n=`*${t}`;break;case"EQUAL":case"EQUAL_CASE_SENSITIVE":n=t;break;case"NULL":n=null;break;case"NOT_NULL":n=null,a="notEqual";break;case"NOT_EQUAL":n=t,a="notEqual";break;case"LESS_THAN":n=t,a="lessThan";break;case"LESS_THAN_OR_EQUAL":n=t,a="lessThanOrEqual";break;case"GREATER_THAN":n=t,a="greaterThan";break;case"GREATER_THAN_OR_EQUAL":n=t,a="greaterThanOrEqual"}return`                <customFilter val="${n}" operator="${a}"/>\n`}getCustomRowHeight(t){const e=this;return e.style&&(e.rowHeight[t]||e.defaultRowHeight)||""}getDatafields(t){const e=t[0],n=[];for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&"_"!==a.charAt(0)&&n.push(a);this.datafields=n}getFilters(){const t=this,e=t.filterBy;if(!e)return"";let n="";for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const i=t.datafields.indexOf(a);if(-1===i)continue;const r=e[a],o=r.filters;n+=`        <filterColumn colId="${i}">\n            <customFilters and="${!r.operator}">\n`;for(let s=0;s<o.length;s++)n+=t.getCustomFilter(o[s].value,o[s].condition);n+="            </customFilters>\n        </filterColumn>"}return n?(n=`\n    <autoFilter ref="A1:${t.columnsArray[t.columnsArray.length-1]+t.data.length}">\n${n}\n    </autoFilter>`,n):""}getGroupLabels(t){const e=this,n=void 0!==e.xlsxStartIndex?e.xlsxStartIndex:+e.exportHeader,a={},i=[];for(let r=n;r<t.length;r++){const o=t[r];for(let s=0;s<e.groupBy.length;s++){const d=e.groupBy[s],c=o[d];let u=a[d];void 0===u&&(a[d]={},u=a[d]),void 0===u[c]&&(u[c]=(e.exportHeader?t[n-1][d]:d)+": "+c,i.push(u[c]))}}e.groups=a,e.groupLabels=i}getHTMLHeader(t,e){const n=this;let a="\n        <thead>\n";if(!n.complexHeader){a+="            <tr>\n";for(let i=0;i<t.length;i++){const r=t[i];a+=`                <th class="header header${r}">${e[0][r]}</th>\n`}return a+="            </tr>\n        </thead>",a}for(let i=0;i<n.complexDataFieldsHeader.length;i++){const r=n.complexDataFieldsHeader[i];a+="            <tr>\n";for(let o=0;o<r.length;o++){const s=r[o];let d=1,c=1;if(r[o-1]&&r[o-1]===s||n.complexDataFieldsHeader[i-1]&&n.complexDataFieldsHeader[i-1][o]===s)continue;let u=o+1;for(;r[u]&&r[u]===r[u-1];)d++,u++;for(u=i+1;n.complexDataFieldsHeader[u]&&n.complexDataFieldsHeader[u][o]===s;)c++,u++;a+=`                <th class="header${i===n.complexHeader.length-1||c+i===n.complexHeader.length?" header"+t[o]:""}" colspan="${d}" rowspan="${c}">${n.complexHeader[i][o]}</th>\n`}a+="            </tr>\n"}return a+="        </thead>",a}getConditionalFormatting(){const t=this,e=t.conditionalFormatting;if(!e)return void(t.conditionalFormattingXLSX={conditions:"",styles:""});const n=[];let a="",i="";for(let r=e.length-1;r>=0;r--){const o=e[r],s=t.columnsArray[t.datafields.indexOf(o.column)],d=s+(t.xlsxStartIndex+1),c=d+":"+s+t.data.length,u=o.background+o.color,m=t.getConditionalAttributes(o,d);let h=n.indexOf(u);-1===h&&(i+=`        <dxf>\n            <font>\n                <b val="0"/>\n                <i val="0"/>\n                <color rgb="${"White"===o.color?"FFFFFFFF":"FF000000"}"/>\n                <sz val="10"/>\n            </font>\n            <fill>\n                <patternFill>\n                    <bgColor rgb="${t.toARGB(o.background)}"/>\n                </patternFill>\n            </fill>\n        </dxf>\n`,h=n.length,n.push(u)),a+=`    <conditionalFormatting sqref="${c}">\n        <cfRule dxfId="${h}" text="${m.text}" rank="${m.rank}" percent="${m.percent}" bottom="${m.bottom}" equalAverage="${m.equalAverage}" aboveAverage="${m.aboveAverage}"${m.operator}${m.timePeriod} priority="${r+2}" type="${m.type}">\n${m.formula}        </cfRule>\n    </conditionalFormatting>\n`}i=`    <dxfs count="${n.length}">\n${i}    </dxfs>`,t.conditionalFormattingXLSX={conditions:a,styles:i}}getConditionalAttributes(t,e){let a=t.comparator,i="",r=0,o=0,s=0,d=0,c="",u="",m="",h="";switch(t.condition){case"equal":c="equal",m="cellIs",h=`            <formula>${a}</formula>\n`;break;case"lessThan":c="lessThan",m="cellIs",h=`            <formula>${a}</formula>\n`;break;case"greaterThan":c="greaterThan",m="cellIs",h=`            <formula>${a}</formula>\n`;break;case"notEqual":c="notEqual",m="cellIs",h=`            <formula>${a}</formula>\n`;break;case"between":c="between",m="cellIs",h=`            <formula>${t.min}</formula>\n            <formula>${t.max}</formula>\n`;break;case"duplicate":m="duplicateValues",h="            <formula>0</formula>\n";break;case"topNItems":r=a,m="top10";break;case"bottomNItems":r=a,s=1,m="top10";break;case"topNPercent":r=a,o=1,m="top10";break;case"bottomNPercent":r=a,o=1,s=1,m="top10";break;case"aboveAverage":d=1,m="aboveAverage",h="            <formula>0</formula>\n";break;case"belowAverage":m="aboveAverage",h="            <formula>0</formula>\n";break;case"contains":i=a,c="containsText",m="containsText",h=`            <formula>NOT(ISERROR(SEARCH("${a}",${e})))</formula>\n`;break;case"doesNotContain":i=a,c="notContains",m="notContainsText",h=`            <formula>ISERROR(SEARCH("${a}",${e}))</formula>\n`;break;case"dateOccur":u=` timePeriod="${a}"`,m="timePeriod"}return c&&(c=` operator="${c}" `),{text:i,rank:r,percent:o,bottom:s,equalAverage:0,aboveAverage:d,operator:c,timePeriod:u,type:m,formula:h}}getMergedCells(t){const e=this;let n="";for(let a=0;a<t.length;a++)t[a].from!==t[a].to&&(n+=`\n        <mergeCell ref="${t[a].from}:${t[a].to}" />\n`);if(e.mergedCells)for(let a=0;a<e.mergedCells.length;a++){const i=e.mergedCells[a];i.rowspan<2&&i.colspan<2||(n+=`\n        <mergeCell ref="${e.columnsArray[i.cell[0]]+(i.cell[1]+e.xlsxStartIndex+1)}:${e.columnsArray[i.cell[0]+i.colspan-1]+(i.cell[1]+e.xlsxStartIndex+i.rowspan)}" />\n`)}return n&&(n=`\n    <mergeCells count="${t.length}">${n}    </mergeCells>`),n}getNumFmtIndex(t,e){let n=e.collection.indexOf(t);return-1===n?(n=e.collection.length+100,e.collection.push(t),e.xml+=`<numFmt numFmtId="${n}" formatCode="${t}"/>`):n+=100,n}getOutlineLevel(t){return this.actualHierarchy&&1!==t._level?` outlineLevel="${t._level-1}"`:""}getRowStyle(){const t=this.style;if(!t)return"";const e=t.rows;if(!e)return"";const n={row:""};let a="";for(let r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||"alternationCount"===r||"alternationStart"===r||"alternationEnd"===r)continue;const o=e[r];if(-1===r.indexOf("alt"))if(isNaN(r))n.row+=Smart.Utilities.Core.toDash(r)+": "+e[r]+"; ";else{n["row"+r]||(n["row"+r]="");for(let s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n["row"+r]+=Smart.Utilities.Core.toDash(s)+": "+o[s]+"; ")}else{const s=r.slice(16,17),d=r.slice(17);n["rowN"+s]||(n["rowN"+s]=""),n["rowN"+s]+="Color"===d?"color : "+o+"; ":"BorderColor"===d?"border-color : "+o+"; ":"background-color : "+o+"; "}}let i=Object.keys(n);i.sort(function(r,o){if("row"===r)return-1;if("row"===o)return 1;const s=!isNaN(r.slice(3)),d=!isNaN(o.slice(3));return s&&!d?1:!s&&d?-1:+(r<o)});for(let r=0;r<i.length;r++)a+=`        .${i[r]} { ${n[i[r]]}}\n`;return a}getTableStyle(){const t=this.style;if(!t)return' style="table-layout: fixed; border: 1px solid black; border-collapse: collapse;"';let e="table-layout: fixed; ";for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===["header","columns","rows","removeDefault","custom"].indexOf(n)&&(e+=Smart.Utilities.Core.toDash(n)+": "+t[n]+"; ");return e&&(e=' style="'+e+'"'),e}getXLSXCellStyle(t){return void 0!==this.cellStyleMapping[t]?` s="${this.cellStyleMapping[t]}"`:""}getXLSXFormat(t,e){if("number"==typeof e){if(!/^([a-zA-Z]\d*)$/g.test(t))return t;let n=parseFloat(t.slice(1))||0,a=n>0?"."+"0".repeat(n):"";switch(t=t.slice(0,1)){case"C":case"c":return"$#,0"+a;case"D":case"d":return n?"0".repeat(n):"0";case"E":case"e":return"0"+a+t+"000";case"F":case"f":return"0"+a;case"N":case"n":return"#,0"+a;case"P":case"p":return"#,0"+a+" %";default:return}}else if(e instanceof Date){switch(t){case"d":return"m/d/yyyy";case"D":return"nnnnmmmm dd, yyyy";case"t":return"h:m AM/PM";case"T":return"h:mm:ss AM/PM";case"f":return"nnnnmmmm dd, yyyy h:m AM/PM";case"F":return"nnnnmmmm dd, yyyy h:mm:ss AM/PM";case"M":return"mmmm d";case"Y":return"yyyy mmmm";case"FP":case"PP":return"yyyy-mm-dd hh:mm:ss";case"FT":case"PT":return"hh:mm:ss"}return(t=(t=(t=t.replace(/f|u|n|p|e|a|x|o/gi,"")).replace(/tt/gi,"AM/PM")).replace(/:{2,}|:\s|:$|\.$/g,"")).trim()}}processColumnStyle(t){const e=this,n=t.header,a=t.columns,i=e.data[0],r=e.xlsxStartIndex;if(e.columnWidth=[],r&&n)for(let o=0;o<e.columnsArray.length;o++){const s=e.columnsArray[o],d=s+r,c=n[e.datafields[o]];for(let u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&void 0===i[u])if(e.complexHeader)for(let m=0;m<e.complexHeader.length;m++)"height"!==u?e.storeCellStyle(s+(m+1),u,n[u]):e.rowHeight[m]=` ht="${parseFloat(n.height)/e.complexHeader.length/2}"`;else{if("height"===u){e.rowHeight[0]=` ht="${parseFloat(n.height)/2}"`;continue}e.storeCellStyle(d,u,n[u])}if(c)for(let u in c)if(Object.prototype.hasOwnProperty.call(c,u)){if("width"===u){e.columnWidth[o]=c.width;continue}e.storeCellStyle(d,u,c[u])}}else if(n)for(let o=0;o<e.columnsArray.length;o++){const s=n[e.datafields[o]];s&&void 0!==s.width&&(e.columnWidth[o]=s.width)}if(!a)return"";for(let o=r;o<e.data.length;o++)for(let s=0;s<e.columnsArray.length;s++){const d=e.columnsArray[s]+(o+1),c=e.datafields[s],u=a[c];for(let m in a)Object.prototype.hasOwnProperty.call(a,m)&&void 0===i[m]&&e.storeCellStyle(d,m,a[m]);if(u)for(let m in u)isNaN(m)&&Object.prototype.hasOwnProperty.call(u,m)&&e.storeCellStyle(d,m,u[m],e.data[o][c])}}processComplexHeader(t,e,n){const a=this,i={},r=-1!==["html","jpeg","pdf","png","xlsx"].indexOf(n)&&t.columngroups,o=[],s={},d={},c=[],u=[];let m=0;function h(_){for(let C=0;C<t.columngroups.length;C++){const x=t.columngroups[C];if(x.name===_)return x}}function y(_,C){const x=[];for(;_;){if(x.unshift(_[C]),!_.parentGroup)return x;_=h(_.parentGroup)}}if(r){for(let _=0;_<t.columngroups.length;_++){const C=t.columngroups[_],x=y(C,"label");s[C.name]=x,d[C.name]=y(C,"name"),m=Math.max(m,x.length)}m++;for(let _=0;_<m;_++)c[_]=[],u[_]=[]}for(let _=0;_<t.columns.length;_++){const C=t.columns[_];if(i[C.dataField]=C.label,!r||(o[_]=C.dataField,c[m-1][_]=C.label,u[m-1][_]=C.dataField,!C.columnGroup))continue;const x=s[C.columnGroup],E=d[C.columnGroup];if(x)for(let A=0;A<x.length;A++)c[A][_]=x[A],u[A][_]=E[A]}if(c.length>1){const _=Object.keys(i).length;for(let C=0;C<m-1;C++){const x={};for(let E=0;E<_;E++){if(void 0===c[C][E]){let A=C+1;for(;void 0===c[A][E];)A++;c[C][E]=c[A][E],u[C][E]=u[A][E]}x[o[E]]=c[C][E]}"xlsx"===n&&e.splice(C,0,x)}if(a.complexHeader=c,a.complexDataFieldsHeader=u,"xlsx"!==n)e.unshift(i);else{e.splice(m-1,0,i);const C={};for(let x=0;x<m;x++)for(let E=0;E<_;E++){const A=u[x][E];if(C[A]){const I=C[A].to;if(x-I[0]>1||E-I[1]>1){C[A+Math.random().toString(36)]=C[A],C[A]={from:[x,E],to:[x,E]};continue}C[A].to=[x,E]}else C[A]={from:[x,E]},C[A].to=C[A].from}a.complexHeaderMergeInfo=C}}else e.unshift(i)}processHierarchicalData(t,e){const n=this,a="xlsx"!==e?+n.exportHeader:n.xlsxStartIndex,i={},r=[];let o=0,s=!1;if(void 0===t[a]._keyDataField)return n.processNestedData(t,e,a);for(let d=a;d<t.length;d++){const c=Object.assign({},t[d]);let u=c._parentDataField;void 0===u&&(u=null),void 0===i[u]?i[u]=[c]:i[u].push(c)}if(a)for(let d=0;d<a;d++)r.push(Object.assign({},t[d])),-1===["json","pdf","xml"].indexOf(e)&&(r[d]._level=1);return"json"!==e&&"xml"!==e?function d(c,u,m){const h=i[c];if(o=Math.max(o,u),void 0!==h)for(let y=0;y<h.length;y++){const _=h[y],C=_._keyDataField;_._collapsed=m,_._level=u,r.push(_),i[C]&&(s=!0,_._expanded=void 0===_._expanded||_._expanded,d(C,u+1,m||!_._expanded))}}(null,1,!1):function d(c,u,m){const h=i[c];if(o=Math.max(o,u),void 0!==h)for(let y=0;y<h.length;y++){const _=h[y],C=_._keyDataField;let x;if("json"===e){x={};for(let E in _)Object.prototype.hasOwnProperty.call(_,E)&&"_"!==E.charAt(0)&&(x[E]=_[E])}else x=Object.assign({},_);m.push(x),i[C]&&(s=!0,x.rows=[],d(C,u+1,x.rows))}}(null,1,r),s||(n.actualHierarchy=!1),n.maxLevel=o,r}processNestedData(t,e,n){const i=[];let r=0,o=!1;if(n)for(let s=0;s<n;s++)i.push(Object.assign({},t[s])),-1===["json","pdf","xml"].indexOf(e)&&(i[s]._level=1);return"json"!==e&&"xml"!==e?function s(d,c,u,m){r=Math.max(r,u);for(let h=d;h<c.length;h++){const y=Object.assign({},c[h]);y._collapsed=m,y._level=u,i.push(y),y.children&&y.children.length>0&&(o=!0,y._expanded=void 0===y._expanded||y._expanded,s(0,y.children,u+1,m||!y._expanded)),delete y.children}}(n,t,1,!1):function s(d,c,u,m){r=Math.max(r,m);for(let h=d;h<c.length;h++){const y=Object.assign({},c[h]);1===m?i[h]=y:u[h]=y,y.children&&y.children.length>0&&(o=!0,y.rows=[],s(0,y.children,y.rows,m+1)),delete y.children}}(n,t,void 0,1),o||(this.actualHierarchy=!1),this.maxLevel=r,i}processRowStyle(t){const e=this,n=t.rows;if(e.rowHeight=[],!n)return;const a=e.xlsxStartIndex;function i(r,o,s){for(let d=0;d<e.columnsArray.length;d++)e.storeCellStyle(e.columnsArray[d]+(r+1+a),o,s)}n.height&&(e.defaultRowHeight=` ht="${parseFloat(n.height)/2}"`);for(let r=a;r<e.data.length;r++){const o=r-a;for(let s in n)Object.prototype.hasOwnProperty.call(n,s)&&-1===s.indexOf("alt")&&isNaN(s)&&"height"!==s&&i(o,s,n[s]);if(n.alternationCount&&((void 0===n.alternationStart||o>=n.alternationStart)&&(void 0===n.alternationEnd||o<=n.alternationEnd)||n.alternationStart===n.alternationEnd)){const s=(o-(n.alternationStart||0))%n.alternationCount;n[`alternationIndex${s}Color`]&&i(o,"color",n[`alternationIndex${s}Color`]),n[`alternationIndex${s}BorderColor`]&&i(o,"borderColor",n[`alternationIndex${s}BorderColor`]),n[`alternationIndex${s}BackgroundColor`]&&i(o,"backgroundColor",n[`alternationIndex${s}BackgroundColor`])}if(n[o])for(let s in n[o])if(Object.prototype.hasOwnProperty.call(n[o],s)){if("height"===s){e.rowHeight[r]=` ht="${parseFloat(n[o].height)/2}"`;continue}i(o,s,n[o][s])}}}storeCellStyle(t,e,n){const a=this.styleMap[t];switch(e){case"backgroundColor":a.fills.fgColor=n;break;case"color":a.fonts.color=n;break;case"fontFamily":a.fonts.name=n.replace(/"/g,"'");break;case"fontSize":a.fonts.sz=parseFloat(n);break;case"fontStyle":"italic"===n?a.fonts.i=!0:delete a.fonts.i;break;case"fontWeight":"bold"===n?a.fonts.b=!0:delete a.fonts.b;break;case"numFmt":a.numFmt=n;break;case"textAlign":a.alignment.horizontal=n;break;case"textDecoration":"underline"===n?a.fonts.u=!0:delete a.fonts.u;break;case"verticalAlign":"middle"===n&&(n="center"),a.alignment.vertical=n}}toARGB(t){t=t.replace(/\s/g,"");const e=/rgb\((\d+),(\d+),(\d+)\)/gi.exec(t);if(null!==e){const i=parseFloat(e[1]).toString(16).toUpperCase(),r=parseFloat(e[2]).toString(16).toUpperCase(),o=parseFloat(e[3]).toString(16).toUpperCase();return"FF"+"0".repeat(2-i.length)+i+"0".repeat(2-r.length)+r+"0".repeat(2-o.length)+o}const n=/rgba\((\d+),(\d+),(\d+)\,(\d*.\d+|\d+)\)/gi.exec(t);if(null!==n){const i=Math.round(255*parseFloat(n[4])).toString(16).toUpperCase(),r=parseFloat(n[1]).toString(16).toUpperCase(),o=parseFloat(n[2]).toString(16).toUpperCase(),s=parseFloat(n[3]).toString(16).toUpperCase();return"0".repeat(2-i.length)+i+"0".repeat(2-r.length)+r+"0".repeat(2-o.length)+o+"0".repeat(2-s.length)+s}const a=/^#(.)(.)(.)$/gi.exec(t);if(null!==a){const i=a[1].toUpperCase(),r=a[2].toUpperCase(),o=a[3].toUpperCase();return"FF"+i+i+r+r+o+o}return"FF"+t.toUpperCase().slice(1)}toggleableFunctionality(){const t=this;return t.actualHierarchy?`\n    <style type="text/css">\n        .toggle-element {\n            width: 5px;\n            height: 1px;\n            padding-right: 5px;\n            float: left;\n            text-align: right;\n            cursor: pointer;\n            user-select: none;\n        }\n\n        .collapsed {\n            display: none;\n        }\n    </style>\n    <script type="text/javascript">\n        window.onload = function () {\n            var expandChar = '${t.expandChar}',\n                collapseChar = '${t.collapseChar}',\n                toggleElements = document.getElementsByClassName('toggle-element');\n\n            function getParent(child) {\n                var prevSibling = child.previousElementSibling;\n\n                while (prevSibling) {\n                    if (child.getAttribute('level') > prevSibling.getAttribute('level')) {\n                        return prevSibling;\n                    }\n\n                    prevSibling = prevSibling.previousElementSibling;\n                }\n\n            }\n\n            function getFirstCollapsedAncestor(child) {\n                var parent = getParent(child);\n\n                while (parent) {\n                    if (parent.firstElementChild.firstElementChild.innerHTML === expandChar) {\n                        return parent;\n                    }\n\n                    parent = getParent(parent);\n                }\n            }\n\n            for (var i = 0; i < toggleElements.length; i++) {\n                toggleElements[i].addEventListener('click', function (event) {\n                    var expanded = this.innerHTML === collapseChar,\n                        row = this.parentElement.parentElement,\n                        sibling = row.nextElementSibling;\n\n                    if (expanded) {\n                        this.innerHTML = expandChar;\n                    }\n                    else {\n                        this.innerHTML = collapseChar;\n                    }\n\n                    while (sibling && row.getAttribute('level') < sibling.getAttribute('level')) {\n                        if (expanded) {\n                            sibling.style.display = 'none';\n                        }\n                        else {\n                            var firstCollapsedAncestor = getFirstCollapsedAncestor(sibling);\n\n                            if (!firstCollapsedAncestor || firstCollapsedAncestor === row) {\n                                sibling.classList.remove('collapsed');\n                                sibling.style.display = null;\n                            }\n\n                        }\n\n                        sibling = sibling.nextElementSibling;\n                    }\n                });\n            }\n        }\n    <\/script>`:""}generateStyles(t){const e=this;if(e.cellStyleMapping={},0===Object.keys(t).length&&!e.complexHeader)return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2 xr" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision"><fonts count="1" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><charset val="204"/><scheme val="minor"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>${e.conditionalFormattingXLSX.styles||'<dxfs count="0"/>'}<tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>`;e.styleMap={};for(let s=0;s<e.data.length;s++)for(let d=0;d<e.columnsArray.length;d++)e.styleMap[e.columnsArray[d]+(s+1)]={numFmts:{},fonts:{},fills:{},borders:{},alignment:{}};if(t&&t.columns)for(let s=0;s<e.columnsArray.length;s++){const d=e.datafields[s];if(!t.columns[d]||!t.columns[d].format)continue;const c=e.getXLSXFormat(t.columns[d].format,e.data[1][d]),u=e.getXLSXFormat(t.columns[d].format,e.data[e.data.length-1][d]);u?t.columns[d].numFmt=u:c&&(t.columns[d].numFmt=c)}e.processRowStyle(t),e.processColumnStyle(t);const n={};for(let s=0;s<e.complexHeaderMergedCells.length;s++){const d=e.complexHeaderMergedCells[s];parseFloat(d.to[1])!==e.complexHeader.length?(e.styleMap[d.from].alignment.horizontal="center",e.styleMap[d.from].alignment.vertical="center"):n[d.to]=d.from}const a={xml:'<font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><charset val="204" /><scheme val="minor" /></font>',collection:["default"]},i={xml:'<fill><patternFill patternType="none" /></fill><fill><patternFill patternType="gray125" /></fill>',collection:["default","gray125"]},r={xml:"",collection:[]},o={xml:'<xf fontId="0" fillId="0" borderId="1"/>',collection:["default"]};for(let s=0;s<e.data.length;s++)for(let d=0;d<e.columnsArray.length;d++){const c=e.columnsArray[d]+(s+1),u=e.styleMap[c];let m="",h="",y="",_=[],C=[],x=[],E=[];for(let I in u.fonts)if(Object.prototype.hasOwnProperty.call(u.fonts,I)){const L=u.fonts[I];switch(I){case"color":_[0]=L,m+=`<color rgb="${e.toARGB(L)}" />`;break;case"name":_[1]=L,m+=`<name val="${L}" />`;break;case"sz":_[2]=L,m+=`<sz val="${L}" />`;break;case"i":_[3]=L,m+="<i />";break;case"b":_[4]=L,m+="<b />";break;case"u":_[5]=L,m+="<u />"}}for(let I in u.fills)if(Object.prototype.hasOwnProperty.call(u.fills,I)){const L=u.fills[I];"fgColor"===I&&(C[0]=L,h+=`<fgColor rgb="${e.toARGB(L)}" />`)}for(let I in u.alignment)if(Object.prototype.hasOwnProperty.call(u.alignment,I)){const L=u.alignment[I];switch(I){case"horizontal":x[0]=L,y+=`horizontal="${L}" `;break;case"vertical":x[1]=L,y+=`vertical="${L}" `}}if(_=_.toString(),C=C.toString(),""!==m){let I=a.collection.indexOf(_);-1===I&&(I=a.collection.length,a.xml+="<font>"+m+"</font>",a.collection.push(_)),E[0]=I}if(""!==h){let I=i.collection.indexOf(C);-1===I&&(I=i.collection.length,i.xml+='<fill><patternFill patternType="solid">'+h+"</patternFill></fill>",i.collection.push(C)),E[1]=I}x.length>0&&(E[2]=y),void 0!==u.numFmt&&(E[3]=e.getNumFmtIndex(u.numFmt,r));const A=E.toString();if(""!==A){let I=o.collection.indexOf(A);if(-1===I){let L="<xf ";I=o.collection.length,void 0!==E[0]&&(L+=`fontId="${E[0]}" `),void 0!==E[1]&&(L+=`fillId="${E[1]}" `),void 0!==E[3]&&(L+=`numFmtId="${E[3]}" `),L+=void 0!==E[2]?`applyAlignment="1" borderId="1"><alignment ${y}/></xf>`:' borderId="1"/>',o.xml+=L,o.collection.push(A)}e.cellStyleMapping[n[c]||c]=I}}return r.collection.length&&(r.xml=`<numFmts count="${r.collection.length}">${r.xml}</numFmts>`),`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2 xr" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision">${r.xml}<fonts count="${a.collection.length}" x14ac:knownFonts="1">${a.xml}</fonts><fills count="${i.collection.length}">${i.xml}</fills><borders count="2"><border><left/><right/><top/><bottom/></border><border><left style="hair"/><right style="hair"/><top style="hair"/><bottom style="hair"/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="${o.collection.length}">${o.xml}</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>${e.conditionalFormattingXLSX.styles}<dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>`}})},71641:()=>{Smart.Utilities.Assign("FilterGroup",class ce{constructor(){const e=this;e.stringConditions=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","NOT_EQUAL","EQUAL_CASE_SENSITIVE","NOT_EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],e.numericConditions=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],e.dateConditions=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],e.booleanConditions=["EQUAL","NOT_EQUAL","NULL","NOT_NULL"],e.filters=new Array,e.logicalOperators=new Array}toString(){const e=this;let n="";for(let a=0;a<e.filters.length;a++)a>0&&(n+=" "+e.logicalOperators[a-1]+" "),n+=e.filters[a].toString();return n}evaluate(e){const n=this;let a=!0;for(let i=0;i<n.filters.length;i++){if(!n.filters[i].evaluate)continue;let r=n.filters[i].evaluate(e);a=0===i?r:1===n.logicalOperators[i]||"or"===n.logicalOperators[i]?a||r:a&&r}return a}getFiltersCount(){return this.filters.length}setConditions(e,n){const a=this;switch(e){case"numeric":a.numericConditions=n;break;case"string":a.stringConditions=n;break;case"date":case"time":a.dateConditions=n;break;case"bool":case"boolean":a.booleanConditions=n}}getConditions(e){const n=this;let a=new Array;switch(e){case"numeric":a=n.numericConditions.slice(0);break;case"string":a=n.stringConditions.slice(0);break;case"date":case"time":a=n.dateConditions.slice(0);break;case"bool":case"boolean":a=n.booleanConditions.slice(0)}return a}generateFilterKey(){const e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()}createFilter(e,n,a,i,r,o,s){if(null==e)return null;switch(e){case"int":case"float":case"int64":case"double":case"numeric":case"number":case"numericFilter":return new Smart.Utilities.NumericFilter(n,a.toUpperCase());case"string":case"stringFilter":return new Smart.Utilities.StringFilter(n,a.toUpperCase(),o);case"date":case"time":case"dateFilter":return new Smart.Utilities.DateFilter(n,a.toUpperCase(),r,o,s);case"bool":case"boolean":case"booleanFilter":return new Smart.Utilities.BooleanFilter(n,a.toUpperCase());case"custom":return new Smart.Utilities.CustomFilter(n,a.toUpperCase(),i)}throw new Error('smartGrid: There is no such filter type. The available filter types are: "numericFilter", "stringFilter", "dateFilter" and "booleanFilter"')}getFilters(){const e=this;let n=new Array;for(let a=0;a<e.filters.length;a++){const i=e.filters[a];if(i instanceof ce){let r=i.getFilters();n.push({value:r,logicalOperator:e.logicalOperators[a],type:"FilterGroup"})}else{const r={value:i.value,condition:i.condition,logicalOperator:e.logicalOperators[a],type:i.type};i.data&&(r.id=i.data),n.push(r)}}return n}addFilter(e,n){const a=this;a.filters[a.filters.length]=n,n.key=a.generateFilterKey(),a.logicalOperators[a.logicalOperators.length]=e}removeFilter(e){const n=this;for(let a=0;a<n.filters.length;a++)if(n.filters[a].key===e.key){n.filters.splice(a,1),n.logicalOperators.splice(a,1);break}}getOperatorAt(e){return null==e||e<0||e>this.filters.length?null:this.logicalOperators[e]}setOperatorAt(e,n){return null==e||e<0||e>this.filters.length?null:void(this.logicalOperators[n]=n)}getFilterAt(e){return null==e||e<0||e>this.filters.length?null:this.filters[e]}setFilterAt(e,n){const a=this;return null==e||e<0||e>a.filters.length?null:(n.key=a.generateFilterKey(),void(a.filters[e]=n))}clear(){this.filters=new Array,this.logicalOperators=new Array}getUniqueValues(e,n){const a=e.data,i=[],r=[],o="dateFilter"===e.filterType&&"timePicker"===e.displayMode;let s,d=!1;for(let c=0;c<a.length;c++){let u,m=a[c][e.dataField];""!==m&&null!=m?(u=o?new Smart.Utilities.DateTime(m).toString(e.formatString):m.toString(),-1===i.indexOf(u)&&(i.push(u),r.push({label:u,value:m,customAttribute:"default-item"}))):d=!0}switch(e.filterType){case"numericFilter":case"booleanFilter":s=function(c,u){return c.value-u.value};break;case"stringFilter":s=function(c,u){return(new Intl.Collator).compare(c.value,u.value)};break;case"dateFilter":s=o?function(c,u){try{const m=c.value.getHours(),h=u.value.getHours();if(m!==h)return m-h;const y=c.value.getMinutes(),_=u.value.getMinutes();if(y!==_)return y-_;const C=c.value.getSeconds(),x=u.value.getSeconds();return C!==x?C-x:0}catch{return-1}}:function(c,u){try{return c.value.getTime()-u.value.getTime()}catch{return-1}}}return r.sort(s),"booleanFilter"===e.filterType&&r.map(function(c){c.label=c.label.toUpperCase()}),d&&r.push({label:n.localize("blanks"),value:"",customAttribute:"default-item"}),r}}),Smart.Utilities.Assign("StringFilter",class{constructor(t,e,n){const a=this;a.value=t,a.condition=e,a.locale=n||"en",a.type="stringFilter"}toString(){return this.condition+" "+this.value}evaluate(t){const e=this,n=e.value,a=e.condition;if(null==t||""===t){if("NULL"===a||"EQUAL"===a&&t===n||"NOT_EQUAL"===a&&t!==n||"CONTAINS"===a&&t===n)return!0;if("EMPTY"!==a)return!1;if(""===t)return!0}let i="";try{i=t.toString()}catch{return!0}const r=function(s,d){const c=e.locale;switch(a){case"EQUAL":return 0===s.localeCompare(d,c,{sensitivity:"accent"});case"EQUAL_CASE_SENSITIVE":return 0===s.localeCompare(d,c,{sensitivity:"variant"});case"NOT_EQUAL":return 0!==s.localeCompare(d,c,{sensitivity:"accent"});case"NOT_EQUAL_CASE_SENSITIVE":return 0!==s.localeCompare(d,c,{sensitivity:"variant"});case"CONTAINS":return"number"==typeof d?s===d:-1!==s.toLowerCase().indexOf(d.toLowerCase());case"CONTAINS_CASE_SENSITIVE":return-1!==s.indexOf(d);case"DOES_NOT_CONTAIN":return-1===s.toLowerCase().indexOf(d.toLowerCase());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return-1===s.indexOf(d);case"EMPTY":return""===s;case"NOT_EMPTY":return""!==s;case"NOT_NULL":return null!==s;case"STARTS_WITH":return 0===(s=s.substring(0,d.length)).localeCompare(d,c,{sensitivity:"accent"});case"ENDS_WITH":return 0===(s=s.substring(s.length-d.length,s.length)).localeCompare(d,c,{sensitivity:"accent"});case"ENDS_WITH_CASE_SENSITIVE":return 0===(s=s.substring(s.length-d.length,s.length)).localeCompare(d,c,{sensitivity:"variant"});case"STARTS_WITH_CASE_SENSITIVE":return 0===(s=s.substring(0,d.length)).localeCompare(d,c,{sensitivity:"variant"});default:return!1}},o=new Array;if(n&&n.indexOf&&(n.indexOf("|")>=0||n.indexOf(" AND ")>=0||n.indexOf(" OR ")>=0||n.indexOf(" and ")>=0||n.indexOf(" or ")>=0)){const s=r(i,n);if(s)return s;const d=n.indexOf(" and ")>=0?n.split(" and "):new Array,c=n.indexOf(" or ")>=0?n.split(" or "):new Array,u=n.indexOf("|")>=0?n.split("|"):new Array;let m=n.indexOf(" AND ")>=0?n.split(" AND "):new Array,h=n.indexOf(" OR ")>=0?n.split(" OR "):new Array;if(u.length>0)for(let C=0;C<u.length;C++)u[C]=u[C].trim;const y=n.indexOf(" ")>=0?n.split(" "):new Array;if(y.length>0)for(let C=0;C<y.length;C++)y[C]=y[C].trim;if(m=m.concat(y),m=m.concat(d),h=h.concat(u),h=h.concat(c),m.length>0)for(let C=0;C<m.length;C++)!m[C].indexOf(" OR ")>=0&&o.push(m[C]);if(h.length>0)for(let C=0;C<h.length;C++)!h[C].indexOf(" AND ")>=0&&o.push(h[C]);let _;for(let C=0;C<o.length;C++){const x=r(i,o[C]);_=void 0===_?x:"or"==(C<m.length?"and":"or")?_||x:_&&x}return _}return r(i,n)}}),Smart.Utilities.Assign("BooleanFilter",class{constructor(t,e){const n=this;n.value=t,n.condition=e,n.type="booleanFilter"}toString(){return this.condition+" "+this.value}evaluate(t){const e=this.value,n=t;switch(this.condition){case"EQUAL":return n===e;case"NOT_EQUAL":return n!==e;case"NULL":return null==t||""===t;case"NOT_NULL":return!(null==t||""===t);default:return!1}}}),Smart.Utilities.Assign("NumericFilter",class{constructor(t,e){const n=this;n.value=t,n.condition=e,n.type="numericFilter"}toString(){return this.condition+" "+this.value}evaluate(t){let e=this.value,n=this.condition;if(null==t||""===t){if("NOT_NULL"===n)return!1;if("NULL"===n)return!0;switch(n){case"EQUAL":return t===e;case"NOT_EQUAL":return t!==e}return!1}if("NULL"===n)return!1;if("NOT_NULL"===n)return!0;let a=t;try{a=parseFloat(a)}catch{if(null!==t&&""!==t.toString())return!1}const i=function(o,s){switch("number"==typeof o&&"number"!=typeof s&&(s=parseFloat(s)),n){case"EQUAL":return o===s;case"NOT_EQUAL":return o!==s;case"GREATER_THAN":return o>s;case"GREATER_THAN_OR_EQUAL":return o>=s;case"LESS_THAN":return o<s;case"LESS_THAN_OR_EQUAL":return o<=s;case"STARTS_WITH":return s=s.toString().toLowerCase(),o.toString().toLowerCase().substring(0,s.length)===s;case"ENDS_WITH":return o=o.toString().toLowerCase(),s=s.toString().toLowerCase(),o.substring(o.length-s.length,o.length)===s;case"ENDS_WITH_CASE_SENSITIVE":return o=o.toString(),s=s.toString(),o.substring(o.length-s.length,o.length)===s;case"STARTS_WITH_CASE_SENSITIVE":return s=s.toString(),o.toString().substring(0,s.length)===s;case"CONTAINS":return-1!==o.toString().toLowerCase().indexOf(s.toString().toLowerCase());case"CONTAINS_CASE_SENSITIVE":return-1!==o.toString().indexOf(s.toString());case"DOES_NOT_CONTAIN":return-1===o.toString().toLowerCase().indexOf(s.toString().toLowerCase());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return-1===o.toString().indexOf(s.toString());default:return!0}};let r=new Array;if(e&&e.indexOf&&(e.indexOf("|")>=0||e.indexOf(" AND ")>=0||e.indexOf(" OR ")>=0||e.indexOf(" and ")>=0||e.indexOf(" or ")>=0)){let o=i(a,e);if(o)return o;e=e.toString();const s=e.indexOf(" and ")>=0?e.split(" and "):new Array,d=e.indexOf(" or ")>=0?e.split(" or "):new Array,c=e.indexOf("|")>=0?e.split("|"):new Array;let u,m=e.indexOf(" AND ")>=0?e.split(" AND "):new Array,h=e.indexOf(" OR ")>=0?e.split(" OR "):new Array;if(m=m.concat(s),h=h.concat(d),c.length>0)for(let y=0;y<c.length;y++)c[y]=c[y].trim;if(h=h.concat(c),m.length>0)for(let y=0;y<m.length;y++)!m[y].indexOf(" OR ")>=0&&r.push(m[y]);if(h.length>0)for(let y=0;y<h.length;y++)!h[y].indexOf(" AND ")>=0&&r.push(h[y]);for(let y=0;y<r.length;y++){const _=r[y];if(_&&_.indexOf&&_.indexOf("..")>=0){const x=_.toString().split("..");2===x.length&&(o=a>=x[0]&&a<=x[1])}else o=i(a,_);u=void 0===u?o:"or"==(y<m.length?"and":"or")?u||o:u&&o}return u}return e&&e.indexOf&&e.indexOf("..")>=0&&(r=e.toString().split(".."),2===r.length)?a>=r[0]&&a<=r[1]:i(a,e)}}),Smart.Utilities.Assign("DateFilter",class{constructor(t,e,n,a,i){const r=this,o=new Smart.Utilities.DateTime;if(r.value=t,r.type="dateFilter",void 0!==n){const s=o.parseDate(t,n);if(null!==s)r.filterdate=s;else{const d=o.tryparseDate(t);null!==d&&(r.filterdate=d)}}else{const s=new Date(t);r.filterdate="NaN"===s.toString()||"Invalid Date"===s.toString()?o.tryparseDate(t):s}if(!r.filterdate){const s=new Date(t);r.filterdate="NaN"===s.toString()||"Invalid Date"===s.toString()?o.tryparseDate(t):s}r.condition=e,r.formatString=n,r.timeOnly=i}toString(){return this.condition+" "+this.value}evaluate(t){const e=this,n=e.condition,a=e.formatString;let i=e.value;if(e.timeOnly)return e.evaluateTimeOnly(t);if(null==t||""===t){if("NOT_NULL"===n)return!1;if("NULL"===n)return!0;switch(n){case"EQUAL":return t===i;case"NOT_EQUAL":return t!==i}return!1}if("NULL"===n)return!1;if("NOT_NULL"===n)return!0;let r,o=new Date;o.setFullYear(1900,0,1),o.setHours(12,0,0,0);try{const c=new Smart.Utilities.DateTime,u=new Date(t);if(o=t="NaN"===u.toString()||"Invalid Date"===u.toString()?c.tryparseDate(t):u,r=!1,void 0!==a&&(a.indexOf("t")>=0||a.indexOf("T")>=0||a.indexOf(":")>=0||a.indexOf("f")>=0)&&(r=!0,i&&-1===i.toString().indexOf(":"))){const m=c.tryparseDate(i.toString()+":00");null!==m&&(e.filterdate=m)}r||(o.setHours(0),o.setMinutes(0),o.setSeconds(0))}catch{if(null!==t&&""!==t.toString())return!1}if(null!==e.filterdate)i=e.filterdate;else if(i&&i.indexOf&&(-1!==i.indexOf(":")||!isNaN(parseInt(i)))){const c=new Date(o);c.setHours(12,0,0,0);const u=i.split(":");for(let m=0;m<u.length;m++)0===m&&c.setHours(u[m]),1===m&&c.setMinutes(u[m]),2===m&&c.setSeconds(u[m]);i=c}r&&i&&i.setFullYear&&o&&o.getFullYear&&-1===a.indexOf("d")&&-1===a.indexOf("M")&&-1===a.indexOf("y")&&i.setFullYear(o.getFullYear(),o.getMonth(),o.getDate());const s=function(c,u){switch(null===c&&(c=""),n){case"EQUAL":return c.toString()===u.toString();case"NOT_EQUAL":return c.toString()!==u.toString();case"GREATER_THAN":return c>u;case"GREATER_THAN_OR_EQUAL":return c>=u;case"LESS_THAN":return c<u;case"LESS_THAN_OR_EQUAL":return c<=u;case"STARTS_WITH":return u=u.toString().toLowerCase(),c.toString().toLowerCase().substring(0,u.length)===u;case"ENDS_WITH":return c=c.toString().toLowerCase(),u=u.toString().toLowerCase(),c.substring(c.length-u.length,c.length)===u;case"ENDS_WITH_CASE_SENSITIVE":return c=c.toString(),u=u.toString(),c.substring(c.length-u.length,c.length)===u;case"STARTS_WITH_CASE_SENSITIVE":return u=u.toString(),c.toString().substring(0,u.length)===u;case"CONTAINS":return-1!==c.toString().toLowerCase().indexOf(u.toString().toLowerCase());case"CONTAINS_CASE_SENSITIVE":return-1!==c.toString().indexOf(u.toString());case"DOES_NOT_CONTAIN":return-1===c.toString().toLowerCase().indexOf(u.toString().toLowerCase());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return-1===c.toString().indexOf(u.toString());default:return!0}};let d=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){let c=s(o,i);if(c)return c;const u=i.indexOf(" and ")>=0?i.split(" and "):new Array,m=i.indexOf(" or ")>=0?i.split(" or "):new Array,h=i.indexOf("|")>=0?i.split("|"):new Array;let y,_=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,C=i.indexOf(" OR ")>=0?i.split(" OR "):new Array;if(_=_.concat(u),C=C.concat(m),h.length>0)for(let x=0;x<h.length;x++)h[x]=h[x].trim;if(C=C.concat(h),_.length>0)for(let x=0;x<_.length;x++)!_[x].indexOf(" OR ")>=0&&d.push(_[x]);if(C.length>0)for(let x=0;x<C.length;x++)!C[x].indexOf(" AND ")>=0&&d.push(C[x]);for(let x=0;x<d.length;x++){const E=d[x];if(E&&E.indexOf&&E.indexOf("..")>=0){const I=E.toString().split("..");2===I.length&&(c=o>=I[0]&&o<=I[1])}else c=s(o,E);y=void 0===y?c:"or"==(x<_.length?"and":"or")?y||c:y&&c}return y}return i&&i.indexOf&&i.indexOf("..")>=0&&(d=i.toString().split(".."),2===d.length)?o>=d[0]&&o<=d[1]:s(o,i)}evaluateTimeOnly(t){const e=this.value;return e?!!(t&&t instanceof Date)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()&&t.getSeconds()===e.getSeconds():!t}}),Smart.Utilities.Assign("CustomFilter",class{constructor(t,e,n){const a=this;a.value=t,a.condition=e,a.customfilter=n}toString(){return this.condition+" "+this.value}evaluate(t){const e=this;return e.customfilter(e.value,t,e.condition)}}),Smart.FilterGroup=Smart.Utilities.FilterGroup,Smart.StringFilter=Smart.Utilities.StringFilter,Smart.NumericFilter=Smart.Utilities.NumericFilter,Smart.DateFilter=Smart.Utilities.DateFilter,Smart.CustomFilter=Smart.Utilities.CustomFilter},69640:()=>{Smart.Utilities.Assign("ConditionalFormatter",class{constructor(t){const e=this;e.data=t||[],e._allowedDateComparators=["yesterday","today","tomorrow","last7Days","lastWeek","thisWeek","nextWeek","lastMonth","thisMonth","nextMonth","lastYear","thisYear","nextYear"],e._colorSchemes=[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]},{name:"scheme28",colors:["#63BE7B","#FDD17F","#F8696B"]},{name:"scheme29",colors:["#F8696B","#FDD17F","#63BE7B"]},{name:"scheme30",colors:["#63BE7B","#FCFCFF","#F8696B"]},{name:"scheme31",colors:["#F8696B","#FCFCFF","#63BE7B"]},{name:"scheme32",colors:["#5A8AC6","#FCFCFF","#F8696B"]},{name:"scheme33",colors:["#F8696B","#FCFCFF","#5A8AC6"]},{name:"scheme34",colors:["#FCFCFF","#F8696B"]},{name:"scheme35",colors:["#F8696B","#FCFCFF"]},{name:"scheme36",colors:["#63BE7B","#FCFCFF"]},{name:"scheme37",colors:["#FCFCFF","#63BE7B"]},{name:"scheme38",colors:["#63BE7B","#FFEF9C"]},{name:"scheme39",colors:["#FFEF9C","#63BE7B"]},{name:"scheme40",colors:["#000000","#8b0000 ","#FFFF00","#FFFFFF"]},{name:"scheme41",colors:["#63BE7B","#FDD17F ","#F8696B","#FF69B4"]},{name:"scheme42",colors:["#63BE7B","#FDD17F ","#FDD17F","#F8696B"]},{name:"scheme00",colors:["#63BE7B","#FDD17F","#FDD17F","#FDD17F","#F8696B"]}]}format(t,e,n){const a=this,i=a.data;if(0===i.length||(t?a.condition=t:t=a.condition,!t))return;null!=a.comparator||(a.comparator=n),e?a.columns=e:e=a.columns,a.color&&(a.color=/^#[0-9A-F]{6}$/i.test(a.color)?a.color:void 0),(!e||!Array.isArray(e)||Array.isArray(e)&&0===e.length)&&(e=a.columns=[]);let r={};for(let o=0;o<e.length;o++){const s=e[o];void 0!==i[0][s]&&(r[s]=a._validateColumnData(s))}return 0!==Object.keys(r).length?r:void 0}_applyColorScale(t){const e=this,n=t.length;function a(y){let _=0;for(;_<c;){if(y<=d[_].max)return _;_++}return Math.max(0,Math.min(c-1,_))}if(0===n)return;const i=void 0!==e.colorScheme?e._getSchemeColors():[e.color];if(0===i.length||null==i[0])return;let r,o,s={},d={};const c=i.length-("iconSet"===e.condition?0:1),u=e._getColumnRange(t),m=parseFloat(e.min)||u.min,h=Math.max(m,parseFloat(e.max)||u.max);for(let y=0;y<c;y++)d[y]={min:d[y-1]?d[y-1].max:m,max:m+(y+1)/c*(h-m)};0===c&&(d[0]={min:m,max:h});for(let y=0;y<n;y++){let _=t[y]instanceof Date?t[y].getTime():t[y];_=Math.min(h,Math.max(m,_)),"number"==typeof _&&(r=a(_)||0,"iconSet"===e.condition?s[y]={"--icon-set":" ","--icon-set-color":i[r],"--icon-set-rotation-angle":e._getRotationAngle(r/(c-1)||0)+"deg"}:(o=1-((_-d[r].min)/(d[r].max-d[r].min)||0),s[y]=e._getCellStyle(e._mixColors(i[r],i[Math.min(r+1,c)],o))))}return s}_applyColorBar(t){const e=this,n=t.length,a=e._getColumnRange(t),i=e.min?parseFloat(e.min)||0:a.min,r=e.max?parseFloat(e.max)||0:a.max,o=void 0!==e.colorScheme?e._getSchemeColors():[e.color];let s,d="",c={};for(let u=0;u<o.length;u++)null!=o[u]&&(d+=o[u]+",");if(d){d=d.slice(0,-1),s=1===o.length?o[0]:"-webkit-linear-gradient(left,"+d+")";for(let u=0;u<n;u++){let m=t[u]instanceof Date?t[u].getTime():t[u];m=Math.min(r,Math.max(i,t[u])),"number"==typeof m&&(c[u]={"--color-bar":" ","--bar-width":((m-i)/(r-i)*100||0)+"%","--bar-color":s})}return c}console.log("Invalid color/colorScheme detected.")}_applyRule(t){const e=this,n=t.length,a="string"==typeof e.condition?e.condition.trim():"";let i,r,o,s=parseFloat(e.min)||0,d=Math.max(s,parseFloat(e.max)||0);function c(h){switch(a){case"between":if(h instanceof Date&&(h=h.getTime()),h>=s&&h<=d)return h;break;case"contains":if((h+"").indexOf(i)>-1)return h;break;case"duplicate":{let y=0;for(let _=0;_<n;_++)if(t[_]===h&&y++,y>1)return h;break}case"dateOccur":{const y=e._getDateRange(h,i);if(!y||(h=new Date(h),isNaN(h.getTime())))break;const _=h.getTime(),C=y.min.getTime(),x=y.max.getTime();if(_>=C&&_<=x)return h;break}case"doesNotContain":if((h+"").indexOf(i)<0)return h;break;case"equal":if("number"==typeof h&&h===parseFloat(i)||"string"==typeof h&&0===h.localeCompare(i+"")||"boolean"==typeof h&&h+""==i+""||h instanceof Date&&h.getTime()===new Date(i).getTime())return h;break;case"greaterThan":if(h>parseFloat(i))return h;break;case"lessThan":if(h<parseFloat(i))return h;break;case"notEqual":if("number"==typeof h&&h!==parseFloat(i)||"string"==typeof h&&0!==h.localeCompare(i+"")||"boolean"==typeof h&&h+""!=i+""||h instanceof Date&&h.getTime()!==new Date(i).getTime())return h;break;case"topNItems":case"bottomNItems":case"topNPercent":case"bottomNPercent":if(r||(r=t.slice(0).sort(0===a.indexOf("top")?(y,_)=>y<_?1:y>_?-1:0:(y,_)=>y>_?1:y<_?-1:0).slice(0,parseInt(a.indexOf("Percent")>0?n*i/100:i))),r.indexOf(h)>-1)return h;break;case"aboveAverage":case"belowAverage":if(!o){let y=0;t.map(_=>y+=parseFloat(_)),o=y/n}if("aboveAverage"===a&&h>o||"belowAverage"===a&&h<o)return h}return null}if(i="dateOccur"===a?"string"==typeof e.comparator&&e._allowedDateComparators.indexOf(e.comparator.trim())>-1?e.comparator.trim():void 0:Array.isArray(e.comparator)?e.comparator[0].trim():e.comparator,!t||0===t.length)return;if(["odd","even","duplicate","dateOccur","between","aboveAverage","belowAverage"].indexOf(a)<0&&0!==a.indexOf("everyN")&&null==i)return console.warn(e.condition+" requires a comparator."),[];if("odd"===a||"even"===a||0===a.indexOf("everyN"))return e._getAlternateItems(t);let u,m=[];for(let h=0;h<n;h++)u=c(t[h]),null!=u&&m.push(h);return m}_getAlternateItems(t){const e=this,n=t.length,a="string"==typeof e.condition?e.condition.trim():"",i=parseInt(e.min)||0,r=Math.max(i,parseInt(e.max)||n)-1,o=parseInt(e.comparator);let s=[],d=0;for(let c=0;c<=n;c++)if(!(c<i)){if(c>r)break;"even"===a&&(c+1)%2==0||"odd"===a&&(c+1)%2!=0?s.push(c):void 0===o||isNaN(o)||(d===o?(s.push(c),d=0):d++)}return s}_getColumnRange(t){const e=t.length;let n,a,i=0;for(let r=0;r<e;r++)a=t[r],a instanceof Date&&(a=a.getTime()),a>i&&(i=a),void 0===n&&(n=a),a<n&&(n=a);return{min:parseFloat(n)||0,max:parseFloat(i)||0}}_getCellStyle(t,e){var n=t;return{background:this._hexToRgba(t,e).toString(),color:this._getTextElementByColor(this._hexToRgba(t,.7)),border:n}}_getDateRange(t,e){let n,a;if(!(new Date(t)instanceof Date&&e))return;const i=new Date;switch(e){case"yesterday":case"today":case"tomorrow":"yesterday"===e?a=new Date(i.getFullYear(),i.getMonth(),i.getDate()-1):"today"===e?(a=new Date,a.setHours(0,0,0,0)):a=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1),n=a;break;case"last7Days":a=new Date(i.getFullYear(),i.getMonth(),i.getDate()-6),n=new Date(i);break;case"lastWeek":case"thisWeek":case"nextWeek":a="lastWeek"===e?new Date(i.getFullYear(),i.getMonth(),i.getDate()-6-i.getDay()):"thisWeek"===e?new Date(i.getFullYear(),i.getMonth(),i.getDate()-Math.abs(1-i.getDay())):new Date(i.getFullYear(),i.getMonth(),i.getDate()+Math.abs(7-i.getDay())),n=new Date(a.getFullYear(),a.getMonth(),a.getDate()+6);break;case"lastMonth":case"thisMonth":case"nextMonth":"lastMonth"===e?(n=new Date(i.getFullYear(),i.getMonth(),0),a=new Date(n.getFullYear(),n.getMonth(),1)):"thisMonth"===e?(a=new Date(i.getFullYear(),i.getMonth(),1),n=new Date(i.getFullYear(),i.getMonth()+1,0)):(a=new Date(i.getFullYear(),i.getMonth()+1,1),n=new Date(i.getFullYear(),i.getMonth()+2,0));break;case"lastYear":case"thisYear":case"nextYear":"lastYear"===e?(a=new Date(i.getFullYear()-1,0,1),n=new Date(i.getFullYear()-1,12,0)):"thisYear"===e?(a=new Date(i.getFullYear(),0,1),n=new Date(i.getFullYear(),12,0)):(a=new Date(i.getFullYear()+1,0,1),n=new Date(i.getFullYear()+1,12,0))}return{min:a,max:n}}_getRotationAngle(t){let e=t;return t<.25?e=Math.round(t)?.25:0:t>.25&&t<.5?e=Math.round(t)?.5:.25:t>.5&&t<.75?e=Math.round(t)?.75:.5:t>.75&&t<1&&(e=Math.round(t)?1:.75),180*e}_getSchemeColors(){const t=this;let e;if("string"==typeof t.colorScheme)e=0===t.colorScheme.indexOf("scheme")?t._colorSchemes.filter(n=>n.name===t.colorScheme)[0]:void 0;else{if("number"!=typeof t.colorScheme)return[];e=t._colorSchemes[t.colorScheme]?t._colorSchemes[t.colorScheme]:void 0}return"object"==typeof e?e.colors:t._colorSchemes[0].colors}_getTextElementByColor(t){return.299*t.r+.587*t.g+.114*t.b>=125?"Black":"White"}_hexToRgba(t,e){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);var a=function(){return this.alpha>1||null==this.alpha?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"};return void 0===e?n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),toString:a}:null:(e>1?e=1:e<0&&(e=0),n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),alpha:e,toString:a}:null)}_mixColors(t,e,n){const a=o=>parseInt(o,16);let i,r="#";n=void 0!==n?n:.5,t=t.replace(/#/g,""),e=e.replace(/#/g,"");for(let o=0;o<=5;o+=2){const s=a(t.substr(o,2)),d=a(e.substr(o,2));for(i=Math.floor(d+(s-d)*n).toString(16);i.length<2;)i="0"+i;r+=i}return r}_shadeColor(t,e){var n=parseInt(t.slice(1),16),a=e<0?0:255,i=e<0?-1*e:e,r=n>>16,o=n>>8&255,s=255&n;return"#"+(16777216+65536*(Math.round((a-r)*i)+r)+256*(Math.round((a-o)*i)+o)+(Math.round((a-s)*i)+s)).toString(16).slice(1)}_validateColumnData(t){const e=this,n=[],a=e.data;let i,r={};for(let o=0;o<a.length;o++)a[o]&&n.push(a[o][t]);if("colorScale"===e.condition||"iconSet"===e.condition)return e._applyColorScale(n);if("colorBar"===e.condition)return e._applyColorBar(n);if(i=e._applyRule(n),i){if(e.color){for(let o=0;o<i.length;o++)r[i[o]]=e._getCellStyle(e.color);return r}console.warn('No color is provided. "color" property is not set.')}}})},90744:()=>{Smart.Utilities.Assign("FormulaParser",class{constructor(t){const e=this;let n;try{n=new formulaParser.Parser}catch{throw new Error("Smart.FormulaParser: Missing reference to 'formula-parser.min.js'.")}n.on("callCellValue",e._callCellValue.bind(e)),n.on("callRangeValue",e._callRangeValue.bind(e)),e.dataTable=t,e.parser=n}parse(t){const e=this.parser.parse(t);return null!==e.result?e.result:e.error}_callCellValue(t,e){const a=this.dataTable;let s=a.dataSource[t.row.index][a.columns[t.column.index].dataField];"string"==typeof s&&/=.+/.test(s)&&(s=this.parse(s.slice(1))),e(s)}_callRangeValue(t,e,n){const a=this.dataTable,i=a.dataSource,r=[];for(let o=t.row.index;o<=e.row.index;o++){const s=i[o],d=[];for(let c=t.column.index;c<=e.column.index;c++){let u=s[a.columns[c].dataField];isNaN(u)||(u=parseFloat(u)),d.push(u)}r.push(d)}r&&n(r)}}),Smart.FormulaParser=Smart.Utilities.FormulaParser},63468:()=>{Smart("smart-grid-panel",class extends Smart.BaseElement{static get properties(){return{closeButtonPosition:{value:"left",allowedValues:["left","right"],type:"string"},dataSource:{value:[],type:"array",reflectToAttribute:!1},messages:{value:{en:{apply:"Ok",booleanFirst:"\u2610",booleanLast:"\u2611",cancel:"Cancel",dateFirst:"1",dateLast:"9",from:"from",numberFirst:"1",numberLast:"9",stringFirst:"A",stringLast:"Z",thenBy:"then by"}},type:"object",extend:!0}}}static get listeners(){return{change:"_changeHandler",click:"_clickHandler",keydown:"_keydownHandler","sortable.dragEnd":"_sortableDragEndHandler"}}static get requires(){return{"Smart.Input":"smart.input.js","Smart.Sortable":"smart.sortable.js"}}static get styleUrls(){return["smart.gridpanel.css"]}template(){return'<div id="container" role="presentation">\n                    <smart-sortable id="sortable" disable-mode="manual" animation="[[animation]]" disabled="[[readonly]]" right-to-left="[[rightToLeft]]"\n                            drag-mode="handle" handle-position="right" handle-visibility="visible" theme="[[theme]]">\n                    </smart-sortable>\n                    <div id="footer" class="smart-grid-panel-container-footer" role="presentation">\n                        <smart-input id="inputNotSorted" right-to-left="[[rightToLeft]]" animation="[[animation]]" readonly theme="[[theme]]"></smart-input>\n                        <div id="buttonsContainer" class="smart-grid-panel-buttons-container smart-unselectable" role="presentation">\n                            <span class="smart-grid-panel-cancel-button" role="button"></span>\n                            <span class="smart-grid-panel-apply-button primary" role="button"></span>\n                        </div>\n                    </div>\n                </div>'}ready(){super.ready()}render(){const t=this;t.setAttribute("role","dialog"),"right"===t.closeButtonPosition&&(t.$.sortable.handlePosition="left"),t._localize(),t._createSources(),super.render()}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"animation":case"theme":Array.from(a.$.sortable.getElementsByTagName("smart-input")).forEach(i=>i[t]=n);break;case"disabled":case"unfocusable":a._setFocusable();break;case"closeButtonPosition":a.$.sortable.handlePosition="right"===a.closeButtonPosition?"left":"right";break;case"dataSource":a.$.sortable.$.container.innerHTML="",a._createSources();break;case"locale":case"messages":{const i=a.$.sortable._items;a._localize(),i.length&&(i[0].children[1].innerHTML=a.localize("firstBy"),i.forEach(function(r,o){0!==o&&(r.children[1].innerHTML=a.localize("thenBy"));const s=a._HTMLToSourceMap.get(r),d=a._ascDescTemplates[s.dataType]||a._ascDescTemplates.string;r.children[3].innerHTML=a.localize("from"),r.children[4].firstElementChild.innerHTML=d[0],r.children[4].children[1].innerHTML=d[1]}));break}case"maxLevel":if(null!=n)for(;a.$.sortable._items.length>0&&a.$.sortable._items.length>n;)a._interactionHandler(a.$.sortable._items[a.$.sortable._items.length-1].firstElementChild);a._disableItemAddition();break;case"rightToLeft":a.$.inputNotSorted.rightToLeft=n,a.$.inputNotSorted.dropDownButtonPosition=n?"left":"right",a.$.sortable._items.forEach(i=>{const r=i.querySelector("smart-input");r.rightToLeft=n,r.dropDownButtonPosition=n?"left":"right"})}}_changeHandler(t){const e=this,n=e.shadowRoot||e.isInShadowDOM?t.composedPath()[0]:t.target;if(e.$.inputNotSorted.contains(n)){const m=e.$.inputNotSorted.value,h=e._labelToSourceMap.get(m);return e._createSortItem(h,e.$.sortable._items.length),e.$.sortable.updateItems(),e._visibleLabels.push(m),e._updateHiddenSource(),e._disableItemAddition(),void(e.$.inputNotSorted.value="")}const a=n.closest("smart-input");if(!a)return;const i=a.parentElement.parentElement,r=i.children[4].firstElementChild,o=i.children[4].children[1],s=a.value,d=e._HTMLToSourceMap.get(i).label,c=e._labelToSourceMap.get(s),u=e._ascDescTemplates[c.dataType]||e._ascDescTemplates.string;e._HTMLToSourceMap.set(i,c),e._visibleLabels.splice(e._visibleLabels.indexOf(d),1,s),e._updateHiddenSource(),r.innerHTML=u[0],o.innerHTML=u[1],c.sortDirection&&-1===c.sortDirection.indexOf("asc")?(o.classList.add("selected"),r.classList.remove("selected")):(r.classList.add("selected"),o.classList.remove("selected"))}_updateHiddenSource(){const t=this;t._hiddenSource=t.dataSource.map(n=>({label:n.label,value:n.dataField,icon:n.icon})).filter(n=>-1===t._visibleLabels.indexOf(n.label));const e=t.$.inputNotSorted.context;t.$.inputNotSorted.context=t.$.inputNotSorted,t.$.inputNotSorted.dataSource=t._hiddenSource,t.$.sortable._items.forEach(n=>{const a=n.getElementsByTagName("smart-input")[0],i=a.context;a.context=a,a.dataSource=t._hiddenSource,a.context=i}),t.$.inputNotSorted.context=e,t._disableItemAddition(),t.$.fireEvent("dataSourceChange")}_clickHandler(t){const e=this;e._interactionHandler(e.shadowRoot||e.isInShadowDOM?t.composedPath()[0]:t.target,t)}_interactionHandler(t,e){const n=this;if(n.disabled||n.readonly)return!0;const a=t.closest(".smart-grid-panel-item");if(a){if(t===a.firstElementChild){const i=n._HTMLToSourceMap.get(a).label;n.$.sortable.$.container.removeChild(a),n.$.sortable.updateItems(),n._visibleLabels.splice(n._visibleLabels.indexOf(i),1),n._updateHiddenSource(),n._disableItemAddition(),n.$.sortable._items.length&&(n.$.sortable._items[0].children[1].innerHTML=n.localize("firstBy")),n.$.fireEvent("remove")}else if(a.children[4].contains(t)){const i=a.children[4].firstElementChild,r=a.children[4].children[1];"click"===e.type?t.classList.contains("selected")||(t===i?(r.classList.remove("selected"),i.classList.add("selected"),n._HTMLToSourceMap.get(a).sortDirection="ascending"):t===r&&(i.classList.remove("selected"),r.classList.add("selected"),n._HTMLToSourceMap.get(a).sortDirection="descending")):(i.classList.toggle("selected"),r.classList.toggle("selected"),n._HTMLToSourceMap.get(a).sortDirection=i.classList.contains("selected")?"ascending":"descending")}return!0}if(t===n.$.buttonsContainer.firstElementChild)return n.$.fireEvent("cancel"),!0;if(t===n.$.buttonsContainer.children[1]){const i=[],r={dataFields:[],dataTypes:[],orderBy:[]},o={value:i};return n.$.sortable._items.forEach(s=>{const d=n._HTMLToSourceMap.get(s);i.push({dataField:d.dataField,sortDirection:d.sortDirection}),r.dataFields.push(d.dataField),r.dataTypes.push(d.dataType),r.orderBy.push(d.sortDirection)}),n instanceof Smart.SortPanel&&n.$.maintainSortContainer&&(r.maintainSort=n.$.maintainSortContainer.firstElementChild.hasAttribute("active")),(n instanceof Smart.SortPanel||n instanceof Smart.GroupPanel)&&(o.sortByInfo=r),n.$.fireEvent("apply",o),!0}}_keydownHandler(t){const e=this,n=t.key;" "!==n&&"Enter"!==n||(t.preventDefault(),e._interactionHandler((e.shadowRoot||e.getRootNode()).activeElement,t))}_sortableDragEndHandler(t){const e=this,n=t.detail.oldIndex,a=t.detail.newIndex,i=Math.max(n,a),r=e.$.sortable._items;0===(n&&a)&&(r[0].children[1].innerHTML=e.localize("firstBy"),r[1].children[1].innerHTML=e.localize("thenBy"),i>1&&(r[i].children[1].innerHTML=e.localize("thenBy")))}_localize(){const t=this;t.$.inputNotSorted.placeholder=t.localize("pickAnother"),t.$.buttonsContainer.firstElementChild.innerHTML=t.localize("cancel"),t.$.buttonsContainer.children[1].innerHTML=t.localize("apply"),t._ascDescTemplates={boolean:[t.localize("booleanFirst")+" \u2192 "+t.localize("booleanLast"),t.localize("booleanLast")+" \u2192 "+t.localize("booleanFirst")],date:[t.localize("dateFirst")+" \u2192 "+t.localize("dateLast"),t.localize("dateLast")+" \u2192 "+t.localize("dateFirst")],number:[t.localize("numberFirst")+" \u2192 "+t.localize("numberLast"),t.localize("numberLast")+" \u2192 "+t.localize("numberFirst")],string:[t.localize("stringFirst")+" \u2192 "+t.localize("stringLast"),t.localize("stringLast")+" \u2192 "+t.localize("stringFirst")]}}_createSources(){const t=this,e=(t instanceof Smart.SortPanel?"sort":"group")+"Index",n=[],a=[];if(t._HTMLToSourceMap=new Map,t._labelToSourceMap=new Map,t.dataSource.forEach(i=>{t._labelToSourceMap.set(i.label,i),-1!==i[e]&&void 0!==i[e]&&n.push(i)}),n.sort((i,r)=>i[e]-r[e]),null!=t.maxLevel)for(;n.length>0&&n.length>t.maxLevel;)n.pop();t.$.inputNotSorted.dropDownButtonPosition=t.rightToLeft?"left":"right",t.$.inputNotSorted.dropDownHeight=t.$.inputNotSorted.dataSource&&t.$.inputNotSorted.dataSource.length<10&&t.$.inputNotSorted.dataSource.length>0?"auto":250,n.forEach(i=>a.push(i.label)),t._visibleLabels=a,t._updateHiddenSource(),n.forEach((i,r)=>{t._createSortItem(i,r)}),t.$.sortable.updateItems(),t._disableItemAddition(),t._setFocusable()}_createSortItem(t,e){const n=this,a=n.disabled||n.unfocusable?-1:0,i=document.createElement("div"),r=n._ascDescTemplates[t.dataType]||n._ascDescTemplates.string;i.className="smart-grid-panel-item",i.innerHTML=`<div class="smart-grid-panel-item-close-button" tabindex="${a}" role="button" aria-label="Close"></div>\n<div class="smart-grid-panel-label-by smart-unselectable" role="presentation">${n.localize(e>0?"thenBy":"firstBy")}</div>\n<div class="smart-grid-panel-field-container" role="presentation"><smart-input class="smart-grid-panel-field-selection" value="${t.label}" animation="${n.animation}" readonly theme="${n.theme}" aria-label="Field name"></smart-input></div>\n<div class="smart-grid-panel-from smart-unselectable" role="presentation">${n.localize("from")}</div >\n<div class="smart-grid-panel-direction smart-unselectable" tabindex="${a}" role="presentation">\n    <div class="smart-grid-panel-asc" role="button" aria-label="Ascending">${r[0]}</div >\n    <div class="smart-grid-panel-desc" role="button" aria-label="Descending">${r[1]}</div>\n</div>\n`;const o=i.querySelector("smart-input");o.dataSource=n._hiddenSource,o.rightToLeft=n.rightToLeft,o.dropDownButtonPosition=n.rightToLeft?"left":"right",o.dropDownHeight=o.dataSource&&o.dataSource.length<10?"auto":250,n.$.sortable.$.container.appendChild(i),o.tabIndex=a,t.sortDirection&&-1===t.sortDirection.indexOf("asc")?i.children[4].children[1].classList.add("selected"):(t.sortDirection="ascending",i.children[4].firstElementChild.classList.add("selected")),n._HTMLToSourceMap.set(i,t)}_disableItemAddition(){const t=this,e=t.maxLevel,n=0===t._hiddenSource.length||null!=e&&Math.max(0,e)===t.$.sortable._items.length;t.$.inputNotSorted.disabled=n,n&&t.$.inputNotSorted.removeAttribute("focus")}_setFocusable(){const t=this,e=t.disabled||t.unfocusable?-1:0,n=Array.from(t.getElementsByClassName("smart-grid-panel-item-close-button")),a=Array.from(t.getElementsByClassName("smart-grid-panel-direction")),i=Array.from(t.getElementsByTagName("input")),r=n.concat(a).concat(i);t.$.buttonsContainer.firstElementChild.tabIndex=e,t.$.buttonsContainer.children[1].tabIndex=e,r.forEach(o=>o.tabIndex=e)}}),Smart("smart-sort-panel",class extends Smart.GridPanel{static get properties(){return{messages:{value:{en:{firstBy:"Sort by",noSorting:"No sorting applied",pickAnother:"Pick another field to sort by",maintainSort:"Maintain Sort",applyOnce:"Apply once"}},type:"object",extend:!0}}}template(){return'<div id="container" role="presentation">\n                    <smart-sortable disable-mode="manual" right-to-left="[[rightToLeft]]" id="sortable" animation="[[animation]]" disabled="[[readonly]]" drag-mode="handle" handle-position="right" handle-visibility="visible" theme="[[theme]]"></smart-sortable>\n                    <div id="footer" class="smart-grid-panel-container-footer" role="presentation">\n                        <div>\n                        <smart-input right-to-left="[[rightToLeft]]" id="inputNotSorted" animation="[[animation]]" readonly theme="[[theme]]"></smart-input>\n                        <div id="maintainSortContainer" class="smart-hidden smart-grid-panel-buttons-container smart-grid-panel-maintain-sort smart-unselectable" role="presentation">\n                        <span class="smart-grid-panel-maintain-sort-button" role="button"></span>\n                         </div>\n                    \n                        </div>\n                        <div id="buttonsContainer" class="smart-grid-panel-buttons-container smart-unselectable" role="presentation">\n                            <span class="smart-grid-panel-cancel-button" role="button"></span>\n                            <span class="smart-grid-panel-apply-button primary" role="button"></span>\n                        </div>\n                    </div>\n                </div>'}_changeApplyButtonText(t){const e=this,n=e.$.maintainSortContainer.firstElementChild,a=e.querySelector(".smart-grid-panel-apply-button");t?n.hasAttribute("active")?(n.removeAttribute("active"),a&&(a.innerHTML=e.localize("applyOnce"))):(n.setAttribute("active",""),a&&(a.innerHTML=e.localize("apply"))):a.innerHTML=n.hasAttribute("active")?e.localize("apply"):e.localize("applyOnce")}_interactionHandler(t,e){super._interactionHandler(t,e)||t===this.$.maintainSortContainer.firstElementChild&&this._changeApplyButtonText(!0)}static get styleUrls(){return["smart.textbox.css"]}_localize(){super._localize();const t=this;t.$.sortable.$.container.setAttribute("no-sorting",t.localize("noSorting")),t.$.maintainSortContainer.firstElementChild.innerHTML=t.localize("maintainSort"),t._changeApplyButtonText()}}),Smart("smart-group-panel",class extends Smart.GridPanel{static get properties(){return{maxLevel:{value:8,type:"number?"},messages:{value:{en:{collapseAll:"Collapse all",expandAll:"Expand all",firstBy:"Group by",noGrouping:"No grouping",pickAnother:"Pick another field to group by"}},type:"object",extend:!0}}}template(){return'<div id="container" role="presentation">\n                    <smart-sortable disable-mode="manual" right-to-left="[[rightToLeft]]" id="sortable" animation="[[animation]]" disabled="[[readonly]]" drag-mode="handle" handle-position="right" handle-visibility="visible" theme="[[theme]]"></smart-sortable>\n                    <div id="expandCollapseContainer" class="smart-grid-panel-buttons-container smart-grid-panel-expand-collapse smart-unselectable" role="presentation">\n                        <span class="smart-group-panel-collapse-button" role="button"></span>\n                        <span class="smart-group-panel-expand-button" role="button"></span>\n                    </div>\n                    <div id="footer" class="smart-grid-panel-container-footer" role="presentation">\n                        <smart-input right-to-left="[[rightToLeft]]" id="inputNotSorted" animation="[[animation]]" readonly theme="[[theme]]"></smart-input>\n                        <div id="buttonsContainer" class="smart-grid-panel-buttons-container smart-unselectable" role="presentation">\n                            <span class="smart-grid-panel-cancel-button" role="button"></span>\n                            <span class="smart-grid-panel-apply-button primary" role="button"></span>\n                        </div>\n                    </div>\n                </div>'}_interactionHandler(t,e){const n=this;super._interactionHandler(t,e)||(t===n.$.expandCollapseContainer.firstElementChild?n.$.fireEvent("collapseAll"):t===n.$.expandCollapseContainer.children[1]&&n.$.fireEvent("expandAll"))}_localize(){super._localize();const t=this;t.$.expandCollapseContainer.firstElementChild.innerHTML=t.localize("collapseAll"),t.$.expandCollapseContainer.children[1].innerHTML=t.localize("expandAll"),t.$.sortable.$.container.setAttribute("no-grouping",t.localize("noGrouping"))}_setFocusable(){super._setFocusable();const t=this,e=t.disabled||t.unfocusable?-1:0;t.$.expandCollapseContainer.firstElementChild.tabIndex=e,t.$.expandCollapseContainer.children[1].tabIndex=e}}),Smart("smart-multi-column-filter-panel",class extends Smart.BaseElement{static get properties(){return{closeButtonPosition:{value:"left",allowedValues:["left","right"],type:"string"},dataSource:{value:[],type:"array",reflectToAttribute:!1},editorCallback:{value:null,type:"function?",reflectToAttribute:!1},editorPlaceholder:{value:"Value",type:"string"},messages:{value:{en:{addFilter:"+ Add filter",and:"And",apply:"Ok",cancel:"Cancel",CONTAINS:"contains",CONTAINS_CASE_SENSITIVE:"contains (case sensitive)",DOES_NOT_CONTAIN:"does not contain",DOES_NOT_CONTAIN_CASE_SENSITIVE:"does not contain (case sensitive)",EMPTY:"empty",ENDS_WITH:"ends with",ENDS_WITH_CASE_SENSITIVE:"ends with (case sensitive)",EQUAL:"equal",EQUAL_CASE_SENSITIVE:"equal (case sensitive)",GREATER_THAN:"greater than",GREATER_THAN_OR_EQUAL:"greater than or equal",LESS_THAN:"less than",LESS_THAN_OR_EQUAL:"less than or equal",noFilters:"No filters applied",NOT_EMPTY:"not empty",NOT_EQUAL:"not equal",NOT_NULL:"not null",NULL:"null",or:"Or",STARTS_WITH:"starts with",STARTS_WITH_CASE_SENSITIVE:"starts with (case sensitive)",where:"Where"}},type:"object",extend:!0},operator:{value:"and",allowedValues:["and","or"],type:"string"},value:{value:[],type:"array"}}}static get listeners(){return{change:"_changeHandler",click:"_interactionHandler",keydown:"_interactionHandler"}}static get requires(){return{"Smart.Button":"smart.button.js","Smart.CheckBox":"smart.checkbox.js","Smart.DateTimePicker":"smart.datetimepicker.js","Smart.FilterGroup":"smart.filter.js","Smart.Input":"smart.input.js","Smart.NumericTextBox":"smart.numerictextbox.js"}}static get styleUrls(){return["smart.gridpanel.css"]}template(){return'<div id="container" role="presentation">\n                    <div id="itemsContainer" class="smart-filter-panel-items-container smart-unselectable"></div>\n                    <div id="footer" class="smart-grid-panel-container-footer" role="presentation">\n                        <div id="addFilterButton" class="smart-filter-panel-add-filter-button smart-unselectable" role="button"></div>\n                        <div id="buttonsContainer" class="smart-grid-panel-buttons-container smart-unselectable" role="presentation">\n                            <span class="smart-grid-panel-cancel-button" role="button"></span>\n                            <span class="smart-grid-panel-apply-button primary" role="button"></span>\n                        </div>\n                    </div>\n                </div>'}ready(){super.ready()}render(){const t=this;t.setAttribute("role","dialog"),t._setFocusable(),t._localize(),t._applyValue(),super.render()}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"animation":case"theme":case"rightToLeft":Array.from(a.$.itemsContainer.querySelectorAll("smart-date-time-picker, smart-numeric-text-box, smart-check-box, smart-input")).forEach(i=>{i[t]=n,"smart-input"===i.tagName.toLowerCase()&&"rightToLeft"===t&&"none"!==i.dropDownButtonPosition&&(i.dropDownButtonPosition=n?"left":"right")});break;case"disabled":case"unfocusable":a._setFocusable(!0);break;case"dataSource":case"value":a._applyValue();break;case"editorPlaceholder":Array.from(a.$.itemsContainer.getElementsByClassName("editor")).forEach(i=>i.placeholder=n);break;case"locale":case"messages":a._localize(!0);break;case"operator":a._setOperator()}}_setOperator(){const t=this,e=t.localize(t.operator);for(let n=2;n<t._items.length;n++)t._items[n].children[1].innerHTML=e}_changeHandler(t){const e=this,n=e.shadowRoot||e.isInShadowDOM?t.composedPath()[0]:t.target;if(n instanceof Smart.Input==0)return;const a=n.parentElement,i=a.children;if(n===i[1])e.operator=n.$.input.dataValue,e._setOperator();else if(n===i[2]){let r,o,s=e.dataSource.find(y=>y.dataField===t.detail.oldValue).dataType,d=e.dataSource.find(y=>y.dataField===t.detail.oldValue),c=e.dataSource.find(y=>y.dataField===t.detail.value),u=c.dataType,m=[];if(c.options&&(u="enum",m=c.options.map(y=>(y.prefix='<span style="background: '+(y.color||"var(--smart-primary)")+'; width: 14px; height: 14px; display: inline-block; border-radius: 50%; margin-left:-4px; margin-right: 8px; top: 2px; position: relative;"></span>',""===y.label&&(y.label=" "),y))),d&&d.options&&(s="enum"),"enum"!==u&&u===s)return void(e.editorCallback&&e.editorCallback(i[4],c));let h=i[3].value;switch(u){case"date":r=e._numberAndDateConditions,o=document.createElement("smart-date-time-picker"),o.calendarButton=!0,o.dropDownAppendTo="body",o.dropDownDisplayMode="auto",o.formatString="M/d/yy H:mm",h="";break;case"number":r=e._numberAndDateConditions,o=document.createElement("smart-numeric-text-box"),h="";break;case"boolean":r=e._booleanConditions,o=document.createElement("smart-check-box"),h="";break;case"enum":r=e._enumConditions,o=document.createElement("smart-input"),o.dataSource=m.length?m:c.options,o.readonly=!0,o.dropDownButtonPosition="right",h=r[0];break;default:r=e._stringConditions,h=e._stringConditions.find(y=>"CONTAINS"===y.value),o=document.createElement("smart-input")}r.forEach(y=>{delete y.selected}),o.rightToLeft=e.rightToLeft,o.animation=e.animation,o.theme=e.theme,o.unfocusable=e.disabled||e.unfocusable,o.classList.add("underlined"),o.dropDownHeight=o.dataSource&&o.dataSource.length<10?"auto":250,"boolean"!==u&&(o.placeholder=e.editorPlaceholder),e.editorCallback&&e.editorCallback(o,c),i[4].remove(),a.appendChild(o),""===h||r.find(y=>y.label===h)||(h.value?(i[3].value=h.label,i[3].selectedValue=h.value):(i[3].value="",i[3].selectedValue="")),i[3].dataSource=r,i[3].dropDownHeight=r.length>=10?250:"auto",a.dataType=u}else if(n===i[3]){const r=i[4],o=n.$.input.dataValue;-1!==o.indexOf("NULL")||-1!==o.indexOf("EMPTY")?(r.value="",r.checked=!1,r.classList.add("smart-visibility-hidden")):r.classList.remove("smart-visibility-hidden"),n.condition=o}}_interactionHandler(t){const e=this;if(e.disabled||e.readonly)return;if("keydown"===t.type){if("Enter"!==t.key)return;t.preventDefault()}const n=e.shadowRoot||e.isInShadowDOM?t.composedPath()[0]:t.target,a=n.closest(".smart-grid-panel-item");if(a){if(n===a.firstElementChild){const i=e._items.indexOf(a);let r;e._items.splice(i,1),a.remove(),e._items.length>0&&i<2&&(0===i&&(e._items[0].children[1].remove(),r=document.createElement("div"),r.innerHTML=e.localize("where"),e._items[0].insertBefore(r,e._items[0].children[1])),e._items.length>1&&(e._items[1].children[1].remove(),r=document.createElement("smart-input"),r.className="underlined",r.dataSource=[{value:"and",label:e.localize("and")},{value:"or",label:e.localize("or")}],r.dropDownButtonPosition=e.rightToLeft?"left":"right",r.readonly=!0,r.value=e.localize(e.operator),r.animation=e.animation,r.theme=e.theme,r.rightToLeft=e.rightToLeft,r.unfocusable=e.disabled||e.unfocusable,e._items[1].insertBefore(r,e._items[1].children[1])))}}else if(n===e.$.addFilterButton&&e.dataSource.length>0)e.$.itemsContainer.appendChild(e._createItem(e.dataSource[0],"","",e._items.length));else if(n!==e.$.buttonsContainer.firstElementChild){if(n===e.$.buttonsContainer.children[1]){let i=e._stringConditions.concat(e._numberAndDateConditions),r=e.operator,o=[],s={},d=[];e._customConditions&&(i=i.concat(e._customConditions)),e._items.forEach(c=>{const u=e.dataSource.find(x=>x.label===c.children[2].value),m=[];let h=c.children[3].value;if(""===h)return;let y=u.dataType;if(h=i.find(x=>x.label===h).value,m.push(u.dataField,h),-1===h.indexOf("NULL")&&-1===h.indexOf("EMPTY"))if("boolean"===y)m.push(c.children[4].checked);else if("date"===y)m.push(c.children[4].value.toDate());else if("enum"===y||u.options){let x=c.children[4].$.input.dataValue;if(void 0===x){const E=u.options.find(A=>A.label===c.children[4].value);if(!E)return;x=E.value}y="string",m.push(x)}else m.push(c.children[4].value);let _=s[m[0]];void 0===_&&(_=new Smart.Utilities.FilterGroup,s[m[0]]=_);const C=_.createFilter(y,m[2],m[1]);_.addFilter(r,C),o.push(m)});for(let c in s)d.push([c,s[c]]);e.value=o,e.$.fireEvent("apply",{filters:d,operator:r,value:o})}}else e.$.fireEvent("cancel")}_applyValue(){const t=this,e=document.createDocumentFragment();let n=0;for(t._items=[];t.$.itemsContainer.firstElementChild;)t.$.itemsContainer.firstElementChild.remove();0!==t.dataSource.length&&(t.value.forEach(a=>{if(!Array.isArray(a))return;const i=a[0],r=t.dataSource.find(s=>s.dataField===i);if(!r)return;const o=t._createItem(r,a[1],a[2],n);e.appendChild(o),n++}),t.$.itemsContainer.appendChild(e))}_createItem(t,e,n,a){const i=this,r=i.disabled||i.unfocusable?-1:0,o=document.createElement("div"),s=document.createDocumentFragment(),d=document.createElement("div"),c=document.createElement("smart-input"),u=document.createElement("smart-input");let m,h;if(d.className="smart-grid-panel-item-close-button",d.tabIndex=r,d.setAttribute("role","button"),d.setAttribute("aria-label","button"),s.appendChild(d),0===a?(m=document.createElement("div"),m.innerHTML=i.localize("where"),m.setAttribute("role","presentation")):1===a?(m=document.createElement("smart-input"),m.className="underlined",m.dataSource=[{value:"and",label:i.localize("and")},{value:"or",label:i.localize("or")}],m.dropDownButtonPosition=i.rightToLeft?"left":"right",m.readonly=!0,m.value=i.localize(i.operator),m.animation=i.animation,m.theme=i.theme,m.rightToLeft=i.rightToLeft,m.unfocusable=i.disabled||i.unfocusable,m.setAttribute("aria-label","Operator")):(m=document.createElement("div"),m.innerHTML=i.localize(i.operator),m.setAttribute("role","presentation")),s.appendChild(m),c.className="underlined",c.dataSource=i.dataSource.map(y=>({value:y.dataField,label:y.label,icon:y.icon})),c.dropDownButtonPosition=i.rightToLeft?"left":"right",c.readonly=!0,c.value=t.label,c.animation=i.animation,c.theme=i.theme,c.rightToLeft=i.rightToLeft,c.unfocusable=i.disabled||i.unfocusable,c.setAttribute("aria-label","Field"),c.dropDownHeight=c.dataSource&&c.dataSource.length<10?"auto":250,s.appendChild(c),"boolean"===t.dataType)u.dataSource=JSON.parse(JSON.stringify(i._booleanConditions)),h=document.createElement("smart-check-box"),h.checked="boolean"==typeof n&&n;else if("date"===t.dataType)u.dataSource=i._numberAndDateConditions,h=document.createElement("smart-date-time-picker"),h.dropDownDisplayMode="auto",h.calendarButton=!0,h.dropDownAppendTo="body",h.formatString="M/d/yy H:mm",h.value=n;else if("number"===t.dataType)u.dataSource=JSON.parse(JSON.stringify(i._numberAndDateConditions)),h=document.createElement("smart-numeric-text-box"),h.value="number"==typeof n||"string"==typeof n?n:0;else if("enum"===t.dataType||t.options){u.dataSource=JSON.parse(JSON.stringify(i._enumConditions)),h=document.createElement("smart-input");let y=[];t.options&&(y=t.options.map(_=>(_.prefix='<span style="background: '+(_.color||"var(--smart-primary)")+'; width: 14px; height: 14px; display: inline-block; border-radius: 50%; margin-left:-4px; margin-right: 8px; top: 2px; position: relative;"></span>',""===_.label&&(_.label=" "),_))),h.dataSource=y.length?y:t.options,h.readonly=!0,h.dropDownButtonPosition="right",h.value=n?t.options.find(_=>_.value===n).label:""}else u.dataSource=JSON.parse(JSON.stringify(i._stringConditions)),h=document.createElement("smart-input"),h.value=null!=n?n.toString():"",e||(e="CONTAINS");return u.className="underlined",u.dropDownButtonPosition=i.rightToLeft?"left":"right",u.readonly=!0,u.animation=i.animation,u.theme=i.theme,u.rightToLeft=i.rightToLeft,u.unfocusable=i.disabled||i.unfocusable,u.setAttribute("aria-label","Condition"),u.classList.add("smart-filter-panel-list"),u.dataSource.forEach(y=>{delete y.selected}),u.dataSource.find(y=>y.value===e)?(u.value=i.localize(e),u.selectedValue=e,u.condition=e):(h.value="",h.checked=!1),void 0===e||-1===e.indexOf("NULL")&&-1===e.indexOf("EMPTY")||(h.value="",h.checked=!1,h.classList.add("smart-visibility-hidden")),u.dropDownHeight=u.dataSource&&u.dataSource.length<10?"auto":250,h.animation=i.animation,h.classList.add("editor"),h.rightToLeft=i.rightToLeft,h.theme=i.theme,h.unfocusable=i.disabled||i.unfocusable,h.classList.add("underlined"),"boolean"!==t.dataType&&(h.placeholder=i.editorPlaceholder),i.editorCallback&&i.editorCallback(h,t),s.appendChild(u),s.appendChild(h),o.appendChild(s),o.className="smart-grid-panel-item",i._items.push(o),o.dataType=t.dataType,o}_localize(t){const e=this;e.$.addFilterButton.innerHTML=e.localize("addFilter"),e.$.buttonsContainer.firstElementChild.innerHTML=e.localize("cancel"),e.$.buttonsContainer.children[1].innerHTML=e.localize("apply"),e.$.itemsContainer.setAttribute("no-filters",e.localize("noFilters")),e._stringConditions=[{prefix:'<span class="smart-icon smart-icon-empty"></span>',value:"EMPTY",label:e.localize("EMPTY")},{prefix:'<span class="smart-icon smart-icon-not-empty"></span>',value:"NOT_EMPTY",label:e.localize("NOT_EMPTY")},{prefix:'<span class="smart-icon smart-icon-contains"></span>',value:"CONTAINS",label:e.localize("CONTAINS")},{prefix:'<span class="smart-icon smart-icon-does-not-contain"></span>',value:"DOES_NOT_CONTAIN",label:e.localize("DOES_NOT_CONTAIN")},{prefix:'<span class="smart-icon smart-icon-starts-with"></span>',value:"STARTS_WITH",label:e.localize("STARTS_WITH")},{prefix:'<span class="smart-icon smart-icon-ends-with"></span>',value:"ENDS_WITH",label:e.localize("ENDS_WITH")},{prefix:'<span class="smart-icon smart-icon-equal"></span>',value:"EQUAL",label:e.localize("EQUAL")},{prefix:'<span class="smart-icon smart-icon-not-equal"></span>',value:"NOT_EQUAL",label:e.localize("NOT_EQUAL")},{prefix:'<span class="smart-icon smart-icon-null"></span>',value:"NULL",label:e.localize("NULL")},{prefix:'<span class="smart-icon smart-icon-not-null"></span>',value:"NOT_NULL",label:e.localize("NOT_NULL")}],e._enumConditions=[{prefix:'<span class="smart-icon smart-icon-equal"></span>',value:"EQUAL",label:e.localize("EQUAL")},{prefix:'<span class="smart-icon smart-icon-not-equal"></span>',value:"NOT_EQUAL",label:e.localize("NOT_EQUAL")}],e._numberAndDateConditions=[{prefix:'<span class="smart-icon smart-icon-equal"></span>',value:"EQUAL",label:e.localize("EQUAL")},{prefix:'<span class="smart-icon smart-icon-not-equal"></span>',value:"NOT_EQUAL",label:e.localize("NOT_EQUAL")},{prefix:'<span class="smart-icon smart-icon-less-than"></span>',value:"LESS_THAN",label:e.localize("LESS_THAN")},{prefix:'<span class="smart-icon smart-icon-less-than-equal"></span>',value:"LESS_THAN_OR_EQUAL",label:e.localize("LESS_THAN_OR_EQUAL")},{prefix:'<span class="smart-icon smart-icon-greater-than"></span>',value:"GREATER_THAN",label:e.localize("GREATER_THAN")},{prefix:'<span class="smart-icon smart-icon-greater-than-equal"></span>',value:"GREATER_THAN_OR_EQUAL",label:e.localize("GREATER_THAN_OR_EQUAL")},{prefix:'<span class="smart-icon smart-icon-null"></span>',value:"NULL",label:e.localize("NULL")},{prefix:'<span class="smart-icon smart-icon-not-null"></span>',value:"NOT_NULL",label:e.localize("NOT_NULL")}],e._booleanConditions=[{prefix:'<span class="smart-icon smart-icon-equal"></span>',value:"EQUAL",label:e.localize("EQUAL")},{prefix:'<span class="smart-icon smart-icon-not-equal"></span>',value:"NOT_EQUAL",label:e.localize("NOT_EQUAL")},{prefix:'<span class="smart-icon smart-icon-null"></span>',value:"NULL",label:e.localize("NULL")},{prefix:'<span class="smart-icon smart-icon-not-null"></span>',value:"NOT_NULL",label:e.localize("NOT_NULL")}],t&&e._items.forEach((n,a)=>{const i=n.children[1],r=n.children[3];0===a?i.innerHTML=e.localize("where"):1===a?(i.dataSource=[{value:"and",label:e.localize("and")},{value:"or",label:e.localize("or")}],i.value=e.localize(e.operator)):i.innerHTML=e.localize(e.operator),r.dataSource="string"!==n.dataType||n.options?"enum"===n.dataType||n.options?e._enumConditions:"boolean"===n.dataType?e._booleanConditions:e._numberAndDateConditions:e._stringConditions,r.value=r.condition?e.localize(r.condition):""})}_setFocusable(t){const e=this,n=e.disabled||e.unfocusable?-1:0;if(e.$.addFilterButton.tabIndex=n,e.$.buttonsContainer.firstElementChild.tabIndex=n,e.$.buttonsContainer.children[1].tabIndex=n,t){const a=Array.from(e.$.itemsContainer.getElementsByClassName("smart-grid-panel-item-close-button")),i=Array.from(e.$.itemsContainer.querySelectorAll("smart-date-time-picker, smart-numeric-text-box, smart-check-box, smart-input"));a.forEach(r=>r.tabIndex=n),i.forEach(r=>r.unfocusable=e.disabled||e.unfocusable)}}}),Smart("smart-column-panel",class extends Smart.BaseElement{static get properties(){return{dataSource:{value:[],type:"array",reflectToAttribute:!1},messages:{value:{en:{apply:"Ok",cancel:"Cancel",find:"Find a field",reset:"Reset",noResults:"No results"}},type:"object",extend:!0}}}static get listeners(){return{click:"_interactionHandler",keydown:"_interactionHandler","find.keyup":"_findKeyupHandler","sortable.dragEnd":"_sortableDragEndHandler"}}static get requires(){return{"Smart.Sortable":"smart.sortable.js"}}static get styleUrls(){return["smart.gridpanel.css"]}template(){return'<div id="container" role="presentation">\n                    <div class="smart-column-panel-find-container" role="search">\n                        <input id="find" readonly="[[readonly]]" role="searchbox" aria-label="Find a field"></input>\n                        <span id="clearButton" class="clear-button smart-hidden" role="button" aria-label="Clear"></span>\n                    </div>\n                    <smart-sortable id="sortable" disable-mode="manual" right-to-left="[[rightToLeft]]" animation="[[animation]]" disabled="[[readonly]]" drag-mode="handle" handle-position="right" handle-visibility="visible" theme="[[theme]]"></smart-sortable>\n                    <div id="footer" class="smart-grid-panel-container-footer" role="presentation">\n                        <span id="reset" class="smart-grid-panel-reset-button" role="button"></span>\n                        <div id="buttonsContainer" class="smart-grid-panel-buttons-container smart-unselectable" role="presentation">\n                            <span class="smart-grid-panel-cancel-button" role="button"></span>\n                            <span class="smart-grid-panel-apply-button primary" role="button"></span>\n                        </div>\n                    </div>\n                </div>'}ready(){super.ready()}render(){const t=this;t.setAttribute("role","dialog"),t._positionChanged=!1,t._localize(),t._moves=[],t._createSortItems(),super.render()}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"disabled":case"unfocusable":a._setFocusable();break;case"dataSource":{const i=a.$.sortable.$.container;for(;i.firstChild;)i.removeChild(i.firstChild);a._createSortItems(),a._positionChanged=!1,a.$.find.value="",a._findKeyupHandler(),a.$.clearButton.classList.add("smart-hidden");break}case"locale":case"messages":a._localize()}}_createSortItems(){const t=this,e=document.createDocumentFragment();t._HTMLToSourceMap=new Map,t.dataSource.forEach(n=>e.appendChild(t._createSortItem(n))),t.$.sortable.$.container.appendChild(e),t.$.sortable.updateItems(),t._setFocusable()}_createSortItem(t){const e=document.createElement("div"),n=this.id+"Label"+t.dataField;return this._HTMLToSourceMap.set(e,t),e.className="smart-grid-panel-item",e.innerHTML=`<div class="toggle-visibility${!1!==t.visible?"":" hidden"}${t.disableToggle?" disable-toggle":""}" role="button" aria-controls="${n}" aria-label="Toggle visibility"></div>\n<span id="${n}" class="smart-column-panel-label smart-unselectable${t.icon?" icon "+t.icon:""}">${t.label}</span>`,1===t.level?e.classList.add("indent"):0===t.level&&e.classList.add("group"),t.disableDrag&&e.setAttribute("disable-drag",""),t.dataField&&e.setAttribute("data-field",t.dataField),t.parentDataField&&e.setAttribute("parent-data-field",t.parentDataField),!1!==t.allowHide&&!0!==t.disableToggle||(e.style.pointerEvents="none",e.setAttribute("disabled",""),e.style.opacity=.8),e}_interactionHandler(t){const e=this;if(e.disabled||e.readonly||"keydown"===t.type&&-1===[" ","Enter"].indexOf(t.key))return;const n=e.shadowRoot||e.isInShadowDOM?t.composedPath()[0]:t.target;if(n.classList.contains("toggle-visibility")){n.classList.toggle("hidden");const a=n.closest(".smart-grid-panel-item");if(a.hasAttribute("data-field")){const i=a.getAttribute("data-field");if(a.hasAttribute("parent-data-field")||a.hasAttribute("disabled")){const r=a.getAttribute("parent-data-field"),o=e.$.sortable.querySelectorAll(".smart-grid-panel-item");let s=null;if(o.forEach(d=>{d.getAttribute("data-field")===r&&(s=d)}),s){let d=0,c=0;o.forEach(u=>{u.getAttribute("parent-data-field")===r&&(d++,u.firstElementChild.classList.contains("hidden")&&c++)}),c===d?s.firstElementChild.classList.add("hidden"):c<d&&s.firstElementChild.classList.remove("hidden")}}else e.$.sortable._items.forEach(r=>{if(r.hasAttribute("parent-data-field")&&!r.hasAttribute("disabled")){const o=r.getAttribute("parent-data-field"),s=r.firstElementChild;o===i&&(n.classList.contains("hidden")?s.classList.add("hidden"):s.classList.remove("hidden"))}})}}else if(n.parentElement===e.$.buttonsContainer){if(n===e.$.buttonsContainer.firstElementChild)return e.$.fireEvent("cancel"),void(e._moves=[]);if(n===e.$.buttonsContainer.children[1]){const a=[];Array.from(e.$.sortable.$.container.children).forEach(i=>{const r=Object.assign({},e._HTMLToSourceMap.get(i));r.visible=!i.firstElementChild.classList.contains("hidden"),a.push(r)}),e.$.fireEvent("apply",{value:a,positionChanged:e._positionChanged,moves:e._moves}),e._positionChanged=!1,e._moves=[]}}else if(n===e.$.reset){const a=[];Array.from(e.$.sortable.$.container.children).forEach(i=>{const r=Object.assign({},e._HTMLToSourceMap.get(i));r.visible=!0,a.push(r)}),e.$.fireEvent("apply",{value:a,positionChanged:e._positionChanged,moves:e._moves}),e._positionChanged=!1,e._moves=[]}else n.classList.contains("clear-button")&&(e.$.find.value="",e._findKeyupHandler())}_findKeyupHandler(){const t=this;if(t.disabled||t.readonly)return;const e=t.$.find,n=e.value,a=[...t.$.sortable.$.container.children];if(void 0===t._disabledSortable&&(t._disabledSortable=t.$.sortable.disabled),""===n)return e.parentElement.classList.remove("no-results"),t.$.clearButton.classList.add("smart-hidden"),a.forEach(r=>r.classList.remove("smart-hidden")),t.$.sortable.disabled=t._disabledSortable||t.readonly,void delete t._disabledSortable;let i=!0;t.$.clearButton.classList.remove("smart-hidden"),a.forEach(r=>{-1===t._HTMLToSourceMap.get(r).label.toLowerCase().indexOf(n.toLowerCase())?r.classList.add("smart-hidden"):(r.classList.remove("smart-hidden"),i=!1)}),t.$.sortable.disabled=i,i?e.parentElement.classList.add("no-results"):e.parentElement.classList.remove("no-results")}_sortableDragEndHandler(t){const e=t.detail;this._positionChanged=!0,this._moves.push({oldIndex:e.oldIndex,newIndex:e.newIndex})}_localize(){const t=this;t.$.find.placeholder=t.localize("find"),t.$.reset.innerHTML=t.localize("reset"),t.$.buttonsContainer.firstElementChild.innerHTML=t.localize("cancel"),t.$.buttonsContainer.children[1].innerHTML=t.localize("apply"),t.$.container.firstElementChild.setAttribute("no-results",t.localize("noResults"))}_setFocusable(){const t=this,e=t.disabled||t.unfocusable?-1:0,n=Array.from(t.$.sortable.getElementsByClassName("toggle-visibility"));t.$.find.tabIndex=e,t.$.clearButton.tabIndex=e,t.$.buttonsContainer.firstElementChild.tabIndex=e,t.$.buttonsContainer.children[1].tabIndex=e,n.forEach(a=>a.tabIndex=a.classList.contains("disable-toggle")?-1:e)}}),Smart("smart-formatting-panel",class extends Smart.BaseElement{static get properties(){return{columns:{value:[],type:"array",reflectToAttribute:!1},dataSource:{value:[],type:"any",reflectToAttribute:!1},items:{value:null,type:"array?",reflectToAttribute:!1},dropDownAppendTo:{value:null,type:"any",reflectToAttribute:!1},messages:{value:{en:{add:"Add condition",all:"All columns",apply:"Ok",between:"Between",cancel:"Cancel",close:"Close",column:"Column:",condition:"Condition:",equal:"Equal To",fontFamily:"Font family:",fontSize:"Font size:",format:"Format:",greaterThan:"Greater Than",highlight:"Highlight",lessThan:"Less Than",notEqual:"Not Equal To",remove:"Remove condition",secondValue:"Second value:",text:"Text",value:"Value:"}},type:"object",extend:!0}}}static get listeners(){return{click:"_interactionHandler",keydown:"_interactionHandler",change:"_changeHandler","popup.change":"_changeHandler","popup.click":"_interactionHandler","popup.keydown":"_interactionHandler","document.down":"_documentDownHandler"}}template(){return'<div id="container" role="presentation">\n                    <div id="itemsContainer" class="smart-formatting-panel-items-container" role="presentation"></div>\n                    <div id="addNewButton" class="smart-add-new-button" role="button" aria-label="Add new condition"></div>\n                    <div id="popup" class="smart-formatting-panel-popup smart-hidden smart-visibility-hidden" role="dialog">\n                        <div id="popupHeader" class="header" role="presentation">\n                            <div id="text" class="selected" role="button" aria-label="Text color"></div>\n                            <div id="highlight" role="button" aria-label="Highlight color"></div>\n                        </div>\n                        <div id="colorCode" class="color-code"></div>\n                        <input id="colorInput" type="color" />\n                        <div id="colorsContainer" class="colors-container"></div>\n                        <smart-button id="apply" class="ok primary" animation="[[animation]]" right-to-left="[[rightToLeft]]" theme="[[theme]]" unfocusable="[[unfocusable]]"></smart-button>\n                        <smart-button id="cancel" class="cancel" animation="[[animation]]" right-to-left="[[rightToLeft]]" theme="[[theme]]" unfocusable="[[unfocusable]]"></smart-button>\n                    </div>\n                </div>'}render(){const t=this,e=getComputedStyle(t);t.setAttribute("role","dialog"),t.$.popup.id=t.id+"Popup",t._basicColors=[[0,0,0],[68,68,68],[102,102,102],[153,153,153],[204,204,204],[238,238,238],[243,243,243],[255,255,255],[255,0,0],[255,153,0],[255,255,0],[0,255,0],[0,255,255],[0,0,255],[153,0,255],[255,0,255],[244,204,204],[252,229,205],[255,242,204],[217,234,211],[208,224,227],[207,226,243],[217,210,233],[234,209,220],[234,153,153],[249,203,156],[255,229,153],[182,215,168],[162,196,201],[159,197,232],[180,167,214],[213,166,189],[224,102,102],[246,178,107],[255,217,102],[147,196,125],[118,165,175],[111,168,220],[142,124,195],[194,123,160],[204,0,0],[230,145,56],[241,194,50],[106,168,79],[69,129,142],[61,133,198],[103,78,167],[166,77,121],[153,0,0],[180,95,6],[191,144,0],[56,118,29],[19,79,92],[11,83,148],[53,28,117],[116,27,71],[102,0,0],[120,63,4],[127,96,0],[39,78,19],[12,52,61],[7,55,99],[32,18,77],[76,17,48]],t._defaults={fontFamily:e.fontFamily,fontSize:e.fontSize,text:t._toHex(e.color),highlight:t._toHex(e.backgroundColor)},e.fontFamily.indexOf("-apple")>=0&&(t._defaults.fontFamily="Segoe UI"),t._localize(),t._setFocusable(),t._populatePopupWithColors(),t._processColumnsAndDataSource(),t._addDefaultItems(),super.render()}attached(){const t=this;super.attached(),t.isCompleted&&t._addDefaultItemsOnAttach&&t._addDefaultItems()}add(t,e){const n=this;if(t&&t.column&&"all"!==t.column&&!n.columns.find(d=>d.dataField===t.column))return void n.items.splice(e,1);const a=document.createElement("div"),i=n._defaults,r=` animation="${n.animation}"${n.rightToLeft?" right-to-left":""} theme="${n.theme}"${n.unfocusable?" unfocusable":""}`,o=n.disabled||n.unfocusable?"":' tabindex="0"';t=Object.assign({column:"all",condition:"lessThan",firstValue:0,secondValue:1,fontFamily:i.fontFamily,fontSize:i.fontSize,text:i.text,highlight:i.highlight},t);const s=`\n<div class="value-label">${n.localize("value")}</div>\n<smart-input class="columns-input underlined" data-source='${JSON.stringify(n._columnsInputDataSource)}' placeholder="${n.localize("column")}" readonly value="${n._columnsInputDataSource.find(d=>d.value===t.column).label}"${r}></smart-input>\n<smart-input class="condition-input underlined" data-source='${n._conditionsDataSource}' placeholder="${n.localize("condition")}" readonly value="${n.localize(t.condition)}"${r}></smart-input>\n<smart-input class="first-value underlined" type="number" placeholder="${n.localize("value")}" value="${t.firstValue}"${r}></smart-input>\n<div class="ampersand">&</div>\n<smart-input class="second-value underlined" type="number" placeholder="${n.localize("secondValue")}" value="${t.secondValue}"${r}></smart-input>\n<div class="close-button" title="${n.localize("close")}"${o} role="button" aria-label="Close"></div>\n<div class="format-label">${n.localize("format")}</div>\n<smart-input class="font-family-input underlined" drop-down-height="auto" placeholder="${n.localize("fontFamily")}" readonly${r}></smart-input>\n<smart-input class="font-size-input underlined" data-source='["8px", "9px", "10px", "11px", "12px", "13px", "14px", "15px", "16px"]' drop-down-height="auto" placeholder="${n.localize("fontSize")}" readonly value="${t.fontSize}"${r}></smart-input>\n<div class="popup-button smart-unselectable"${o} role="button" aria-haspopup="dialog" aria-label="Toggle pop-up">A</div>\n<div class="preview smart-unselectable">2.71828</div>`;a.classList.add("smart-formatting-panel-item"),a.classList.toggle("between","between"===t.condition),a.innerHTML=s,a.columnsInput=a.querySelector(".columns-input"),a.conditionInput=a.querySelector(".condition-input"),a.firstValue=a.querySelector(".first-value"),a.secondValue=a.querySelector(".second-value"),a.closeButton=a.querySelector(".close-button"),a.fontFamilyInput=a.querySelector(".font-family-input"),a.fontFamilyInput.dataSource=[i.fontFamily,"Arial","Verdana","Courier New","Georgia","Times New Roman"],a.fontFamilyInput.value=t.fontFamily,a.fontSizeInput=a.querySelector(".font-size-input"),a.popupButton=a.querySelector(".popup-button"),a.fontFamilyInput=a.querySelector(".font-family-input"),a.preview=a.querySelector(".preview"),a.popupButton.style.color=t.text,a.popupButton.style.backgroundColor=t.highlight,a.preview.style.fontFamily=t.fontFamily,a.preview.style.fontSize=t.fontSize,a.preview.style.color=t.text,a.preview.style.backgroundColor=t.highlight,a.data=t,n.$.itemsContainer.appendChild(a),a.columnsInput.$.input.value||(a.columnsInput.$.input.dataValue="all"),a.conditionInput.$.input.dataValue=t.condition,n._checkScrollBar()}apply(){const t=this,e=new Smart.Utilities.ConditionalFormatter(t.dataSource),n=Array.from(t.$.itemsContainer.children),a=[];let i;if(0===n.length)return;if(t.ownerElement&&"smart-pivot-table"===t.ownerElement.nodeName.toLowerCase()){const o=t.ownerElement._dynamicColumns;i=function(s){return"all"===s?o.map(d=>d.id):o.filter(d=>d.dataFields[d.dataFields.length-1].dataField===s).map(d=>d.id)}}else i=function(o){return"all"===o?t._columns.map(s=>s.value):[o]};for(let o=0;o<n.length;o++){const s=n[o].data,d=i(s.column),c=s.condition;e.color=s.highlight,e.comparator=s.firstValue,e.min=s.firstValue,e.max=s.secondValue;const u=e.format(c,d);for(let m in u){const h=u[m];for(let y in h){const _=h[y];_.color=s.text,_.fontFamily=s.fontFamily,_.fontSize=s.fontSize}}a.push(u)}if(0===a.length)return a[0];const r={};for(let o=0;o<a.length;o++){const s=a[o];for(let d in s){const c=s[d];r[d]||(r[d]={});for(let u in c)r[d][u]=Object.assign({},r[d][u],c[u])}}return r}getItems(){return Array.from(this.$.itemsContainer.children).map(t=>t.data)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"animation":case"theme":case"rightToLeft":if(Array.from(a.$.itemsContainer.querySelectorAll(".smart-element")).forEach(i=>i[t]=n),null!==a.dropDownAppendTo&&(a.$.apply[t]=n,a.$.cancel[t]=n),"theme"===t){const i=getComputedStyle(a);a._defaults.text=a._toHex(i.color),a._defaults.highlight=a._toHex(i.backgroundColor)}break;case"columns":case"items":"columns"===t&&(a._processColumnsAndDataSource(),a.items=null),a.$.itemsContainer.innerHTML="",a._addDefaultItems();break;case"disabled":case"unfocusable":{const i=a.disabled||a.unfocusable,r=Array.from(a.$.itemsContainer.querySelectorAll(".close-button, .popup-button"));"disabled"===t?a._closePopup():null!==a.dropDownAppendTo&&(a.$.apply.unfocusable=n,a.$.cancel.unfocusable=n),a._setFocusable(),Array.from(a.$.itemsContainer.querySelectorAll(".smart-element")).forEach(o=>o.unfocusable=i),r.forEach(i?o=>o.removeAttribute("tabindex"):o=>o.setAttribute("tabindex",0));break}case"dataSource":Smart.DataAdapter&&n instanceof Smart.DataAdapter&&(a.dataSource=n.toArray());break;case"locale":case"messages":a.items=a.getItems(),a.$.itemsContainer.innerHTML="",a._localize(),a._columnsInputDataSource=JSON.parse(JSON.stringify(a._columns.concat([{label:a.localize("all"),value:"all"}]))),a._addDefaultItems()}}_populatePopupWithColors(){const t=this,e=t._basicColors,n=document.createDocumentFragment();for(let a=0;a<e.length;a++){const i=document.createElement("div"),r=e[a],o=`rgb(${r[0]}, ${r[1]}, ${r[2]})`,s=t._toHex(o);i.setAttribute("role","button"),i.setAttribute("aria-label","Select color "+s),i.index=a,i.value=s,i.style.backgroundColor=o,n.appendChild(i)}t.$.colorsContainer.appendChild(n)}_processColumnsAndDataSource(){const t=this,e=t.columns,n=t.dataSource,a=[];Smart.DataAdapter&&n instanceof Smart.DataAdapter&&(t.dataSource=n.toArray());for(let i=0;i<e.length;i++){const r=e[i];"number"===r.dataType&&a.push({label:r.label,value:r.dataField})}t._columns=a,t._columnsInputDataSource=JSON.parse(JSON.stringify(a.concat([{label:t.localize("all"),value:"all"}])))}_addDefaultItems(){const t=this,e=t.items,n=t.getRootNode();n===document||document.body.contains(n)?(e&&e.length>0?e.forEach((a,i)=>t.add(a,i)):(t.add({condition:"greaterThan",firstValue:100}),t.add({condition:"lessThan",firstValue:0})),delete t._addDefaultItemsOnAttach):t._addDefaultItemsOnAttach=!0}_changeHandler(t){const e=this,n=e.isInShadowDOM?t.composedPath()[0]:t.target,a=n.closest(".smart-formatting-panel-item");if(a)if(n!==a.columnsInput){if(n===a.conditionInput)return a.data.condition=n.$.input.dataValue,void a.classList.toggle("between","between"===n.$.input.dataValue);if(a.firstValue.contains(n))a.data.firstValue=parseFloat(n.value);else{if(!a.secondValue.contains(n))return n===a.fontFamilyInput?(a.data.fontFamily=n.value,void(a.preview.style.fontFamily=n.value)):void(n===a.fontSizeInput&&(a.data.fontSize=n.value,a.preview.style.fontSize=n.value));a.data.secondValue=parseFloat(n.value)}}else a.data.column=n.$.input.dataValue;else e.$.popup.contains(n)&&e._updateUI(n.value.toUpperCase())}_checkScrollBar(){this.classList.toggle("scroll",this.$.itemsContainer.offsetHeight<this.$.itemsContainer.scrollHeight)}_interactionHandler(t){const e=this;if(!e.dropDownAppendTo&&t.currentTarget===e.$.popup)return;if("keydown"===t.type){if(-1===[" ","Enter"].indexOf(t.key))return void(e.disabled||e.readonly||e._keydownHandler(t));t.preventDefault()}const n=e.isInShadowDOM?t.composedPath()[0]:t.target;if(n===e.$.addNewButton)return void e.add();const a=n.closest(".smart-formatting-panel-item");if(a)return void(n===a.closeButton?(a.remove(),this._checkScrollBar()):n===a.popupButton&&(e._togglePopup(a),e._activePopupButton=n));const i=e.$.popup;if(i.contains(n)){if(n.parentElement===e.$.colorsContainer)return void e._updateUI(n.value);if(n.parentElement===e.$.popupHeader)n.classList.add("selected"),n===e.$.text?(i.selection="currentText",e.$.highlight.classList.remove("selected")):(i.selection="currentHighlight",e.$.text.classList.remove("selected")),e._updateUI(i[i.selection]);else if(n.classList.contains("smart-button")){if(e.$.apply.contains(n)||n&&n.ownerElement&&n.ownerElement.classList.contains("ok")){const r=i.item;r.data.text=i.currentText,r.data.highlight=i.currentHighlight,r.popupButton.style.color=i.currentText,r.popupButton.style.backgroundColor=i.currentHighlight,r.preview.style.color=i.currentText,r.preview.style.backgroundColor=i.currentHighlight}e._closePopup()}}}_keydownHandler(t){const e=this,n=t.key;if(-1===["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Escape","Home","PageDown","PageUp"].indexOf(n))return;if(t.preventDefault(),"Escape"===n&&!e.$.popup.classList.contains("smart-hidden"))return void e._closePopup();if(e.getRootNode().activeElement!==e.$.colorsContainer)return;const a=Array.from(this.$.colorsContainer.children),i=this.$.colorsContainer.querySelector(".selected");let r,o="ArrowRight",s="ArrowLeft";if(e.rightToLeft&&(o="ArrowLeft",s="ArrowRight"),i){let d=i.index;switch(n){case s:d=Math.max(d-1,d-d%8);break;case o:d=Math.min(d+1,d+8-d%8-1);break;case"ArrowUp":d=Math.max(d-8,d%8);break;case"ArrowDown":d=Math.min(d+8,56+d%8);break;case"Home":d-=d%8;break;case"End":d=d+8-d%8-1;break;case"PageUp":d%=8;break;case"PageDown":d=56+d%8}r=a[d]}else r=a[0];e._updateUI(r.value,r)}_togglePopup(t){const e=this,n=e.$.popup;if(t===n.item)return void e._closePopup();if(n.setAttribute("animation",e.animation),n.setAttribute("theme",e.theme),e.rightToLeft&&n.setAttribute("right-to-left",""),n.classList.contains("smart-hidden")&&n.classList.remove("smart-hidden"),e.dropDownAppendTo)if("body"===e.dropDownAppendTo)document.body.appendChild(n);else{const h=document.querySelector(e.dropDownAppendTo);h&&h.appendChild(n)}const a=t.popupButton,i=a.getBoundingClientRect(),r=a.offsetLeft,o=a.offsetTop,s=n.offsetWidth,d=n.offsetHeight,c=e.$.itemsContainer.scrollTop,u=e._toHex(t.data.text),m=e._toHex(t.data.highlight);n.style.top=i.top>=d+5?o-(d+c+5)+"px":o+i.height-c+5+"px",n.style.left=r+i.width/2-s/2+"px",e.dropDownAppendTo&&(n.style.top=i.bottom+5+"px",n.style.left=i.left+i.width/2-s/2+"px"),e.$.text.classList.add("selected"),e.$.highlight.classList.remove("selected"),e.$.text.focus(),n.item=t,n.selection="currentText",n.currentText=u,n.currentHighlight=m,e._updateUI(u),n.controlledBy&&(n.controlledBy.removeAttribute("aria-controls"),n.controlledBy.removeAttribute("aria-expanded")),a.setAttribute("aria-controls",n.id),a.setAttribute("aria-expanded",!0),n.controlledBy=a,n.classList.remove("smart-visibility-hidden")}_closePopup(){const t=this,e=t.$.popup;"none"!==t.animation?(e.addEventListener("transitionend",function n(){e.classList.add("smart-hidden"),e.removeEventListener("transitionend",n)}),e.classList.add("smart-visibility-hidden")):(e.classList.add("smart-visibility-hidden"),e.classList.add("smart-hidden")),delete e.item,t._activePopupButton&&t._activePopupButton.focus(),e.controlledBy&&(e.controlledBy.removeAttribute("aria-controls"),e.controlledBy.removeAttribute("aria-expanded"))}_toHex(t){if(-1!==t.indexOf("#"))return t;const e=/rgb\((\d+), (\d+), (\d+)\)/g.exec(t);return e?"#"+(parseFloat(e[1]).toString(16).padStart(2,"0")+parseFloat(e[2]).toString(16).padStart(2,"0")+parseFloat(e[3]).toString(16).padStart(2,"0")).toUpperCase():"#FFFFFF"}_updateUI(t,e){const n=this;n.$.colorInput.value=t,n.$.colorCode.innerHTML=t,n._selectColor(t,e)}_selectColor(t,e){const n=this.$.popup,a=Array.from(this.$.colorsContainer.children);a.forEach(i=>i.classList.remove("selected")),(e=e||a.find(i=>i.value===t))&&e.classList.add("selected"),n[n.selection]=t}_localize(){const t=this;t._conditionsDataSource=JSON.stringify([{label:t.localize("lessThan"),value:"lessThan"},{label:t.localize("greaterThan"),value:"greaterThan"},{label:t.localize("equal"),value:"equal"},{label:t.localize("notEqual"),value:"notEqual"},{label:t.localize("between"),value:"between"}]),t.$.text.innerHTML=t.localize("text"),t.$.highlight.innerHTML=t.localize("highlight"),t.$.apply.innerHTML=t.localize("apply"),t.$.cancel.innerHTML=t.localize("cancel"),t.$.addNewButton.title=t.localize("add")}_setFocusable(){const t=this,n=[t.$.addNewButton,t.$.text,t.$.highlight,t.$.colorsContainer];t.disabled||t.unfocusable?(n.forEach(a=>a.removeAttribute("tabindex")),t.$.colorInput.setAttribute("tabindex",-1)):(n.forEach(a=>a.setAttribute("tabindex",0)),t.$.colorInput.removeAttribute("tabindex"))}_documentDownHandler(t){const e=this,n=e.isInShadowDOM?t.originalEvent.composedPath()[0]:t.originalEvent.target,a=e.$.popup;a.classList.contains("smart-hidden")||a.contains(n)||n.classList.contains("popup-button")||(delete e._activePopupButton,e._closePopup())}}),Smart("smart-data-view",class extends Smart.BaseElement{static get properties(){return{addNewButton:{value:!1,type:"boolean"},allowDrag:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},columns:{value:[],type:"object",reflectToAttribute:!1},dataSource:{value:null,type:"object?",reflectToAttribute:!1},dataSourceSettings:{value:{autoGenerateColumns:{value:!1,type:"boolean"},sanitizeHTML:{value:"blackList",allowedValues:["all","blackList","none"],type:"string"},root:{value:"",type:"string"},record:{value:"",type:"string"},keyDataField:{value:"",type:"string"},parentDataField:{value:"",type:"string"},childrenDataField:{value:"",type:"string"},groupBy:{value:[],type:"array"},dataFields:{value:[],type:"array"},mapChar:{value:".",type:"string"},id:{value:"",type:"string"},virtualDataSource:{value:null,type:"any"},virtualDataSourceOnExpand:{value:null,type:"any"}},type:"object"},editable:{value:!1,type:"boolean"},headerPosition:{value:"none",allowedValues:["none","top","bottom"],type:"string"},messages:{value:{en:{addFilter:"+ Add filter",and:"And",apply:"Ok",booleanFirst:"\u2610",booleanLast:"\u2611",cancel:"Cancel",CONTAINS:"contains",CONTAINS_CASE_SENSITIVE:"contains (case sensitive)",dateFirst:"1",dateLast:"9",DOES_NOT_CONTAIN:"does not contain",DOES_NOT_CONTAIN_CASE_SENSITIVE:"does not contain (case sensitive)",EMPTY:"empty",ENDS_WITH:"ends with",ENDS_WITH_CASE_SENSITIVE:"ends with (case sensitive)",EQUAL:"equal",EQUAL_CASE_SENSITIVE:"equal (case sensitive)",filter:"Filter",customize:"Customize Columns",filteredByMultiple:"{{n}} filters",filteredByOne:"1 filter",filterValuePlaceholder:"Value",find:"Find a field",findInView:"Find in view",firstBy:"Sort by",found:"{{nth}} of {{n}}",from:"from",GREATER_THAN:"greater than",GREATER_THAN_OR_EQUAL:"greater than or equal",LESS_THAN:"less than",LESS_THAN_OR_EQUAL:"less than or equal",noFilters:"No filters applied",noResults:"No results",noSorting:"No sorting applied",NOT_EMPTY:"not empty",NOT_EQUAL:"not equal",NOT_NULL:"not null",NULL:"null",numberFirst:"1",numberLast:"9",ok:"OK",or:"Or",pickAnother:"Pick another field to sort by",sort:"Sort",group:"Group",fontFamily:"Font family:",fontSize:"Font size:",format:"Format:",formatColumn:"Format Column",formating:"Conditional Formating",sortedByMultiple:"Sorted by {{n}} fields",sortedByOne:"Sorted by 1 field",STARTS_WITH:"starts with",STARTS_WITH_CASE_SENSITIVE:"starts with (case sensitive)",stringFirst:"A",stringLast:"Z",thenBy:"then by",where:"Where",collapseAll:"Collapse all",expandAll:"Expand all",noGrouping:"No grouping",groupedByMultiple:"{{n}} groups",groupedByOne:"1 group",firstByGroup:"Group by",pickAnotherGroupBy:"Pick another field to group by",add:"Add condition",all:"All columns",between:"Between",close:"Close",column:"Column:",condition:"Condition:",equal:"Equal To",greaterThan:"Greater Than",highlight:"Highlight",lessThan:"Less Than",notEqual:"Not Equal To",remove:"Remove condition",secondValue:"Second value:",text:"Text",value:"Value:",reset:"Reset"}}}}}static get listeners(){return{"header.apply":"_applyHandler","header.cancel":"closePanel","headerDropDown.transitionend":"_headerDropDownTransitionendHandler","searchInput.keyup":"_searchInputKeyupHandler",resize:"_resizeHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}render(){const t=this;t.$.headerDropDown.id||(t.$.headerDropDown.id=t.id+"HeaderDropDown"),t.setAttribute("role","group"),t._isMobile=Smart.Utilities.Core.isMobile,super.render()}addFilter(t,e="and"){const n=this;if(!Array.isArray(t)||t.length>0&&!Array.isArray(t[0]))return;let a;n.closePanel(),arguments[2]?a={filters:arguments[2],operator:e}:(a={filters:[],operator:e},t.forEach(i=>{i[1].filters.forEach(r=>{a.filters.push([i[0],r.condition,r.value])})})),JSON.stringify(a)!==JSON.stringify(n._appliedFiltering)&&(a.filterGroups=t,n._appliedFiltering=a,n._applyFilter(t,e),n.$.fireEvent("filter"),n._refreshFilterButton())}_refreshFilterButton(){const t=this,e=t._appliedFiltering.filters?t._appliedFiltering.filters.length:0;if(0===e)return t.$.filterButton.firstElementChild.innerHTML=t.localize("filter"),void t.$.filterButton.classList.remove("filtered");t.$.filterButton.firstElementChild.innerHTML=1===e?t.localize("filteredByOne"):t.localize("filteredByMultiple",{n:e}),t.$.filterButton.classList.add("filtered")}addSort(t,e){const n=this,a=n.dataSource,i=JSON.stringify(n._appliedSorting);let r;function o(s,d){if(n.columns.find(c=>c.dataField===s)){let c=Array.isArray(e)?e[d]:"string"==typeof e?e:"ascending";r.dataFields.push(s),r.dataTypes.push(a.dataFields.find(u=>u.name===s).dataType),c=c&&-1!==c.indexOf("desc")?"descending":"ascending",r.orderBy.push(c)}}if(0!==arguments.length&&a&&0!==a.length){if(n.closePanel(),1===arguments.length&&"object"==typeof t)r=t;else if(r={dataFields:[],dataTypes:[],orderBy:[]},Array.isArray(t))t.forEach(o);else{if("string"!=typeof t)return;o(t,0)}n.closePanel(),n._appliedSorting=r,i!==JSON.stringify(n._appliedSorting)&&(n._applySort(),n.$.fireEvent("sort"),n._refreshSortButton())}}_refreshSortButton(){const t=this,e=t._appliedSorting.dataFields.length;return 0===e||t.grid&&!1===t.grid.sorting.maintainSort?(t.$.sortButton.firstElementChild.innerHTML=t.localize("sort"),void t.$.sortButton.classList.remove("sorted")):(t.$.sortButton.firstElementChild.innerHTML=1===e?t.localize("sortedByOne"):t.localize("sortedByMultiple",{n:e}),void t.$.sortButton.classList.add("sorted"))}closePanel(){const t=this.$.headerDropDown;t.classList.remove("open"),setTimeout(()=>{t.classList.add("smart-visibility-hidden")},150),this._closeSearchPanel(),t.controlledBy&&(t.controlledBy.removeAttribute("aria-controls"),t.controlledBy.setAttribute("aria-expanded",!1),delete t.controlledBy)}_closeSearchPanel(){this._searchInfo&&delete this._searchInfo}_closeDialog(){this._editInfo&&this._editInfo.window.close()}openFormatPanel(){}openFilterPanel(t,e){const n=this,a=n.dataSource;if(!a||0===a.length&&!a.virtualDataSource||n.disabled||"none"===n.headerPosition)return;let i;n._editInfo&&n._editInfo.window.close(),n.$.headerDropDown.classList.add("filter-panel"),n.$.headerDropDown.classList.remove("customize-panel","sort-panel","search-panel","format-panel"),n.$.filter.classList.remove("smart-hidden"),n.$.customize.classList.add("smart-hidden"),n.$.sort.classList.add("smart-hidden"),n.$.format&&n.$.format.classList.add("smart-hidden"),n.$.group&&n.$.group.classList.add("smart-hidden"),n.$.search.classList.add("smart-hidden"),n._closeSearchPanel(),n._filterPartCreated?(i=n.$.filter.firstElementChild,i.set("dataSource",t),i.set("locale",n.locale),i.messages=n._innerElementMessages.multiColumnFilterPanel,i.operator=n._appliedFiltering.operator,i.editorPlaceholder=n.localize("filterValuePlaceholder"),i.set("operator",n._appliedFiltering.operator),i.set("value",n._appliedFiltering.filters),i._applyValue(),i.rightToLeft=n.rightToLeft):(i=document.createElement("smart-multi-column-filter-panel"),i.rightToLeft=n.rightToLeft,i.animation=n.animation,i.dataSource=t,i.locale=n.locale,i.messages=n._innerElementMessages.multiColumnFilterPanel,i.operator=n._appliedFiltering.operator,i.editorPlaceholder=n.localize("filterValuePlaceholder"),i.theme=n.theme,i.value=n._appliedFiltering.filters,i.editorCallback=e,n.$.filter.appendChild(i),n._filterPartCreated=!0),n._openHeaderDropDown(n.$.filterButton)}openSortPanel(t){const e=this,n=e.dataSource;if(!n||0===n.length&&!n.virtualDataSource||e.disabled||"none"===e.headerPosition)return;let a;e._closeDialog(),e.$.headerDropDown.classList.add("sort-panel"),e.$.headerDropDown.classList.remove("customize-panel","filter-panel","format-panel","search-panel"),e.$.sort.classList.remove("smart-hidden"),e.$.customize.classList.add("smart-hidden"),e.$.filter.classList.add("smart-hidden"),e.$.format&&e.$.format.classList.add("smart-hidden"),e.$.group&&e.$.group.classList.add("smart-hidden"),e.$.search.classList.add("smart-hidden"),e._closeSearchPanel(),e._sortPartCreated?(a=e.$.sort.firstElementChild,a.rightToLeft=e.rightToLeft,a.dataSource=t,a.locale=e.locale,a.messages=e._innerElementMessages.sortPanel,a.set("dataSource",t),a.propertyChangedHandler("dataSource",void 0,t)):(a=document.createElement("smart-sort-panel"),a.rightToLeft=e.rightToLeft,a.animation=e.animation,a.dataSource=t,a.locale=e.locale,a.messages=e._innerElementMessages.sortPanel,a.theme=e.theme,e.$.sort.appendChild(a),e._sortPartCreated=!0),e._openHeaderDropDown(e.$.sortButton)}removeFilter(){this.addFilter([])}removeSort(){this.addSort({dataFields:[],dataTypes:[],orderBy:[]})}_clearFilterAndSortUI(){const t=this;t._appliedFiltering={filterGroups:[],filters:[],operator:"and"},t._appliedSorting={dataFields:[],dataTypes:[],orderBy:[]},t._appliedGrouping={dataFields:[]},t.$.filterButton.classList.remove("filtered"),t.$.sortButton.classList.remove("sorted"),t.$.filterButton.firstElementChild.innerHTML=t.localize("filter"),t.$.sortButton.firstElementChild.innerHTML=t.localize("sort")}_getInnerElementMessages(){const t=this,e=t.locale,n={columnPanel:{},groupPanel:{},multiColumnFilterPanel:{},sortPanel:{},formattingPanel:{},dateTimePicker:{}};n.formattingPanel[e]={add:t.localize("add"),all:t.localize("all"),apply:t.localize("apply"),between:t.localize("between"),cancel:t.localize("cancel"),close:t.localize("close"),column:t.localize("column"),condition:t.localize("condition"),equal:t.localize("equal"),fontFamily:t.localize("fontFamily"),fontSize:t.localize("fontSize"),format:t.localize("format"),greaterThan:t.localize("greaterThan"),highlight:t.localize("highlight"),lessThan:t.localize("lessThan"),notEqual:t.localize("notEqual"),remove:t.localize("remove"),secondValue:t.localize("secondValue"),text:t.localize("text"),value:t.localize("value")},n.columnPanel[e]={apply:t.localize("apply"),cancel:t.localize("cancel"),reset:t.localize("reset"),find:t.localize("find"),noResults:t.localize("noResults")},n.groupPanel[e]={apply:t.localize("apply"),cancel:t.localize("cancel"),collapseAll:t.localize("collapseAll"),expandAll:t.localize("expandAll"),firstBy:t.localize("firstByGroup"),noGrouping:t.localize("noGrouping"),pickAnother:t.localize("pickAnotherGroupBy"),stringFirst:t.localize("stringFirst"),stringLast:t.localize("stringLast"),thenBy:t.localize("thenBy"),from:t.localize("from"),booleanFirst:t.localize("booleanFirst"),booleanLast:t.localize("booleanLast"),dateFirst:t.localize("dateFirst"),dateLast:t.localize("dateLast"),numberFirst:t.localize("numberFirst"),numberLast:t.localize("numberLast")},n.multiColumnFilterPanel[e]={addFilter:t.localize("addFilter"),and:t.localize("and"),apply:t.localize("apply"),cancel:t.localize("cancel"),CONTAINS:t.localize("CONTAINS"),CONTAINS_CASE_SENSITIVE:t.localize("CONTAINS_CASE_SENSITIVE"),DOES_NOT_CONTAIN:t.localize("DOES_NOT_CONTAIN"),DOES_NOT_CONTAIN_CASE_SENSITIVE:t.localize("DOES_NOT_CONTAIN_CASE_SENSITIVE"),EMPTY:t.localize("EMPTY"),ENDS_WITH:t.localize("ENDS_WITH"),ENDS_WITH_CASE_SENSITIVE:t.localize("ENDS_WITH_CASE_SENSITIVE"),EQUAL:t.localize("EQUAL"),EQUAL_CASE_SENSITIVE:t.localize("EQUAL_CASE_SENSITIVE"),GREATER_THAN:t.localize("GREATER_THAN"),GREATER_THAN_OR_EQUAL:t.localize("GREATER_THAN_OR_EQUAL"),LESS_THAN:t.localize("LESS_THAN"),LESS_THAN_OR_EQUAL:t.localize("LESS_THAN_OR_EQUAL"),noFilters:t.localize("noFilters"),NOT_EMPTY:t.localize("NOT_EMPTY"),NOT_EQUAL:t.localize("NOT_EQUAL"),NOT_NULL:t.localize("NOT_NULL"),NULL:t.localize("NULL"),or:t.localize("or"),STARTS_WITH:t.localize("STARTS_WITH"),STARTS_WITH_CASE_SENSITIVE:t.localize("STARTS_WITH_CASE_SENSITIVE"),where:t.localize("where")},n.sortPanel[e]={apply:t.localize("apply"),applyOnce:t.localize("applyOnce"),booleanFirst:t.localize("booleanFirst"),booleanLast:t.localize("booleanLast"),cancel:t.localize("cancel"),dateFirst:t.localize("dateFirst"),dateLast:t.localize("dateLast"),firstBy:t.localize("firstBy"),from:t.localize("from"),numberFirst:t.localize("numberFirst"),numberLast:t.localize("numberLast"),noSorting:t.localize("noSorting"),pickAnother:t.localize("pickAnother"),maintainSort:t.localize("maintainSort"),stringFirst:t.localize("stringFirst"),stringLast:t.localize("stringLast"),thenBy:t.localize("thenBy")},n.dateTimePicker[e]={now:t.localize("now"),dateTabLabel:t.localize("dateTabLabel"),timeTabLabel:t.localize("timeTabLabel")},t._innerElementMessages=n}_handleHeaderPosition(t){const e=this,n=e.headerPosition,a=e.$.header;"none"!==n?(a.classList.remove("smart-hidden"),"top"===n&&a.nextElementSibling!==t?e.$.container.insertBefore(a,t):"bottom"===n&&a.previousElementSibling!==t&&e.$.container.insertBefore(a,e.$.loadingIndicatorContainer)):a.classList.add("smart-hidden")}_headerClickHandler(t){const e=this,n=e.$.headerDropDown;function a(i,r){n.classList.contains("smart-visibility-hidden")||i.classList.contains("smart-hidden")?e[r]():e.closePanel()}if(e.$.customizeButton.contains(t))a(e.$.customize,"openCustomizePanel");else if(e.$.filterButton.contains(t))a(e.$.filter,"openFilterPanel");else if(e.$.sortButton.contains(t))a(e.$.sort,"openSortPanel");else if(e.$.formatButton&&e.$.formatButton.contains(t))a(e.$.format,"openFormatPanel");else if(t===e.$.searchButton)a(e.$.search,"_openSearchPanel");else if(e.$.groupButton&&e.$.groupButton.contains(t))a(e.$.group,"openGroupPanel");else if(t===e.$.searchClose)e.closePanel();else if(t===e.$.searchPrev||t===e.$.searchNext){const i=e._searchInfo,r=i.foundIdsArray,o=t===e.$.searchNext,s=r.length;let d;if(void 0===i.highlighted)d=o?0:s-1;else{if(1===r.length)return;{const c=r.indexOf(i.highlighted);d=o?(c+1)%s:c-1>=0?c-1:s-1}}i.highlighted=r[d],e.grid?(e.grid.highlighted=i.highlighted,e.grid.ensureVisible(i.highlighted),e.grid._recycle(!1)):e.ensureVisible&&e.ensureVisible(i.highlighted),e.$.searchLabel.innerHTML=e.localize("found",{nth:d+1,n:r.length})}}_headerDropDownTransitionendHandler(t){const e=this,n=e.$.headerDropDown;e._openTimer=setTimeout(()=>{t&&("visibility"!==t.propertyName||n.classList.contains("smart-visibility-hidden"))||(n.classList.contains("search-panel")?e.$.searchInput.focus():!1===e.unfocusable&&(!e._isMobile&&n.classList.contains("customize-panel")?n.querySelector("smart-column-panel").$.find.focus():n.classList.contains("filter-panel")?n.querySelector("smart-multi-column-filter-panel").$.addFilterButton.focus():n.classList.contains("sort-panel")&&n.querySelector("smart-sort-panel").$.inputNotSorted.focus()))},100)}_localizeHeader(){const t=this;t.$.customizeButton.firstElementChild.innerHTML=t.localize("customize"),t.$.groupButton&&(t.$.groupButton.firstElementChild.innerHTML=t.localize("group")),t.$.filterButton.firstElementChild.innerHTML=0===t._appliedFiltering.filters.length?t.localize("filter"):1===t._appliedFiltering.filters.length?t.localize("filteredByOne"):t.localize("filteredByMultiple",{n:t._appliedFiltering.filters.length}),t.$.sortButton.firstElementChild.innerHTML=0===t._appliedSorting.dataFields.length?t.localize("sort"):1===t._appliedSorting.dataFields.length?t.localize("sortedByOne"):t.localize("sortedByMultiple",{n:t._appliedSorting.dataFields.length}),t.$.formatButton&&(t.$.formatButton.firstElementChild.innerHTML=t.localize("formating")),t.$.searchInput.placeholder=t.localize("findInView")}_openHeaderDropDown(t){const e=this,n=e.$.headerDropDown;"top"===e.headerPosition?(n.style.bottom=null,n.style.top="100%"):(n.style.top=null,n.style.bottom="100%"),n.style.left=t!==e.$.searchButton||t===e.$.searchButton&&e.rightToLeft?t.offsetLeft-(e.rightToLeft?n.offsetWidth-t.offsetWidth:0)+"px":(e.rightToLeft?t.offsetLeft:t.offsetLeft+Math.max(25,t.offsetWidth)-n.offsetWidth)+"px",n.classList.remove("smart-visibility-hidden"),n.classList.add("open"),n.controlledBy&&(n.controlledBy.removeAttribute("aria-controls"),n.controlledBy.setAttribute("aria-expanded",!1)),n.controlledBy=t,t.setAttribute("aria-controls",n.id),t.setAttribute("aria-expanded",!0),e._headerDropDownTransitionendHandler()}_searchInputKeyupHandler(t){const e=this;function n(){e._searchInfo&&e.$.searchInput.value!==e._searchInfo.query&&e._search(e.$.searchInput.value)}return clearTimeout(e._searchInputTimeout),"Escape"===t.key?(e.$.searchInput.value="",n(),void e.closePanel()):"Enter"===t.key&&e._searchInfo.foundIdsArray&&e._searchInfo.foundIdsArray.length>1?(n(),void e._headerClickHandler(e.$.searchNext,e.$.cardContainer||e.$.body)):void(e._searchInputTimeout=setTimeout(n,500))}})},27281:()=>{Smart("smart-input",class extends Smart.BaseElement{static get properties(){return{autoCompleteDelay:{value:100,type:"number"},dataSource:{type:"any",value:[],reflectToAttribute:!1},dropDownClassList:{value:[],type:"array",reflectToAttribute:!1},dropDownDataSource:{type:"any",reflectToAttribute:!1,value:[]},dropDownHeight:{type:"any",value:200},dropDownOpenMode:{allowedValues:["default","manual"],value:"default",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownWidth:{type:"any",value:null},dropDownButtonPosition:{allowedValues:["none","left","right"],value:"none",type:"string"},dropDownOpenPosition:{allowedValues:["bottom","top","auto"],value:"bottom",type:"string"},hint:{type:"string",value:""},inputPurpose:{type:"string",value:"off"},items:{type:"number",value:8},minLength:{type:"number",value:1},maxLength:{type:"number",value:99999999},name:{value:"",type:"string"},prefix:{value:"",type:"string",reflectToAttribute:!1},suffix:{value:"",type:"string",reflectToAttribute:!1},onAffixClick:{value:null,type:"any",reflectToAttribute:!1},opened:{value:!1,type:"boolean"},query:{type:"string",value:""},queryMode:{allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string",value:"containsIgnoreCase"},placeholder:{value:"",type:"string"},readonly:{type:"boolean",value:!1},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},selectedIndex:{type:"number",value:-1},selectedValue:{type:"any",value:""},selectedValues:{value:[],type:"array"},type:{type:"string"},value:{type:"string",value:""},innerHTML:{type:"string",reflectToAttribute:!1}}}static get styleUrls(){return["smart.textbox.css"]}template(){return'<div id="inputContainer" role="presentation"><div id="optionsContainer" inner-h-t-m-l=\'{{innerHTML}}\' class="smart-hidden"></div><span class="smart-input-prefix" id="prefix" inner-h-t-m-l=\'{{prefix}}\'></span><input maxlength=\'[[maxLength]]\'  class="smart-input" id=\'input\' readonly=\'[[readonly]]\' placeholder=\'[[placeholder]]\' type=\'[[type]]\' name=\'[[name]]\' value=\'{{value::keyup}}\' disabled=\'[[disabled]]\' aria-label="[[placeholder]]" /><span class="smart-hidden smart-hint" id="span">[[hint]]</span><span id="suffix"  class="smart-input-suffix" inner-h-t-m-l=\'{{suffix}}\'></span><div id="dropDownButton" tabindex=-1 class="smart-drop-down-button" role="button" aria-label="Toggle popup"><div id="arrow" class="arrow" aria-hidden="true"></div></div></div>'}static get listeners(){return{"input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_keyDownHandler","input.keyup":"_keyUpHandler","input.keypress":"_keyPressHandler","input.paste":"_pasteHandler","prefix.click":"_prefixClick","suffix.click":"_suffixClick","dropDownButton.down":"_dropDownButtonDownHandler","inputContainer.down":"_downHandler","document.up":"_documentUpHandler"}}_prefixClick(t){const e=this;if(e.onAffixClick)if("string"==typeof e.onAffixClick){const n=e.onAffixClick.replace("()","");window[n]&&window[n].apply(e,t)}else e.onAffixClick(t)}_suffixClick(t){const e=this;if("string"==typeof e.onAffixClick){const n=e.onAffixClick.replace("()","");window[n]&&window[n].apply(e,t)}else e.onAffixClick(t)}get selectedIndexes(){return this.isCompleted?[this.selectedIndex]:[]}set selectedIndexes(t){if(!this.isCompleted)return;const e=this;if(t&&void 0!==t[0]){if(this.selectedIndex=t[0],null===this.dataSource)return;const n=this.dataSource[this.selectedIndex];if(!n)return;const a=this.context;this.context=this,this.$.input.dataValue=this.selectedValue="string"==typeof n?n:n.value,this.setAttribute("data-value",this.$.input.dataValue);let i=e.dataSource;"string"==typeof i&&(i=e.$.deserialize(i,"array"));for(let r=0;r<i.length;r++){let o=i[r];"string"!=typeof o&&"number"!=typeof o&&(o.selected=o.value===e.$.input.dataValue)}this.context=a}else{const n=this.context;this.context=this,this.$.input.dataValue=this.selectedValue="",this.setAttribute("data-value",this.$.input.dataValue),this.selectedIndex=-1;let a=e.dataSource;if("string"==typeof a&&(a=e.$.deserialize(a,"array")),a&&Array.isArray(a))for(let i=0;i<a.length;i++){let r=a[i];"string"!=typeof r&&(r.selected=r.value===e.$.input.dataValue)}this.context=n}}focus(){this.$.input.focus()}select(){const t=this;t.readonly?t.$.input.focus():t.$.input.select()}_documentUpHandler(t){const e=this,n=e.shadowRoot||e.isInShadowDOM?t.originalEvent.composedPath()[0]:t.originalEvent.target;n!==e&&n!==e.$.dropDownButton&&n!==e.$.input&&n!==e.$.arrow?e.$.scrollView.contains(n.shadowParent||n)?e._isPointerDown&&(e._isPointerDown=!1,e.opened&&(e._preventLookup=!0),e.$.input.focus()):(e.opened&&(e._preventLookup=!0),"manual"===e.dropDownOpenMode||e._isPointerDown||e.close(),e._isPointerDown=!1):e._isPointerDown=!1}_focusHandler(){const t=this;t.setAttribute("focus",""),t.readonly||0!==t.minLength||0!==t.$.input.value.length||t._preventLookup?(t.$.fireEvent("focus"),delete t._preventLookup):t._lookup()}_blurHandler(){const t=this;t.opened||t.removeAttribute("focus"),t.opened||t.$.fireEvent("blur"),t._refreshSelectedIndex(),delete t._preventLookup}_pasteHandler(t){const e=this,n=e.$.input,a=n.value,i=n.selectionStart,r=n.selectionEnd;if(!t.clipboardData&&!window.clipboardData)return;const o=(t.clipboardData||window.clipboardData).getData("text");let s=a.slice(0,i)+o,d=s.length;s+=a.slice(r),t.preventDefault(),e.set("value",s),e.setAttribute("data-value",s),n.setSelectionRange(d,d),e._refreshSelectedIndex()}_refreshSelectedIndex(){const t=this;let e=t.dataSource;if(e){let n=-1,a=null;if(t.dataSource instanceof Promise||"function"==typeof t.dataSource)return;"string"==typeof e&&(e=t.$.deserialize(e,"array"));for(let i=0;i<e.length;i++){let r=e[i];if("number"!=typeof r&&"boolean"!=typeof r||(r=""+r),"string"==typeof r){if(r===t.value){n=i,a=t.value;break}}else r&&(delete r.selected,r.label===t.value&&(n=i,a=r.value,r.selected=!0))}t.set("selectedIndex",n,!1),t.set("selectedValue",a,!1),-1===t.selectedIndex&&(t.$.input.dataValue=null)}}selectItem(t){const e=this;let n=e.dataSource;if("string"==typeof n&&(n=e.$.deserialize(n,"array")),n)for(let a=0;a<n.length;a++){const i=n[a];if(e.set("selectedIndex",-1),e.set("value",""),e.$.input.dataValue=null,"string"==typeof i){if(i===t)return e.set("selectedIndex",a,!1),e.set("value",e.$.input.dataValue=t),void e.setAttribute("data-value",e.$.input.dataValue)}else if(i.value===t)return e.set("selectedIndex",a,!1),e.set("value",i.label),e.$.input.dataValue=t,void e.setAttribute("data-value",e.$.input.dataValue)}else e.set("value",e.$.input.dataValue=t),e.setAttribute("data-value",e.$.input.dataValue),e.set("selectedIndex",-1,!1)}getItem(t){const e=this;if(e.dataSource)for(let n=0;n<e.dataSource.length;n++){const a=e.dataSource[n];if(a.value===t)return a}return null}getPrevItem(){const t=this,e=t.getSelectedItem();if(t.dataSource&&e)for(let n=0;n<t.dataSource.length;n++)if(t.dataSource[n].value===e.value)return t.dataSource[n-1];return null}getNextItem(){const t=this,e=t.getSelectedItem();if(t.dataSource&&e)for(let n=0;n<t.dataSource.length;n++)if(t.dataSource[n].value===e.value)return t.dataSource[n+1];return null}getSelectedItem(){const t=this;return t.dataSource&&0===t.dataSource.length?{label:t.value,value:t.$.input.dataValue?t.$.input.dataValue:t.value}:{label:t.value,value:void 0!==t.$.input.dataValue?t.$.input.dataValue:t.value}}_refreshMenu(){const t=this;t.$.menu.classList.remove("scroll"),t.$.scrollView.computedVerticalScrollBarVisibility&&t.$.menu.classList.add("scroll")}_fromHTMLEntities(t){const e=this,n=e._textArea?e._textArea:document.createElement("textarea");return n.innerHTML=t,e._textArea=n,n.value}_performSelect(){const t=this,e=t.$.menu.querySelector(".active");let n="",a="";e&&(n=e.getAttribute("data-label"),n=t._fromHTMLEntities(n),a=e.dataValue);let i=t.value,r=t.$.input.dataValue;t.set("value",n),t.$.input.dataValue=a,t.setAttribute("data-value",a),e&&t.set("selectedIndex",e.index),t.set("selectedValues",[t.$.input.dataValue]),t.set("selectedValue",t.$.input.dataValue);let o=t.dataSource;if("string"==typeof o&&(o=t.$.deserialize(o,"array")),o&&Array.isArray(o))for(let s=0;s<o.length;s++){let d=o[s];"string"!=typeof d&&"number"!=typeof d&&(d.selected=d.value===t.$.input.dataValue)}t.close(),n===i&&a===r||(t.$.fireEvent("change",{value:a,label:n,oldValue:r,oldLabel:i}),t._updateTargetValue())}_open(){const t=this;if(t.opened)return;const e=window.scrollX,n=window.scrollY;let a=t.getBoundingClientRect(),i=0,r=0;if(t.timer&&clearTimeout(t.timer),t.getRootNode()&&t.getRootNode().host)t.getRootNode().host.shadowRoot.appendChild(t.$.scrollView);else if(t.dropDownAppendTo){if("body"===t.dropDownAppendTo||t.dropDownAppendTo===document.body)document.body.appendChild(t.$.scrollView);else if(t.dropDownAppendTo instanceof HTMLElement)t.dropDownAppendTo.appendChild(t.$.scrollView);else if("string"==typeof dropDownAppendTo){let o=document.getElementById(t.dropDownAppendTo);o instanceof HTMLElement?o.appendChild(t.$.scrollView):document.body.appendChild(t.$.scrollView)}}else document.body.appendChild(t.$.scrollView);if(t.setAttribute("aria-owns",t.$.scrollView.id),t.readonly||t.$.input.setAttribute("aria-controls",t.$.scrollView.id),t.$.scrollView.enableShadowDOM&&!t._importedStyle&&(t.$.scrollView.importStyle(t._getStyleUrl("smart.textbox.css")),t._importedStyle=!0),"static"!==getComputedStyle(document.body).position){const o=document.body.getBoundingClientRect();i=o.left,r=o.top}if(t.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",""),t.$.scrollView.style.left=-3+a.left+e-i+"px",t.$.scrollView.classList.remove("open"),t.$.scrollView.removeAttribute("top"),"bottom"===t.dropDownOpenPosition)t.$.scrollView.style.top=a.bottom+n-r+1+"px";else if("top"===t.dropDownOpenPosition)t.$.scrollView.style.top=a.top-t.$.scrollView.offsetHeight+n-r-2+"px",t.$.scrollView.setAttribute("top","");else if("auto"===t.dropDownOpenPosition){t.$.scrollView.style.top=a.bottom+n-r+1+"px";const o=a.top-t.$.scrollView.offsetHeight+n-r-2;window.innerHeight<parseInt(t.$.scrollView.style.top)+t.$.scrollView.offsetHeight-n?o>=0&&(t.$.scrollView.style.top=o+"px",t.$.scrollView.setAttribute("top","")):t.$.scrollView.style.top=a.bottom+n-r+1+"px"}if(t.dropDownAppendTo&&"body"!==t.dropDownAppendTo){t.$.scrollView.style.position="absolute",t.$.scrollView.style.width="auto",t.$.scrollView.style.height="auto";const o=t.$.scrollView.parentNode.getBoundingClientRect();t.$.scrollView.style.top=a.bottom-o.top+"px","top"===t.dropDownOpenPosition&&(t.$.scrollView.style.top=a.top-o.top-t.$.scrollView.offsetHeight+"px"),t.$.scrollView.style.left=-3+a.left-o.left+"px",t.dropDownHeight&&(t.$.scrollView.style.height=t.dropDownHeight),t.dropDownWidth&&(t.$.scrollView.style.width=t.dropDownWidth)}t.opening=!0,t._positionTimer&&clearInterval(t._positionTimer),t.dropDownAppendTo||(t._positionTimer=setInterval(()=>{const o=t.getBoundingClientRect();if(t.opening)t.opening=!1,a=o;else if(Math.abs(parseInt(o.top)-parseInt(a.top))>=10||Math.abs(parseInt(o.left)-parseInt(a.left))>=10){const s=window.scrollX,d=window.scrollY;return t.$.scrollView.style.left=-3+o.left+s-i+"px",void("bottom"===t.dropDownOpenPosition?t.$.scrollView.style.top=o.bottom+d-r+1+"px":"top"===t.dropDownOpenPosition?t.$.scrollView.style.top=o.top-t.$.scrollView.offsetHeight+d-r+1+"px":"auto"===t.dropDownOpenPosition&&(t.$.scrollView.removeAttribute("top"),t.$.scrollView.style.top=o.bottom+d-r+1+"px",window.innerHeight<parseInt(t.$.scrollView.style.top)+t.$.scrollView.offsetHeight-d?(t.$.scrollView.style.top=o.top-t.$.scrollView.offsetHeight+d-r+1+"px",t.$.scrollView.setAttribute("top","")):t.$.scrollView.style.top=o.bottom+d-r+1+"px"))}},50)),t.$.scrollView.onpointerdown=function(){t._isPointerDown=!0},requestAnimationFrame(function(){const o=t.dropDownWidth;if(t.$.scrollView.refresh&&t.$.scrollView.refresh(),t._refreshMenu(),t.$.scrollView.setAttribute("open",""),t.setAttribute("open",""),t.$.dropDownButton.setAttribute("open",""),t.$.input.setAttribute("open",""),o&&"string"==typeof o&&-1!==o.indexOf("%")){const s=parseFloat(o)/100;t.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",t.offsetWidth*s+"px")}else if("auto"!==o&&o)t.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",parseFloat(o)+"px");else if("auto"===o){if(t.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",""),t.$.scrollView.$.scrollViewerContainer.classList.contains("vscroll")){const s=t.$.scrollView.offsetWidth+parseFloat(getComputedStyle(t.$.scrollView).getPropertyValue("--smart-scroll-bar-size"));t.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",s+"px")}}else{t.$.menu.style.width="auto";let s=t.$.menu.offsetWidth;const d=t.$.menu.querySelectorAll("li");for(let c=0;c<d.length;c++)t._maxDropDownWidth=Math.max((d[c].firstElementChild||d[c]).offsetWidth,t._maxDropDownWidth);t.$.scrollView.computedVerticalScrollBarVisibility&&(s+=t.$.scrollView.$&&t.$.scrollView.$.verticalScrollBar?t.$.scrollView.$.verticalScrollBar.offsetWidth:30),t.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",Math.max(s,t.offsetWidth-8)+"px"),t.$.menu.style.width=""}(t.shadowRoot||t.isInShadowDOM)&&t.$.scrollView._scrollView&&Smart.ScrollBar&&requestAnimationFrame(()=>{t.$.scrollView._scrollView&&t.$.scrollView._scrollView.vScrollBar.refresh()})}),t.$.scrollView.refresh&&t.$.scrollView.refresh(),t._refreshMenu(),t.set("opened",!0),t.setAttribute("aria-expanded",!0),t.$.fireEvent("open")}close(){const t=this;return!!t.opened&&(t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t.$.scrollView.parentNode&&!t.opened&&(t.$.scrollView.remove(),t.removeAttribute("aria-owns"),t.readonly||t.$.input.removeAttribute("aria-controls"))},1e3),t._positionTimer&&clearInterval(t._positionTimer),t.$.scrollView.removeAttribute("open"),t.$.dropDownButton.removeAttribute("open"),t.$.input.removeAttribute("open"),t.removeAttribute("open"),t.set("opened",!1),t.setAttribute("aria-expanded",!1),t.$.input.focus(),t.$.fireEvent("close"),!0)}refresh(){const t=this;t.$.scrollView.refresh&&t.$.scrollView.refresh(),t._getDataSourceFromOption(),t.close()}_lookup(t){const e=this;if(e.query=e.$.input.value,e.$.input.readonly&&(e._incrementalSearchQuery||(e._incrementalSearchQuery=""),e._incrementalSearchQuery+=t.key,e._incrementalSearchTimer&&clearTimeout(e._incrementalSearchTimer),e.query=e._incrementalSearchQuery,e._incrementalSearchTimer=setTimeout(function(){e._incrementalSearchQuery=""},700)),e.query.length<e.minLength)return void e.close();const n=function(a){clearTimeout(e._autoCompleteTimeout),e._autoCompleteTimeout=setTimeout(()=>{const i=e.context;e.context=e,e._process(a),e.context=i},e.autoCompleteDelay)};"function"==typeof e.dataSource?e.dataSource(e.query,n):n(e.dataSource)}_downHandler(t){this.readonly&&this._dropDownButtonDownHandler(t)}_dropDownButtonDownHandler(t){const e=this;return"manual"!==e.dropDownOpenMode&&(e._toggle(),e.focus()),t.preventDefault(),t.stopPropagation(),t.originalEvent.preventDefault(),t.originalEvent.stopPropagation(),e._isPointerDown=!0,!1}_toggle(){const t=this;t.opened?t.close():t.open()}open(){const t=this;function e(n){t._process(n);const a=t.$.menu.querySelector(".active");if(a){const i=t.$.input.dataValue;for(let r=0;r<t.$.menu.children.length;r++){const o=t.$.menu.children[r],s=o.getAttribute("data-label"),d=o.dataValue;if(void 0!==i&&d===i||void 0===i&&s===t.$.input.value){a.classList.remove("active"),o.classList.add("active"),t._setActiveDescendant(o),t.$.input.dataValue=d,t.setAttribute("data-value",d);break}}}t.ensureVisible(),t.$.input.focus(),setTimeout(function(){t.$.input.focus()},25)}t.dropDownDataSource&&(Array.isArray(t.dropDownDataSource)&&t.dropDownDataSource.length>0||"function"==typeof t.dropDownDataSource)?(t.query="","function"==typeof t.dropDownDataSource?t.dropDownDataSource(t.query,e):e(t.dropDownDataSource)):(t.query="","function"==typeof t.dataSource?t.dataSource(t.query,e):e(t.dataSource))}_process(t){const e=this;"string"==typeof t&&(t=e.$.deserialize(t,"array")),t=t.filter(e.readonly?function(){return!0}:function(n){return""===n||(e.matcher?e.matcher(n):e._matcher(n))}),t=e._sorter(t),e.sorted&&(t.sort((n,a)=>void 0!==n.label?n.label.localeCompare(a.label):n.localeCompare(a)),"desc"===e.sortDirection&&t.reverse()),!t.length&&e.opened&&e.close(),0===t.length&&!0!==e.allowItemsAdd||(e._render(e.query.length>0?t.slice(0,e.items):t),e._open(),e.$.scrollView.refresh&&e.$.scrollView.refresh(),e._refreshMenu(),e.ensureVisible())}_matcher(t){const e=this.query;switch(null===t&&(t="null"),t=""+(t=t.label||t),this.queryMode){case"startsWith":return t.startsWith(e);case"startsWithIgnoreCase":return t.toLowerCase().startsWith(e.toLowerCase());case"doesNotContain":return t.indexOf(e)<0;case"doesNotContainIgnoreCase":return t.toLowerCase().indexOf(e.toLowerCase())<0;case"contains":return t.indexOf(e)>-1;default:case"containsIgnoreCase":return~t.toLowerCase().indexOf(e.toLowerCase());case"equals":return 0===t.localeCompare(e);case"equalsIgnoreCase":return 0===t.toLowerCase().localeCompare(e.toLowerCase());case"endsWith":return t.endsWith(e);case"endsWithIgnoreCase":return t.toLowerCase().endsWith(e.toLowerCase())}}_sorter(t){const e=this;let n,a=[],i=[],r=[];if(t&&""===t[0])return t;for(;n=t.shift();){let o=n.label||n;o=""+o,o.toLowerCase().indexOf(e.query.toLowerCase())?~o.indexOf(e.query)?i.push(n):r.push(n):a.push(n)}return a.concat(i,r)}_highlighter(t){const e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return this.query?t.replace(new RegExp("("+e+")","ig"),function(n,a){return"<strong>"+a+"</strong>"}):t}_render(t){const e=this;let n=0,a=-1,i=null;const r=t.map(function(s){let d=s,c=s;"object"==typeof s&&(d=s.label,c=void 0!==s.value?s.value:d),d=""+d,d=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;");const u=document.createElement("li"),m=document.createElement("a");if(m.href="#",u.id=e.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),u.setAttribute("data-label",d),u.index=n++,u.dataValue=c,u.setAttribute("value","string"==typeof c?c:JSON.stringify(c)),u.setAttribute("role","option"),u.setAttribute("aria-label",d),void 0!==s.menuLabel?(d=s.menuLabel,m.innerHTML=d):m.innerHTML=e.highlighter?e.highlighter(d):e._highlighter(d),m.setAttribute("aria-hidden",!0),s.disabled&&u.classList.add("smart-disabled"),s.icon&&(m.classList.add("icon"),m.classList.add(s.icon)),s.prefix){const h=document.createElement("span");h.innerHTML=s.prefix,m.classList.add("has-prefix"),m.innerHTML=h.innerHTML+m.innerHTML}if(s.suffix){const h=document.createElement("span");h.innerHTML=s.suffix,m.classList.add("has-suffix"),m.innerHTML=m.innerHTML+h.innerHTML}if(s.dataset)for(let h in s.dataset)u.setAttribute("data-"+h,s.dataset[h]);if(s.className){const h=s.className.split(" ");for(let y=0;y<h.length;y++)u.classList.add(h[y].trim())}return void 0!==e.selectedValue&&void 0!==s.value&&""!==e.selectedValue&&e.selectedValue===s.value&&(s.selected=!0,i=s,a=u.index,u.classList.add("active")),u.appendChild(m),u});function o(){const s=e.$.menu.getElementsByClassName("active");s[0]&&s[0].classList.remove("active"),this.classList.add("active"),e._setActiveDescendant(this)}-1===a&&r.length>0&&(r[0].classList.add("active"),e._setActiveDescendant(r[0])),i&&(e.$.input.value=i.label,e.$.input.dataValue=i.value,e.setAttribute("data-value",e.$.input.dataValue)),e.$.menu.innerHTML="";for(let s=0;s<r.length;s++){const d=r[s];e.$.menu.appendChild(d),d.onmouseenter=o,d.onmouseleave=function(){this.classList.remove("active"),e._setActiveDescendant(null)},d.onclick=o}}ensureVisible(){const t=this,e=t.$.menu.querySelector(".active");e&&(e.offsetTop+e.offsetHeight>=t.$.scrollView.scrollTop+t.$.scrollView.offsetHeight&&(t.$.scrollView.scrollTop=e.offsetTop+e.offsetHeight),(e.offsetTop<=t.$.scrollView.scrollTop||e.offsetTop>=t.$.scrollView.scrollTop+t.$.scrollView.offsetHeight)&&(t.$.scrollView.scrollTop=e.offsetTop),0===[...t.$.menu.children].indexOf(e)?t.$.scrollView.scrollTop=0:[...t.$.menu.children].indexOf(e)===t.$.menu.children.length-1&&(t.$.scrollView.scrollTop=t.$.scrollView.scrollHeight))}_next(){const t=this,e=t.$.menu.querySelector(".active");if(!e){const a=t.$.menu.firstElementChild;return a.classList.add("active"),void t._setActiveDescendant(a)}e.classList.remove("active");let n=e.nextElementSibling;n||(n=t.$.menu.firstElementChild),n.classList.add("active"),t._setActiveDescendant(n),t.ensureVisible()}_prev(){const t=this,e=t.$.menu.querySelector(".active");if(!e){const a=t.$.menu.firstElementChild;return a.classList.add("active"),void t._setActiveDescendant(a)}e.classList.remove("active");let n=e.previousElementSibling;n||(n=t.$.menu.lastElementChild),n.classList.add("active"),t._setActiveDescendant(n),t.ensureVisible()}_move(t){const e=this;if(e.readonly&&!e.opened){if("ArrowUp"===t.key){const n=e.getPrevItem();n&&e.selectItem(n.value),t.preventDefault()}if("ArrowDown"===t.key){const n=e.getNextItem();n&&e.selectItem(n.value),t.preventDefault()}}if(e.opened){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),e._prev();break;case 40:t.preventDefault(),e._next()}t.stopPropagation()}}_keyDownHandler(t){const e=this;if(e._suppressKeyPressRepeat=![40,38,9,13,27,16,17,18].includes(t.keyCode),e._oldValue=e.$.input.value,!(t.shiftKey||t.altKey||t.ctrlKey))return e.opened&&"Escape"===t.key?(e.close(),t.stopPropagation(),void t.preventDefault()):void e._move(t)}_keyPressHandler(t){this._suppressKeyPressRepeat||t.shiftKey||t.altKey||t.ctrlKey||this._move(t)}_keyUpHandler(t){const e=this;if(!t.shiftKey&&"F2"!==t.key)switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:40===t.keyCode&&t.altKey&&e.open(),38===t.keyCode&&t.altKey&&e.close();break;case 9:case 13:if(!e.opened)return;e._performSelect(),t.stopPropagation(),t.preventDefault();break;case 27:if(!e.opened)return;e.close(),t.stopPropagation(),t.preventDefault();break;default:e._lookup(t),!e.opened||t.ctrlKey||t.shiftKey||(t.stopPropagation(),t.preventDefault()),e.$.fireEvent("changing",{value:e.$.input.value,oldValue:e._oldValue}),e.$.input.dataValue=e.$.input.value,e.setAttribute("data-value",e.$.input.dataValue),e._updateTargetValue()}}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;if("innerHTML"===t&&(a._getDataSourceFromOption(),a._setSelection(!1)),"selectedValue"===t){let i=-1;if(a.dataSource&&Array.isArray(a.dataSource)&&a.dataSource.forEach((r,o)=>{"string"==typeof r?r===n&&(i=o):r&&r.value===n&&(i=o)}),i>=0){const r=a.context;a.context=a,a.selectedIndex=i,a.context=r}a._setSelection()}if("selectedIndex"===t){let i=a.dataSource;if(a.selectedValue=null,i&&Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];"string"!=typeof o&&"number"!=typeof o&&(o.selected=!1)}a._setSelection()}else if("dataSource"===t){if(a.dataSource&&Array.isArray(a.dataSource)){let i=-1;if(a.dataSource.forEach((r,o)=>{r.selected&&(i=o)}),i>=0){const r=a.context;a.context=a,a.selectedIndex=i,a.context=r}}a._setSelection(!1)}else if("dropDownClassList"===t){const i=a.$.scrollView;for(let r=0,o=e.length;r<o;r+=1)i.classList.remove(e[r]);for(let r=0,o=n.length;r<o;r+=1)i.classList.add(n[r])}else if("dropDownHeight"===t)a.$.scrollView.style.setProperty("--smart-input-drop-down-menu-height","auto"!==a.dropDownHeight?a.dropDownHeight+"px":"auto");else if("opened"===t)a.opened=e,n?a.open():a.close();else if("placeholder"===t){if(a.readonly){const i=a.getAttribute("aria-label");if(i&&i!==e)return;n?a.setAttribute("aria-label",n):a.removeAttribute("aria-label")}}else if("selectedValues"===t)if(null===n)a.$.input.value="",a.$.input.dataValue=n,a.setAttribute("data-value",n),a._refreshSelectedIndex();else{const i=n.join(","),r=a.value;if(a.$.input.dataValue=i,i&&-1===i.indexOf(",")){let o=-1,s=n[0];if(a.dataSource&&Array.isArray(a.dataSource)&&a.dataSource.forEach((d,c)=>{"string"==typeof d?d===n&&(o=c):d&&d.value===s&&(o=c)}),o>=0){const d=a.context;a.context=a,a.selectedIndex=o,a.context=d}}a._setSelection(),a.propertyChangedHandler("value",r,a.value)}else"value"===t?(a.displayMember!==a.valueMember&&"string"!=typeof n?(a.set("value",n[a.displayMember]),a.$.input.dataValue=n[a.valueMember],a.setAttribute("data-value",a.$.input.dataValue)):(a.$.input.value=a.$.input.dataValue=n,a.setAttribute("data-value",n)),a._refreshSelectedIndex()):"readonly"===t?(a._setAriaRelations(),a._setInputPurpose()):"theme"===t||"rightToLeft"===t?a.$.scrollView[t]=n:"inputPurpose"===t?a._setInputPurpose():"inverted"===t?n?a.$.scrollView.setAttribute("inverted",""):a.$.scrollView.removeAttribute("inverted"):"disabled"!==t&&"unfocusable"!==t||a._setFocusable()}_updateTargetValue(){const t=this;if(t.dataset.target){const e=document.querySelector(t.dataset.target);if(e){const n=t.dataset.property;n&&void 0!==e[n]&&(e[n]=t.value)}}}detached(){super.detached(),this.close(),this.removeAttribute("focus")}_getDataSourceFromOption(){const t=this;if(t.innerHTML.indexOf("<option")>=0){t.$.optionsContainer.innerHTML=t.innerHTML.trim();const e=t.querySelectorAll("option");let n=[];for(let a=0;a<e.length;a++){const i=e[a],r=i.hasAttribute("selected")||i.hasAttribute("is-selected")&&"false"!==i.getAttribute("is-selected");let o=(""+i.textContent).trim();const s=(""+i.innerHTML).trim(),d=i.hasAttribute("value")?i.getAttribute("value"):o,c=i.hasAttribute("disabled"),u=i.hasAttribute("label")?i.getAttribute("label"):null;u&&(o=u),n.push({label:o,menuLabel:s,value:d,disabled:c,selected:r,className:i.className,dataset:i.dataset}),i.classList.add("smart-hidden")}t.dataSource=n}}render(){const t=this,e=t.dropDownClassList;if(t._getDataSourceFromOption(),t.selectedValues&&t.selectedValues.length){const r=t.selectedValues.join(",");t.value=r}t._createElement&&t._createElement();const n=t.$.scrollView;for(let r=0,o=e.length;r<o;r+=1)n.classList.add(e[r]);t.opened&&(t.opened=!1,t.open());const a=t.$.menu;a&&(a.setAttribute("role","presentation"),n.appendChild(a)),n.style.setProperty("--smart-input-drop-down-menu-height","auto"!==t.dropDownHeight?t.dropDownHeight+"px":"auto"),n.classList.add("smart-input-drop-down-menu");for(let r=0;r<t.classList.length;r++){const o=t.classList[r];"smart-element"!==o&&"smart-input"!==o&&n.classList.add(o+"-drop-down-menu")}n.id=t.id+"_"+t.tagName.toLowerCase()+"_menu_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),n.ownerElement=t;let i=t.dataSource;if("string"==typeof i&&(i=t.$.deserialize(i,"array")),i&&i.length&&Array.isArray(i)){let r=-1;i.forEach((o,s)=>{o.selected&&(r=s)}),r>=0&&(t.selectedIndex=r,t.selectedValue="string"==typeof i[r]?i[r]:i[r].value)}t._setAriaRelations(),t._setInputPurpose(),t._setSelection(),t.isInitialized=!0,t.hasAttribute("tabindex")&&(t.$.input.setAttribute("tabindex",t.getAttribute("tabindex")),t.removeAttribute("tabindex")),super.render()}_setSelection(t){const e=this;let n=e.dataSource;if("string"==typeof n&&(n=e.$.deserialize(n,"array")),e.selectedIndex>=0&&n&&n.length>0){let a=n[e.selectedIndex];if("number"!=typeof a&&"boolean"!=typeof a||(a=""+a),"string"==typeof a){let i=e.$.input.dataValue,r=e.value;e.set("value",a),e.$.input.dataValue=a,e.$.input.setAttribute("data-value",a),e.selectedValues=[e.$.input.dataValue],e.isInitialized&&!1!==t&&(e.$.fireEvent("change",{value:e.value,label:e.label,oldValue:i,oldLabel:r}),e._updateTargetValue())}else{let i=e.$.input.dataValue,r=e.value;a&&(void 0!==a.value?(e.set("value",void 0!==a.value?a.value+"":""),e.$.input.dataValue=a.value,e.$.input.setAttribute("data-value",a.value),e.selectedValues=[e.$.input.dataValue]):a.label&&(e.selectedValues=[a.value]),a.label&&e.set("value",a.label)),e.isInitialized&&!1!==t&&(e.$.fireEvent("change",{value:e.$.input.dataValue,label:a.value,oldValue:i,oldLabel:r}),e._updateTargetValue())}}}_createElement(){const t=this,e=document.createElement("ul"),n=document.createElement("smart-scroll-viewer");n.rightToLeft=t.rightToLeft,n.theme=t.theme,n.horizontalScrollBarVisibility="hidden",t.inverted?n.setAttribute("inverted",""):n.removeAttribute("inverted"),t.$.scrollView=n,t.$.menu=e,t._setFocusable();const a=t.$.input;t.$.menu.onclick=function(i){const r=i.target.closest("li");i.stopPropagation(),i.preventDefault(),t._performSelect(),r&&t.$.fireEvent("itemClick",{index:[...r.parentNode.children].indexOf(r),item:r,label:r.getAttribute("aria-label"),value:r.dataValue}),a.focus()}}_setAriaRelations(){const t=this,e=t.getAttribute("aria-label");t.readonly?(t.setAttribute("role","button"),!e&&t.placeholder&&t.setAttribute("aria-label",t.placeholder),t.removeAttribute("aria-readonly"),t.$.input.setAttribute("aria-hidden",!0),t.$.input.removeAttribute("aria-activedescendant"),t.$.input.removeAttribute("aria-controls"),t.$.dropDownButton.setAttribute("aria-hidden",!0)):(t.setAttribute("role","combobox"),e&&e===t.placeholder&&t.removeAttribute("aria-label"),t.$.input.setAttribute("role","searchbox"),t.$.input.removeAttribute("aria-hidden",!0),t.$.dropDownButton.removeAttribute("aria-hidden")),t.setAttribute("aria-expanded",t.opened),t.setAttribute("aria-haspopup","listbox"),t.setAttribute("aria-owns",t.$.scrollView.id),t.$.scrollView.setAttribute("role","listbox")}_setActiveDescendant(t){const e=this;e.readonly||(t?e.setAttribute("aria-activedescendant",t.id):e.removeAttribute("aria-activedescendant"))}_setInputPurpose(){const t=this;t.readonly?t.$.input.removeAttribute("autocomplete"):t.$.input.setAttribute("autocomplete",t.inputPurpose)}_setFocusable(){const t=this;t.disabled||t.unfocusable?t.$.input.setAttribute("tabindex",-1):t.$.input.removeAttribute("tabindex")}})},9065:()=>{Smart("smart-list-item",class extends Smart.ContentElement{static get properties(){return{alternationIndex:{value:-1,type:"int"},color:{value:"",type:"string"},displayMode:{allowedValues:["plain","checkBox","radioButton"],value:"plain",type:"string"},grouped:{value:!1,type:"boolean"},selected:{value:!1,type:"boolean"},value:{value:"",type:"string"},label:{value:"",type:"string"},details:{value:"",type:"string"},group:{value:"",type:"string"},hidden:{value:!1,type:"boolean"},readonly:{value:!1,type:"boolean"}}}get hasStyleObserver(){return!1}get enableShadowDOM(){return!1}get _focused(){const t=this;return void 0===t.__focused&&(t.__focused=!1),t.__focused}set _focused(t){const e=this;e.__focused=t,t?(e.setAttribute("focus",""),e.ownerListBox&&e.ownerListBox.ownerElement&&Smart.ComboBox&&e.ownerListBox.ownerElement instanceof Smart.ComboBox&&e.ownerListBox.ownerElement.$.input.setAttribute("aria-activedescendant",e.id)):e.removeAttribute("focus")}template(){return'<div id="container">\n                   <span id=\'itemInput\' class=\'smart-input smart-hidden\'></span>\n                    <span class="smart-overlay" id="overlay"></span>\n                    <div id="itemContainer" class="smart-content smart-list-item-container"><span class="smart-content-label" inner-h-t-m-l=\'[[innerHTML]]\' role="presentation"><content></content></span><span inner-h-t-m-l=\'[[details]]\' id="details" class="smart-content-details"></span></div>\n                </div>'}appendChild(t){const e=this;if(!e.isCompleted||t.classList&&t.classList.contains("smart-ripple")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}window.smartBlazor?e.$.itemContainer.appendChild(t):(e.$.itemContainer.innerHTML="",t instanceof HTMLElement&&e.$.itemContainer.appendChild(t))}insertBefore(t,e){const n=this;if(!n.isCompleted){const a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}e.parentNode.insertBefore(t,e)}removeChild(t){const e=this;if(!e.isCompleted||t.classList.contains("smart-ripple")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t instanceof HTMLElement&&e.$.itemContainer.removeChild(t)}attached(){super.attached(),this.ownerListBox=this.getListBox()}static get listeners(){return{mouseenter:"_itemOnMouseEnter",mouseleave:"_itemOnMouseLeave"}}ready(){super.ready();const t=this;if(t.setAttribute("role","option"),""!==t.label){let n=t.label;n&&"string"==typeof n&&(n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")),t.innerHTML=n}else""!==t.innerHTML&&(t.label=t.innerHTML);t._setDisplayMode(t.displayMode),t._setItemColor(),t.$.container.noRipple=!0;const e=t.closest("smart-list-box");if(e&&e.isRendered){if(cancelAnimationFrame(Smart.ListBox.processTimer),e._inLazyInit||e._isUpdating)return;Smart.ListBox.processTimer=requestAnimationFrame(()=>{e._lazyInitItems()})}}propertyChangedHandler(t,e,n){const a=this;if(super.propertyChangedHandler(t,e,n),"hidden"===t)n?a.$.addClass("smart-hidden"):a.$.removeClass("smart-hidden");else if("color"===t)a._setItemColor();else if("displayMode"===t)a._setDisplayMode(n);else if("label"===t||"value"===t){const i=a.context;a.context=document,"label"===t&&(a.innerHTML=n);const r=a.getListBox();r&&(r._applyTemplate(a),r.onItemUpdated(a)),a.context=i}else if("details"===t){const i=a.context;a.context=document,a.$.details.innerHTML=n;const r=a.getListBox();r&&r.onItemUpdated(a),a.context=i}else if("innerHTML"===t){const i=a.getListBox();i&&i.onItemUpdated(a)}else if("selected"===t)if(n)a.setAttribute("aria-selected",!0);else{const i=a.getListBox();a.readonly||a.disabled||!i||-1===["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox"].indexOf(i.selectionMode)?a.removeAttribute("aria-selected"):a.setAttribute("aria-selected",!1)}}getListBox(){const t=this;if(!Smart.ListBox)return t.getRootNode().host;let e=t.parentNode;for(;e instanceof Smart.ListBox==0&&null!==e;)e=e.parentNode;return!e&&Smart.EnableShadowDOM?t.getRootNode().host:e}_itemOnMouseEnter(){const t=this;!t.disabled&&t.ownerListBox&&(Smart.ListBox.DragDrop.Dragging&&t.ownerListBox.allowDrop&&(Smart.ListBox.DragDrop.DropDetails={item:t,position:"bottom"}),t.ownerListBox.$.verticalScrollBar.thumbCapture||t.ownerListBox.$.horizontalScrollBar.thumbCapture||t.setAttribute("hover",""))}_itemOnMouseMove(t){const e=this;if(e.ownerListBox&&Smart.ListBox.DragDrop.Dragging&&e.ownerListBox.allowDrop&&!Smart.Utilities.Core.isMobile){const n=[].slice.call(e.ownerListBox.getElementsByClassName("smart-list-item-bottom-line-feedback"));for(let i=0;i<n.length;i++)n[i].$.removeClass("smart-list-item-line-feedback"),n[i].$.removeClass("smart-list-item-bottom-line-feedback");if(Smart.ListBox.DragDrop.DropDetails={item:e,position:"top"},!e.ownerListBox._areCSSVarsSupported){if(e.ownerListBox._indexOf(e)===e.ownerListBox._items.length-1||e.parentNode.lastElementChild===e){const i=e.getBoundingClientRect();t.pageY-window.pageYOffset>i.top+i.height/2-1&&(Smart.ListBox.DragDrop.DropDetails={item:e,position:"bottom"})}return}if(e.$.removeClass("smart-list-item-line-feedback"),e.$.removeClass("smart-list-item-bottom-line-feedback"),e.ownerListBox.sorted&&e.ownerListBox.autoSort)return;const a=e.ownerListBox._items.filter(i=>!i.hidden);if(a.indexOf(e)===a.length-1||e.parentNode.lastElementChild===e){const i=e.getBoundingClientRect();t.pageY-window.pageYOffset>i.top+i.height/2-1?(e.$.addClass("smart-list-item-bottom-line-feedback"),Smart.ListBox.DragDrop.DropDetails={item:e,position:"bottom"}):arguments[1]||e.$.addClass("smart-list-item-line-feedback")}else arguments[1]||e.$.addClass("smart-list-item-line-feedback")}}_itemOnMouseLeave(){const t=this;t.ownerListBox&&(Smart.ListBox.DragDrop.Dragging&&(t.$.removeClass("smart-list-item-line-feedback"),t.$.removeClass("smart-list-item-bottom-line-feedback")),t.removeAttribute("hover"))}_setDisplayMode(t){const e=this,n=e.getListBox();n&&(e.displayMode=t="checkBox"===n.selectionMode||"radioButton"===n.selectionMode?n.selectionMode:"plain"),"plain"!==t?e.$itemInput.removeClass("smart-hidden"):e.$itemInput.addClass("smart-hidden")}_setItemColor(){const t=this,e=t.querySelector(".smart-content-label"),n=/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(t.color)?t.color:"";e.style.backgroundColor=n,e.style.color=t._getContrastColor(n)}_getContrastColor(t){if(!t)return"";let e=(n=t.slice(1,3),a=t.slice(3,5),i=t.slice(5,7),[parseInt(n,16),parseInt(a,16),parseInt(i,16)]);var n,a,i;return parseFloat(((.299*e[0]+.61*e[1]+.114*e[2])/255).toFixed(2))>.65?"#000000":"#FFFFFF"}}),Smart("smart-list-items-group",class extends Smart.ContentElement{static get properties(){return{label:{value:"",type:"string"}}}get enableShadowDOM(){return!1}template(){return'<div id="container" role="presentation">\n                 <span id="itemsLabel" class="smart-list-items-group-label">[[label]]</span>\n                 <div id="listItemsGroupContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-list-items-group-container" role="presentation">\n                    <content></content>\n                 </div>\n               </div>'}appendChild(t){const e=this;if(!e.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t instanceof HTMLElement&&e.$.listItemsGroupContainer.appendChild(t)}removeChild(t){const e=this;if(!e.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t instanceof HTMLElement&&e.$.listItemsGroupContainer.removeChild(t)}getListBox(){let t=this.parentNode;for(;t instanceof Smart.ListBox==0&&null!==t;)t=t.parentNode;return t}attached(){const t=this;super.attached(),t.ownerListBox||(t.ownerListBox=t.getListBox()),t.setAttribute("role","group"),t.$.itemsLabel.id||(t.$.itemsLabel.id=t.id+"Label"),t.setAttribute("aria-labelledby",t.$.itemsLabel.id)}}),Smart("smart-list-box",class extends Smart.ScrollViewer{static get properties(){return{allowDrag:{value:!1,type:"boolean"},allowDrop:{value:!1,type:"boolean"},alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},autoSort:{value:!0,type:"boolean"},dataSource:{value:null,type:"any?",reflectToAttribute:!1},dragFeedbackFormatFunction:{value:null,type:"function?"},dragOffset:{value:[10,10],type:"array"},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},shadowDomMode:{allowedValues:["light","shadow"],value:"shadow",type:"string"},dropAction:{value:"move",type:"string",allowedValues:["copy","move","none"]},editable:{value:!1,type:"boolean"},filterable:{value:!1,type:"boolean"},filterCallback:{value:null,type:"function?"},filterMode:{value:"containsIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},filterInputPlaceholder:{value:"",type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},itemMeasureMode:{value:"auto",allowedValues:["auto","precise"],type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.',invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number or an Array of numbers.',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidItem:'{{elementType}}: "{{method}}" method accepts an object or an array of objects as it\'s second parameter.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.'}},type:"object"},name:{value:"",type:"string"},placeholder:{value:"No Items",type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},selectionMode:{value:"oneOrManyExtended",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","zeroAndOne","one","checkBox","radioButton"],type:"string"},selectionChangeAction:{value:"release",allowedValues:["press","release"],type:"string"},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},topVisibleIndex:{value:-1,type:"int"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"}}}static get requires(){return{"Smart.ScrollBar":"smart.scrollbar.js"}}static get styleUrls(){return["smart.listbox.css","smart.dropdown.css","smart.scrollbar.css"]}static get listeners(){return{focus:"_focusHandler",blur:"_blurHandler","container.wheel":"_mouseWheelHandler","editInput.change":"_editInputEventHandler","editInput.blur":"_editInputEventHandler","editInput.keydown":"_editInputEventHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler","itemsInnerContainer.down":"_downHandler","itemsInnerContainer.dblclick":"_dblclickEventHandler","itemsInnerContainer.move":"_itemsContainerMoveHandler","itemsContainer.mouseleave":"_mouseLeaveHandler","itemsInnerContainer.touchmove":"_touchmoveHandler","itemsInnerContainer.touchstart":"_touchstartHandler","document.move":"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler",selectstart:"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler",touchmove:"_overriddenHandler",touchstart:"_overriddenHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}template(){return'<div id="container" class="smart-container" role="presentation">\n                    <div class="smart-list-box-filter-input-container smart-hidden" id="filterInputContainer" role="presentation"><input id="filterInput" disabled="[[disabled]]" placeholder=\'[[filterInputPlaceholder]]\' role="searchbox" aria-label="[[filterInputPlaceholder]]"></div>\n                    <div id="itemsContainer" class="smart-list-items-container" role="presentation">\n                        <div id="placeholder" class="smart-placeholder" role="presentation" aria-hidden="true">[[placeholder]]</div>\n                        <div id="itemsInnerContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-list-items-inner-container" role="presentation">\n                            <content></content>\n                        </div>\n                        <input type="text" id="editInput" class= "smart-hidden"/>\n                    </div>\n                    <smart-scroll-bar wait theme="[[theme]]" right-to-left="[[rightToLeft]]" id="verticalScrollBar" disabled="[[disabled]]" orientation="vertical"></smart-scroll-bar>\n                    <smart-scroll-bar wait theme="[[theme]]" right-to-left="[[rightToLeft]]" id="horizontalScrollBar" disabled="[[disabled]]"></smart-scroll-bar>\n                    <div id="loadingIndicatorContainer" class="smart-loader-container" role="presentation">\n                        <span id="loadingIndicator" class="smart-loader" role="img" aria-label="[[loadingIndicatorPlaceholder]]"></span>\n                        <span id="loadingIndicatorPlaceHolder" class="smart-loader-label smart-hidden">[[loadingIndicatorPlaceholder]]</span>\n                    </div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}get value(){const t=this;return t.isRendered&&t._selectedItems.length>0?t._selectedItems.map(e=>({label:e.label,value:e.value})):null}set value(t){const e=this;if(Array.isArray(t)){const a=e.context;e.context=e,e._isUpdating++,e.selectedValues=[],e.clearSelection();for(let i=0;i<t.length;i++){const o=e.getItem(t[i]);o&&("oneOrManyExtended"===e.selectionMode?e._select(o):e.select(o))}return e.context=a,void e._isUpdating--}const n=e.getItem(t);n&&e.select(n)}get _selectedItems(){const t=this,e=[];if(t.isRendered)for(let n=0;n<t._items.length;n++){const a=t._items[n];a.selected&&e.push(a)}return e}_mouseLeaveHandler(){const t=[].slice.call(this.getElementsByClassName("smart-list-item-bottom-line-feedback"));for(let e=0;e<t.length;e++)t[e].$.removeClass("smart-list-item-line-feedback"),t[e].$.removeClass("smart-list-item-bottom-line-feedback")}_downHandler(t){const e=this;if(e.disabled||e.displayLoadingIndicator||e.readonly)return;let n=t.originalEvent.target,a=null;if(!(n instanceof Smart.ListItem)||n.disabled||n.hidden||n instanceof Smart.ListItemsGroup)for(;n.parentElement;){if(n instanceof Smart.ListItem&&!n.disabled&&!n.hidden&&!(n instanceof Smart.ListItemsGroup)){a=n.dataItem;break}n=n.parentElement}else a=n.dataItem;Smart.ListBox.DragDrop.StartTime=new Date,Smart.ListBox.DragDrop.StartPosition={left:t.pageX,top:t.pageY},a&&(t.stopPropagation(),e.hasRippleAnimation&&(a.readonly||a.disabled||Smart.Utilities.Animation.Ripple.animate(n.$.overlay,t.pageX,t.pageY)),Smart.Utilities.Core.isMobile||"press"!==e.selectionChangeAction||(e._focus(a),e.select(a)),!Smart.ListBox.DragDrop.Feedback&&e.allowDrag&&(Smart.ListBox.DragDrop.DraggedFrom=e,Smart.ListBox.DragDrop.Feedback=document.createElement("span"),e.rightToLeft?Smart.ListBox.DragDrop.Feedback.setAttribute("right-to-left",!0):Smart.ListBox.DragDrop.Feedback.removeAttribute("right-to-left"),e.dragFeedbackFormatFunction?Smart.ListBox.DragDrop.Feedback.innerHTML=e.dragFeedbackFormatFunction(a):Smart.ListBox.DragDrop.Feedback.appendChild(a.offsetHeight?a.cloneNode(!0):e._createItem(a)),Smart.ListBox.DragDrop.Item=a,Smart.Utilities.Extend(Smart.ListBox.DragDrop.Feedback).addClass("smart-popup smart-list-item smart-list-item-feedback")))}_dblclickEventHandler(t){const e=this;if(!e.editable)return;const n=t.target.closest("smart-list-item");n instanceof Smart.ListItem&&!n.disabled&&!n.readonly?(e.$.editInput.dir=e.rightToLeft?"rtl":"ltr",e.$.editInput.style.width=e.$.itemsInnerContainer.offsetWidth+"px",e.$.editInput.owner=n,e.$.editInput.value=n.label,e.$.editInput.style.height=n.offsetHeight+"px",e.$.editInput.style.top=n.offsetTop+e.$.itemsInnerContainer.offsetTop+"px",e.$.editInput.setAttribute("aria-label","Edit item "+n.label),e.$editInput.hasClass("smart-hidden")&&e.$editInput.removeClass("smart-hidden"),e.$.editInput.focus({preventScroll:!0})):e.$editInput.addClass("smart-hidden")}_editInputEventHandler(t){const e=this;if("blur"===t.type||"keydown"===t.type&&"Escape"===t.key)return e.$editInput.hasClass("smart-hidden")||e.$editInput.addClass("smart-hidden"),void e.focus();if("keydown"===t.type||e.$editInput.hasClass("smart-hidden"))return;const n=t.target;if(t.stopPropagation(),n.owner.label!==n.value&&(n.owner.label=n.value,e.itemTemplate&&e._applyTemplate(n.owner),e.dataSource)){const i=e.dataSource[n.owner.dataIndex];i&&(e.displayMember?i[e.displayMember]=n.value:i.label=n.value)}e.$editInput.addClass("smart-hidden"),e.$.fireEvent("itemLabelChange",{selected:n.owner.selected,disabled:n.owner.disabled,index:e._indexOf(n.owner),label:n.owner.label,value:n.owner.value})}_pointerUpHandler(t){const e=this;let n=t.originalEvent,a=n.target;(e.shadowRoot||e.isInShadowDOM)&&(a=n.originalEvent?n.originalEvent.composedPath()[0]:n.composedPath()[0]);const i=r=>{const o=r.ownerListBox;o.disabled||o!==e||o.displayLoadingIndicator||"none"===o.selectionMode||r.grouped||r.readonly||(o._focus(r),o.select(r),Smart.ListBox.DragDrop.StartPosition=null,e.$.fireEvent("itemClick",{selected:a.selected,disabled:a.disabled,index:e._indexOf(a),label:a.label,value:a.value}))};if(!(n.target instanceof Smart.ListItem)||n.target.disabled||n.target instanceof Smart.ListItemsGroup){for(;a&&a.parentElement;){if(a instanceof Smart.ListItem&&!a.disabled&&!(a instanceof Smart.ListItemsGroup))return void i(a.dataItem);a=a.parentElement}if(this.shadowRoot&&"shadow"===this.shadowDomMode){const r=n.composedPath();for(let o=0;o<r.length;o++){const s=r[o];s instanceof Smart.ListItem&&!s.disabled&&i(s.dataItem)}}}else i(a.dataItem)}_upHandler(t){const e=this;if(super._upHandler(),!e.disabled&&!e.readonly&&Smart.ListBox.DragDrop.StartPosition){if(Smart.Utilities.Core.isMobile&&!Smart.ListBox.DragDrop.Dragging){const n=Math.abs(t.pageX-Smart.ListBox.DragDrop.StartPosition.left),a=Math.abs(t.pageY-Smart.ListBox.DragDrop.StartPosition.top);let i=n>=0&&n<=3&&a>=0&&a<=3;if(Smart.Utilities.Core.isMobile&&new Date-Smart.ListBox.DragDrop.StartTime>=300&&(i=!1,Smart.ListBox.DragDrop.StartTime=null),i){const r=t.originalEvent.target.closest("smart-list-box");r?r._pointerUpHandler(t):e._pointerUpHandler(t),Smart.ListBox.DragDrop.StartPosition=null}else{let r=t.originalEvent.target;if(!(t.target instanceof Smart.ListItem)||r.readonly||t.target.disabled||t.target instanceof Smart.ListItemsGroup)for(;r.parentElement;){if(r instanceof Smart.ListItem&&!r.readonly&&!r.disabled&&!(r instanceof Smart.ListItemsGroup)){t.stopPropagation();break}r=r.parentElement}else t.stopPropagation()}}else if(!Smart.Utilities.Core.isMobile&&!Smart.ListBox.DragDrop.Dragging&&"release"===e.selectionChangeAction){const n=(e.shadowRoot||e.isInShadowDOM?t.originalEvent.composedPath()[0]:t.originalEvent.target).closest("smart-list-box");n&&(n.upTimer&&clearTimeout(n.upTimer),e.isInShadowDOM?n?n._pointerUpHandler(t):e._pointerUpHandler(t):n.upTimer=setTimeout(()=>{n?n._pointerUpHandler(t):e._pointerUpHandler(t)}))}if(Smart.ListBox.DragDrop.Feedback){let n;if(Smart.ListBox.DragDrop.Feedback.parentNode&&Smart.ListBox.DragDrop.Feedback.parentNode.removeChild(Smart.ListBox.DragDrop.Feedback),Smart.ListBox.DragDrop.Feedback=null,Smart.Utilities.Core.isMobile&&Smart.ListBox.DragDrop.Dragging)for(let a=0;a<Smart.ListBox.DragDrop.ListBoxes.length;a++){const i=Smart.ListBox.DragDrop.ListBoxes[a],r=i.getBoundingClientRect();if(i.allowDrop&&!i.closest(".smart-visibility-hidden")&&r.left<=t.clientX&&t.clientX<=r.left+r.width&&r.top<=t.clientY&&t.clientY<=r.top+r.height){n=i;const o=i._items.filter(s=>!s.hidden);for(let s=0;s<o.length;s++){const d=o[s],c=d.getBoundingClientRect();if((o.indexOf(d)===o.length-1||d.parentNode.lastElementChild===d)&&t.clientY>=r.top+d.offsetTop-i.scrollTop+c.height/2&&t.clientY<=r.top-i.scrollTop+d.offsetTop+c.height){Smart.ListBox.DragDrop.DropDetails={item:d,position:"bottom"};break}if(t.clientY>=r.top+d.offsetTop-i.scrollTop&&t.clientY<=r.top+d.offsetTop+c.height-i.scrollTop){Smart.ListBox.DragDrop.DropDetails={item:d,position:"top"};break}}}}if(Smart.ListBox.DragDrop.Dragging){if(Smart.ListBox.DragDrop.DropDetails){let a=Smart.ListBox.DragDrop.DropDetails.item,i=Smart.ListBox.DragDrop.Item;const r=i.ownerListBox;let o=t.originalEvent.target;if(e.isInShadowDOM&&(o=t.originalEvent?t.originalEvent.composedPath()[0]:t.composedPath()[0]),n=!n&&o.closest?o.closest("smart-list-box"):n,document.body.classList.remove("smart-dragging"),a.$.removeClass("smart-list-item-line-feedback"),a.$.removeClass("smart-list-item-bottom-line-feedback"),n&&a.ownerListBox!==n&&n.items.length>0&&(a=n.items[n.items.length-1]),Smart.ListBox.DragDrop.Item===a||n!==a.ownerListBox&&!Smart.Utilities.Core.isMobile)n&&0===n._items.length&&"none"!==n.dropAction&&("move"===n.dropAction?Smart.ListBox.DragDrop.Item.ownerListBox.removeChild(Smart.ListBox.DragDrop.Item):"copy"===n.dropAction&&(i=i.cloneNode(!0)),n.appendChild(i));else if("none"!==i.ownerListBox.dropAction){a.ownerListBox!==i.ownerListBox&&"move"===i.ownerListBox.dropAction&&Smart.ListBox.DragDrop.Item.ownerListBox.removeChild(Smart.ListBox.DragDrop.Item),"copy"===i.ownerListBox.dropAction&&(i=i.cloneNode(!0)),Smart.ListBox.DragDrop.Item.group=a.group;const c=a.ownerListBox;"checkBox"!==c.selectionMode&&"radioButton"!==c.selectionMode&&c.clearSelection(),"top"===Smart.ListBox.DragDrop.DropDetails.position?c.insertBefore(i,a):a.parentNode.lastElementChild===a?c.appendChild(i):c.appendChild(i,a),c.ensureVisible(i),"checkBox"===c.selectionMode||"radioButton"===c.selectionMode?(c._focus(i),c._refreshSelection()):(c.clearSelection(),c.select(i))}i.selected&&n!==r&&r._refreshSelection();const s=Smart.ListBox.DragDrop.Item,d=s.ownerListBox;s.displayMode="checkBox"===d.selectionMode||"radioButton"===d.selectionMode?d.selectionMode:"plain",d.$.fireEvent("dragEnd",{item:s,target:a,data:Smart.ListBox.DragDrop,previousContainer:r,container:n,originalEvent:t}),d._focus(s)}else{const a=Smart.ListBox.DragDrop.Item,i=a.ownerListBox;a.displayMode="checkBox"===i.selectionMode||"radioButton"===i.selectionMode?i.selectionMode:"plain",document.body.classList.remove("smart-dragging"),i.$.fireEvent("dragEnd",{item:a,target:null,data:Smart.ListBox.DragDrop,previousContainer:i,container:i,originalEvent:t}),i._focus(a)}t.preventDefault()}delete Smart.ListBox.DragDrop.DraggedFrom,Smart.ListBox.DragDrop.Dragging=!1,Smart.ListBox.DragDrop.Item=null,Smart.ListBox.DragDrop.DropDetails=null}for(let n=0;n<Smart.ListBox.DragDrop.ListBoxes.length;n++){const a=Smart.ListBox.DragDrop.ListBoxes[n];a._dragInterval&&clearInterval(a._dragInterval)}}}_itemsContainerMoveHandler(t){if(Smart.ListBox.DragDrop.Dragging)return this._applyItemFeedback(t),this._moveHandler(t),t.originalEvent.preventDefault(),t.originalEvent.stopPropagation(),!1}_touchmoveHandler(t){if(Smart.ListBox.DragDrop.Dragging&&t.cancelable)return t.preventDefault(),void t.stopPropagation();super._touchmoveHandler(t)}_applyItemFeedback(t){const e=this,n=t.originalEvent.target,a=n.closest?n.closest("smart-list-item"):n;Smart.Utilities.Core.isMobile?Smart.ListBox.DragDrop.DropDetails={item:Smart.ListBox.DragDrop.Item,position:"bottom"}:0!==e.items.length&&(a?a._itemOnMouseMove(t):e.items[e.items.length-1]._itemOnMouseMove(t,!0))}_moveHandler(t){const e=this;if(!Smart.ListBox.DragDrop.Feedback||Smart.ListBox.DragDrop.DraggedFrom!==e)return;const n=e.dragOffset;if(Smart.ListBox.DragDrop.Dragging){Smart.ListBox.DragDrop.Feedback.style.left=n[0]+t.pageX+"px",Smart.ListBox.DragDrop.Feedback.style.top=n[1]+t.pageY+"px",e.$.fireEvent("dragging",{item:Smart.ListBox.DragDrop.Item,data:Smart.ListBox.DragDrop,originalEvent:t.originalEvent});for(let a=0;a<Smart.ListBox.DragDrop.ListBoxes.length;a++){const i=Smart.ListBox.DragDrop.ListBoxes[a];i._dragInterval&&clearInterval(i._dragInterval),i._dragInterval=setInterval(function(){const r=i.getBoundingClientRect();r.left<=t.clientX&&r.left+r.width>=t.clientX&&(t.clientY>=r.top&&t.clientY<=r.top+20?i.scrollTop-=2:t.clientY>=r.top+r.height-20&&t.clientY<=r.top+r.height&&(i.scrollTop+=2))},1)}return t.preventDefault(),t.stopPropagation(),t.originalEvent.preventDefault(),t.originalEvent.stopPropagation(),!1}{const a=Math.abs(t.pageX-Smart.ListBox.DragDrop.StartPosition.left),i=Math.abs(t.pageY-Smart.ListBox.DragDrop.StartPosition.top),r=new Date-Smart.ListBox.DragDrop.StartTime;let o=a>=5&&a<=15||i>=5&&i<=15;if(Smart.Utilities.Core.isMobile&&(r<300||r>1e3)&&(o=!1),o){Smart.ListBox.DragDrop.Dragging=!0,Smart.ListBox.DragDrop.Feedback.style.left=n[0]+t.pageX+"px",Smart.ListBox.DragDrop.Feedback.style.top=n[1]+t.pageY+"px",e.getShadowRootOrBody().appendChild(Smart.ListBox.DragDrop.Feedback),t.preventDefault(),t.stopPropagation(),t.originalEvent.preventDefault(),t.originalEvent.stopPropagation();const s=Smart.ListBox.DragDrop.Item,d=s.ownerListBox;d.$.fireEvent("dragStart",{item:s,data:Smart.ListBox.DragDrop,container:d,previousContainer:d,originalEvent:t.originalEvent}),document.body.classList.add("smart-dragging")}}}_focusHandler(){this._focused=!0,this.setAttribute("focus","")}_blurHandler(){this._focused=!1,this.removeAttribute("focus")}appendChild(t){const e=this;if(!e.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}e.isVirtualized?(e._items.indexOf(t)>-1&&e._items.splice(e._items.indexOf(t),1),e._items.push(t)):(t.dataItem=t,e.shadowRoot&&"light"===e.shadowDomMode?e.appendChild(t):e.$.itemsInnerContainer.appendChild(t),e._items.indexOf(t)>-1&&e._items.splice(e._items.indexOf(t),1),e._items.push(t)),e._refreshItems(),e._refreshSelection()}insertBefore(t,e){const n=this;if(!n.isCompleted){const a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}n.isVirtualized?(n._items.indexOf(t)>-1&&n._items.splice(n._items.indexOf(t),1),n._items.splice(n._indexOf(e),0,t)):(t.dataItem=t,e.parentNode.insertBefore(t,e),n._items.indexOf(t)>-1&&n._items.splice(n._items.indexOf(t),1),n._items.splice(n._indexOf(e),0,t)),n._refreshItems(),n._refreshSelection()}removeChild(t){const e=this;if(!e.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}if(e.isVirtualized)e._items.splice(e._indexOf(t),1);else if(t.parentNode){const n=e.selectedIndexes.slice(0),a=e.selectedValues.slice(0),i=n.indexOf(t.dataIndex);t.parentNode.removeChild(t),i>-1&&(n.splice(i,1),a.splice(i,1),e.selectedIndexes=n,e.selectedValues=a)}e._refreshItems()}propertyChangedHandler(t,e,n){if("dataSource"===t&&(!n||n&&Array.isArray(n)&&0===n.length))return void this.clearItems();super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"innerHTML":a.clearSelection(),a._dataBind(),a.innerHTML=a.content=Smart.Utilities.Core.html(a.$.content);break;case"dataSource":case"valueMember":case"groupMember":case"displayMember":a.clearSelection(),a._dataBind(),a._applyDefaultSelection();break;case"disabled":case"unfocusable":a._setFocusable();break;case"displayLoadingIndicator":a._setLoadingIndicatorVisibility();break;case"filterable":a._refreshFilter(),a._refreshLayout();break;case"grouped":if(n?a._group():a._ungroup(),"radioButton"===a.selectionMode){if(a.selectedValues.length>0){const i=a.selectedValues;a.clearSelection(),a.select(i[0])}}else a._refreshSelection();a._refreshLayout();break;case"itemTemplate":{if(null===n||""===n)return a._items.map(o=>o.innerHTML=o.label),delete a._bindingDetails,void a._refreshLayout();const i=a.querySelectorAll("smart-list-item"),r=function(){a._handleItemTemplate(n)&&(a._items.map(o=>a._applyTemplate(o)),a._refreshLayout()),a.ownerElement&&a.ownerElement._setDropDownSize&&a.ownerElement._setDropDownSize(),a.$.fireEvent("bindingComplete")};0===i.length?r():a._ensureItemsReady(i,r);break}case"selectedIndexes":case"selectedValues":{let i=a.selectedIndexes.slice(0),r=a.selectedValues.slice(0);if(!a._items||0===a._items.length)return a.selectedIndexes=[],a.selectedValues=[],void(a.$.hiddenInput.value=a.selectedValues.toString());if(a._propertyChanging=!0,"selectedIndexes"===t){i=e.slice(0),a.clearSelection();for(let o=0;o<n.length;o++){const d=a._items[n[o]];d&&("oneOrManyExtended"===a.selectionMode||"oneOrMany"===a.selectionMode?(a.selectedIndexes.length>0&&0===o&&a.clearSelection(),a._select(d)):a.select(d))}}else{r=e.slice(0),a.selectedValues=[],a.clearSelection();for(let o=0;o<n.length;o++){const d=a.getItem(n[o]);d&&("oneOrManyExtended"===a.selectionMode?a._select(d):a.select(d))}}if(a.selectedIndexes.length>0&&a._focus(a._items[a.selectedIndexes[0]]),a._propertyChanging=!1,JSON.stringify(r)!==JSON.stringify(a.selectedValues.slice(0))){let o=[],s=[];for(let c=0;c<i.length;c++)a.selectedIndexes.indexOf(i[c])<0&&s.push(a._items[i[c]]);for(let c=0;c<a.selectedIndexes.length;c++)i.indexOf(a.selectedIndexes[c])<0&&o.push(a._items[a.selectedIndexes[c]]);let d={addedItems:o,removedItems:s};if(a.selectedIndexes.length>0){const c=a._items[a.selectedIndexes[a.selectedIndexes.length-1]];void 0!==c&&(d.selected=c.selected,d.disabled=c.disabled,d.index=a._indexOf(c),d.label=c.label,d.value=c.value)}else d.selected=!1,d.disabled=!1,d.index=-1,d.label="",d.value="";a.$.fireEvent("change",d),a._updateTargetValue()}break}case"selectionMode":{const i="checkBox"===a.selectionMode||"radioButton"===a.selectionMode?a.selectionMode:"plain",r=a.selectedIndexes.slice(0),o=a.selectedValues.slice(0);a._propertyChanging=!0;const s=a.selectedValues;a.setAttribute("aria-multiselectable",-1!==["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox","radioButton"].indexOf(n)),a.selectedValues=[],a.clearSelection();for(let d=0;d<s.length;d++){const u=a.getItem(s[d]);u&&("oneOrManyExtended"===a.selectionMode?a._select(u):a.select(u))}if(a._items.forEach(d=>d.displayMode=i),a._recycle(),a._propertyChanging=!1,JSON.stringify(o)!==JSON.stringify(a.selectedValues.slice(0))){let d=[],c=[];for(let m=0;m<r.length;m++)a.selectedIndexes.indexOf(r[m])<0&&c.push(a._items[r[m]]);for(let m=0;m<a.selectedIndexes.length;m++)r.indexOf(a.selectedIndexes[m])<0&&d.push(a._items[a.selectedIndexes[m]]);let u={addedItems:d,removedItems:c};if(r.length>0){const m=a._items[r[r.length-1]];m&&(u.selected=m.selected,u.disabled=m.disabled,u.index=a._indexOf(m),u.label=m.label,u.value=m.value)}a.$.fireEvent("change",u),a._updateTargetValue()}a._applyAriaSelected(),"checkBox"!==n&&"radioButton"!==n&&"checkBox"!==e&&"radioButton"!==e||a._refreshLayout();break}case"topVisibleIndex":a._setTopVisibleIndex(n);break;case"autoSort":a._canSort=n;break;case"alternationStart":case"alternationEnd":case"alternationCount":a._refreshItems(),a._refreshLayout();break;case"sortDirection":case"sorted":{a._canSort=!0,n?a._sort():a._unsort();const i=a.selectedValues;a.selectedValues=[],a._refreshSelection();for(let r=0;r<i.length;r++){const s=a.getItem(i[r]);s&&("oneOrManyExtended"===a.selectionMode?a._select(s):a.select(s))}a._refreshLayout(),a._canSort=a.autoSort;break}}}_refreshSelection(){const t=this;if(!t._items||0===t._items.length)return;const e=t.selectedValues;t.selectedIndexes=[],t.selectedValues=[];for(let n=0;n<t._items.length;n++){const a=t._items[n];a.selected=!1,e.indexOf(a.value)>-1&&t.select(a)}t._recycle()}clearSelection(){const t=this;if(!t._items||0===t._items.length)return;let e=[];for(let a=0;a<t._items.length;a++)t._items[a].selected&&e.push(t._items[a]);t._items.map(a=>a.selected=!1),t.selectedValues.slice(0);const n=t.selectedIndexes.slice(0);if(t.selectedIndexes=[],t.selectedValues=[],t.$.hiddenInput.value=t.selectedValues.toString(),t._recycle(),t.context!==t){let a={addedItems:[],removedItems:e};if(n.length>0){const i=t._items[n[n.length-1]];i&&(a.selected=i.selected,a.disabled=i.disabled,a.index=t._indexOf(i),a.label=i.label,a.value=i.value)}t.$.fireEvent("change",a),t._updateTargetValue()}}ensureVisible(t){const e=this;if(t)return!("string"==typeof t&&!(t=e.getItem(t))||(e.isVirtualized||e.$.itemsContainer.scrollTop===e.scrollTop||(e.scrollTop=e.$.itemsContainer.scrollTop),t.top+t.height>=e.scrollTop+e.offsetHeight&&(e.scrollTop=e.scrollTop+t.height,e.isVirtualized||(e.$.itemsContainer.scrollTop=e.scrollTop)),(t.top<=e.scrollTop||t.top>=e.scrollTop+e.$.itemsContainer.offsetHeight)&&(e.scrollTop=t.top,e.isVirtualized||(e.$.itemsContainer.scrollTop=e.scrollTop)),0===e._indexOf(t)||1===e._indexOf(t)&&e._items.length>1&&e._items[0].grouped?(e.scrollTop=0,e.isVirtualized||(e.$.itemsContainer.scrollTop=e.scrollTop)):e._indexOf(t)===e._items.length-1&&(e.scrollTop=e.scrollHeight,e.isVirtualized||(e.$.itemsContainer.scrollTop=e.scrollTop)),0))}get items(){const t=this;if(!window.__karma__&&!window.karma&&t instanceof Element&&t.isRendered&&t.hasAttribute&&t.hasAttribute("smart-blazor")){let e=[];for(let n=0;n<t._items.length;n++){const a=t._items[n];e.push({label:a.label,value:a.value})}return e}return t._filteredItems?t._filteredItems:t._items}getItems(){const t=this,e=t._filteredItems?t._filteredItems:t._items;let n=[];if(e&&e.length>0)for(let a=0;a<e.length;a++){const i=e[a];n.push({label:i.label,value:i.value})}return n}ready(){super.ready();const t=this;if(t.shadowRoot&&"light"===t.shadowDomMode){const a=document.createDocumentFragment();[].slice.call(t.$.itemsInnerContainer.children).map(i=>a.appendChild(i)),t.appendChild(a),t.$.itemsInnerContainer.appendChild(document.createElement("slot"))}t._areCSSVarsSupported=Smart.Utilities.Core.CSSVariablesSupport(),t.isUpdating=0,t._scrollView&&(t._scrollView=new Smart.Utilities.Scroll(t,t.$.horizontalScrollBar,t.$.verticalScrollBar),t._scrollView.hScrollBar.$.addClass("smart-hidden"),t._scrollView.vScrollBar.$.addClass("smart-hidden"));const e=t._scrollView.vScrollBar,n=t._scrollView.hScrollBar;e.hasStyleObserver=!1,n.hasStyleObserver=!1,e.hasResizeObserver=!1,n.hasResizeObserver=!1,e.wait=!1,n.wait=!1,t._setFocusable()}render(){const t=this;t.setAttribute("role","listbox"),t.setAttribute("aria-orientation","vertical"),t.$.verticalScrollBar.setAttribute("aria-controls",t.id),t.$.horizontalScrollBar.setAttribute("aria-controls",t.id),t._keysPressed={},t._incrementalSearchQuery="",t._incrementalSearchItems=[],t._canSort=!0,t._previousEntry="",t._setLoadingIndicatorVisibility(),t._refreshFilter(),t._initializeInnerHTML(),t._dataBind(),t._applyDefaultSelection(),t.enableShadowDOM&&HTMLElement.prototype.appendChild.apply(t,[t.$.hiddenInput]),t.setAttribute("aria-multiselectable",-1!==["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox","radioButton"].indexOf(t.selectionMode)),super.render()}_lazyInitItems(){const t=this;if(t._inLazyInit)return cancelAnimationFrame(Smart.ListBox.processTimer),void delete Smart.ListBox.processTimer;t._inLazyInit=!0,t.dataSource||(t.clearSelection(),t._dataBind(),t._applyDefaultSelection()),cancelAnimationFrame(Smart.ListBox.processTimer),delete Smart.ListBox.processTimer,t._inLazyInit=!1}_applyDefaultSelection(){const t=this;!t._focusedItem&&t._items&&t._items.length>0&&0===t.selectedIndexes.length&&("one"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"oneOrManyExtended"!==t.selectionMode||t.select(t._items[0]))}attached(){const t=this;super.attached(),Smart.ListBox.DragDrop||(Smart.ListBox.DragDrop={ListBoxes:[]}),Smart.ListBox.DragDrop.ListBoxes.push(t),t._scrollView||(t._scrollView=new Smart.Utilities.Scroll(t,t.$.horizontalScrollBar,t.$.verticalScrollBar)),t.selectedIndexes.length>0&&t._items&&t.ensureVisible(t._items[t.selectedIndexes[0]])}detached(){const t=this;if(super.detached(),t._scrollView&&(t._scrollView.unlisten(),delete t._scrollView),Smart.ListBox.DragDrop&&Smart.ListBox.DragDrop.ListBoxes){const e=Smart.ListBox.DragDrop.ListBoxes.indexOf(t);Smart.ListBox.DragDrop.ListBoxes.splice(e,1)}}_createItem(t,e,n){const a=this,i="checkBox"===a.selectionMode||"radioButton"===a.selectionMode?a.selectionMode:"plain",r=n?{}:document.createElement("smart-list-item");r.ownerListBox=a,"number"==typeof t&&(t=""+t);const o=function(u,m){return void 0!==t[u]?""+t[u]:t[m]};let s="string"==typeof t?t:o(a.displayMember,"label"),d="string"==typeof t?t:o(a.valueMember,"value"),c=o(a.groupMember,"group");return void 0===s&&(s=void 0!==e?""+e:""),r.label=r.innerHTML=""+s,void 0===d&&(d=void 0!==e?""+e:s),t.color&&(r.color=t.color),r.value=""+d,r.displayMode=i,r.selected=!!t.selected&&t.selected,r.disabled=!!t.disabled&&t.disabled,r.dataItem=r,void 0!==e&&(r.dataIndex=e),a._alternateItem(r),t.title&&(r.title=t.title),c&&(r.group=""+c),r}_alternateItem(t){const e=this,n=e.alternationStart,a=e.alternationEnd>0?e.alternationEnd:1/0;e.alternationCount<=0||(void 0===e._alternationIndexCounter&&(e._alternationIndexCounter=0),t.dataIndex>=n&&t.dataIndex<=a&&(t.alternationIndex=e._alternationIndexCounter++,e._alternationIndexCounter===e.alternationCount&&(e._alternationIndexCounter=0)))}_beginUpdate(){this.isUpdating++}_isUpdating(){return this.isUpdating>0}_endUpdate(){this.isUpdating--}get _scrollHeight(){const t=this;if(0===t._items.length||t._items.filter(n=>!n.hidden).length<1)return 0;let e=0;if(t.isVirtualized){if(t.__scrollHeight)return t.__scrollHeight;if(0===t._items.length)return 0;t.isUpdating++;const n=t._createItem(t.dataSource[0]);t.$.itemsInnerContainer.appendChild(n);for(let a=0;a<t._items.length;a++){const i=t._items[a];i.hidden?(i.height=0,i.top=e):(t.itemHeight?(t.itemHeight<32&&(t.itemHeight=32),i.height=t.itemHeight):(n.$&&n.$.itemContainer?n.$.itemContainer.firstElementChild.innerHTML=i.label:n.label=i.label,i.height=n.offsetHeight),i.top=e,e+=i.height)}t.$.itemsInnerContainer.removeChild(n),t.__scrollHeight=e-t.$.itemsInnerContainer.offsetHeight,t.filterable&&(t.__scrollHeight+=t.$.filterInput.offsetHeight),e=t.__scrollHeight,t.isUpdating--}else{for(let n=0;n<t._items.length;n++){const a=t._items[n];a.hidden?(a.height=0,a.top=e):(t.itemHeight?"auto"!==t.itemHeight&&(a.height=t.itemHeight,a.style.height=a.height+"px"):a.height=a.offsetHeight,a.top=a.offsetTop,e+=a.height)}e=t.$.itemsInnerContainer.scrollHeight-t.$.itemsInnerContainer.offsetHeight,t.filterable&&e>0&&(e+=t.$.filterInput.offsetHeight),t.__scrollHeight=e}return e}_initializeRecyclingItems(){const t=this;if(!t.dataSource||t.dataSource&&0===t.dataSource.length||!t.isVirtualized)return;let e=0,n=t.offsetHeight||400;t.$.itemsInnerContainer.innerHTML="",t._recyclingItems=[];const a=function(){for(let r=0;r<t.dataSource.length;r++){const s=t._createItem(t.dataSource[r]);if(t.itemHeight&&"auto"!==t.itemHeight&&(s.style.height=t.itemHeight+"px"),t.$.itemsInnerContainer.appendChild(s),e+=s.offsetHeight,s.dataItem=t._items[r],t._recyclingItems.push(s),e>1.5*n)break}};a();let i=0;for(;e<1.5*n&&++i<5;)a()}_dataBind(){const t=this;if(t._scrollView||(t._scrollView=new Smart.Utilities.Scroll(t,t.$.horizontalScrollBar,t.$.verticalScrollBar)),"function"==typeof t.dataSource&&(t._items=[],delete t._filteredItems,!t.filterable)){const a=t.dataSource("",i=>{t.clearItems(),t.insert(0,i)});a&&Array.isArray(a)&&(t.clearItems(),t.insert(0,a))}if("string"==typeof t.dataSource&&(t.dataSource=JSON.parse(t.dataSource)),null!==t.dataSource&&Array.isArray(t.dataSource)){t.isUpdating++;const a=i=>{t._items=[],t._groups=[],delete t._filteredItems;const r=t.dataSource;for(let o=0;o<r.length;o++){const d=t._createItem(r[o],o,!i);t._items[o]=d,i&&i.appendChild(d)}};if(t.isVirtualized)a(),t._initializeRecyclingItems();else{const i=document.createDocumentFragment();t.$.itemsInnerContainer.innerHTML="",a(i),t.$.itemsInnerContainer.appendChild(i)}t.isUpdating--}const e=t.shadowRoot?t.shadowRoot.querySelectorAll("smart-list-item"):t.querySelectorAll("smart-list-item"),n=function(){t.isUpdating++,t.dataSource||(t._initializeHtmlListItems(),t._initializeHtmlListGroups()),t.grouped&&t._group(),t.sorted&&t._sort(),t._refreshLayout(),t._initializeSelection(),t.isInitialized=!0,t._canSort=t.autoSort,t.isUpdating--,t.itemTemplate&&t._handleItemTemplate(t.itemTemplate)&&(t._items.map(a=>t._applyTemplate(a)),t._refreshLayout()),t.__onCompleted&&(t._onCompleted=t.__onCompleted,t.__onCompleted=null,t._onCompleted()),t.topVisibleIndex>-1&&t._setTopVisibleIndex(t.topVisibleIndex),t.$.fireEvent("bindingComplete"),t._updateTopVisibleIndex(),0===t._items.length&&t.clearItems(),t._applyAriaSelected()};0===e.length?n():(t._onCompleted&&(t.__onCompleted=t._onCompleted,t._onCompleted=null),t._ensureItemsReady(e,n))}_ensureItemsReady(t,e){const n=this,a=function(){const i=function(r){for(let o=0;o<t.length;o++)t[o].context="node"===r?t[o]:document};i("node"),e(),i()};if(0===t.length)a();else{n._nodesReadyListeners=0;for(let i=0;i<t.length;i++){const r=t[i],o=function(){n._nodesReadyListeners--,0===n._nodesReadyListeners&&(a(),delete n._nodesReadyListeners)}.bind(n);r.isCompleted||(n._nodesReadyListeners++,r._onCompleted=o)}0===n._nodesReadyListeners&&a()}}_initializeInnerHTML(){const t=this;t.$.itemsInnerContainer.innerHTML.indexOf("<option")>=0?t.$.itemsInnerContainer.innerHTML=t.$.itemsInnerContainer.innerHTML.replace(/<optgroup/gi,"<smart-list-items-group").replace(/<\/optgroup/gi,"</smart-list-items-group").replace(/<option/gi,"<smart-list-item").replace(/<\/option/gi,"</smart-list-item"):t.$.itemsInnerContainer.innerHTML.indexOf("<ul")>=0&&(t.$.itemsInnerContainer.innerHTML=t.$.itemsInnerContainer.innerHTML.replace(/<ul/gi,"<smart-list-items-group").replace(/<\/ul/gi,"</smart-list-items-group").replace(/<li/gi,"<smart-list-item").replace(/<\/li/gi,"</smart-list-item"))}_initializeHtmlListItems(){const t=this,e=t.shadowRoot&&"shadow"===t.shadowDomMode?t.shadowRoot.querySelectorAll("smart-list-item"):t.querySelectorAll("smart-list-item"),n="checkBox"===t.selectionMode||"radioButton"===t.selectionMode?t.selectionMode:"plain",a=function(r,o,s){return void 0!==r[o]?""+r[o]:r[s]};t._items=[];let i=0;for(let r=0;r<e.length;r++){const o=e[r];o.dataIndex=r,o.label=o.innerHTML,o.dataItem=o,o.top||(o.top=i),o.height||(o.height=o.offsetHeight),i+=o.height,o.value||(o.value=""+r);const s=a(o,t.displayMember,"label"),d=a(o,t.valueMember,"value"),c=a(o,t.groupMember,"group");o.label!==s&&(o.label=s),o.value!==d&&(o.value=d),o.group!==c&&(o.group=c);const u=o.context;o.context=document,o.displayMode=n,o.context=u,t._alternateItem(o),o.selected&&(t.selectedIndexes.push(r),t.selectedValues.push(o.value)),t._items.push(o)}t.itemTemplate&&t._handleItemTemplate(t.itemTemplate)&&t._items.map(r=>t._applyTemplate(r))}_group(){const t=this;t.isUpdating++;let e=[],n=[];t._canSort&&t._unsort();for(let a=0;a<t._items.length;a++){const i=t._items[a];let r=i.group?i.group.trim():i.innerHTML.charAt(0)||i.label.charAt(0);r+=" ",e[r]?e[r].items.push(i):e[e.length++]=e[r]={items:[i],label:r}}if(t.isVirtualized){t._groups=[];for(let a=0;a<e.length;a++){const i=e[a];i.dataIndex=a,i.grouped=!0,i.hidden=!1,i.displayMode="plain",n.push(i);for(let r=0;r<e[a].items.length;r++){const o=i.items[r];o.group=i,n.push(o)}}t._groups=e,t._items=n}else{for(;t.$.itemsInnerContainer.firstChild;)t.$.itemsInnerContainer.removeChild(t.$.itemsInnerContainer.firstChild);const a=document.createDocumentFragment();t._groups=[];for(let i=0;i<e.length;i++){const r=e[i],o=document.createElement("smart-list-items-group");o.label=r.label,o.dataIndex=i;for(let s=0;s<e[i].items.length;s++){const d=r.items[s];n.push(d),d.group=r.label,o.appendChild(d)}t._groups.push(o),a.appendChild(o)}t._items=n,/Trident|Edge/.test(navigator.userAgent)?setTimeout(function(){t.$.itemsInnerContainer.appendChild(a)},50):t.$.itemsInnerContainer.appendChild(a)}t.sorted&&t._sort(),t.isUpdating--}_ungroup(){const t=this;t.isUpdating++,t._groups=[],t._canSort&&t._unsort();let e=[];if(t.isVirtualized)for(let n=0;n<t._items.length;n++){const a=t._items[n];a.grouped||e.push(a)}else{const n=document.createDocumentFragment();for(let a=0;a<t._items.length;a++){const i=t._items[a];n.appendChild(i),e.push(i)}e.length>0&&(t.$.itemsInnerContainer.innerHTML="",t.$.itemsInnerContainer.appendChild(n))}t._items=e,t.sorted&&t._sort(),t.isUpdating--}_initializeHtmlListGroups(){const t=this,e=t.$.itemsInnerContainer.querySelectorAll("smart-list-items-group");t._groups=[];for(let n=0;n<e.length;n++){const a=e[n];a.dataIndex=n,t._groups.push(a)}}_initializeSelection(){const t=this,e=t.selectedIndexes.slice(0),n=t.selectedValues.slice(0);t.clearSelection(),"oneOrManyExtended"===t.selectionMode&&(t._keysPressed.Control=!0);for(let a=0;a<t._items.length;a++){const i=t._items[a];(e.indexOf(a)>=0||n.indexOf(i.value||i.label)>=0)&&(t._focusedItem&&(t._focusedItem._focused=!1),t._focusedItem=null,t.select(i))}"oneOrManyExtended"===t.selectionMode&&(t._keysPressed.Control=!1)}onItemUpdated(){const t=this;t.isInitialized&&!t._isUpdating()&&(t.isUpdating++,t._refreshLayout(),t.isUpdating--)}_refreshItems(){const t=this;if(t.isInitialized&&!t._isUpdating()){if(t.isUpdating++,t.grouped?t._ungroup():t.sorted&&t._canSort&&t._unsort(),!t.isVirtualized){t._items=[];const e=t.shadowRoot?t.shadowRoot.querySelectorAll("smart-list-item"):t.querySelectorAll("smart-list-item");for(let n=0;n<e.length;n++)e[n].dataIndex=n,t._alternateItem(e[n]),t._items.push(e[n])}t.grouped?t._group():t.sorted&&t._sort(),t._refreshLayout(),t.isUpdating--}}_applyIncrementalSearch(t){const e=this;null===e.incrementalSearchDelay||isNaN(e.incrementalSearchDelay)||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control","Home","End","PageUp","PageDown"].indexOf(t)>-1||(0!==e._incrementalSearchQuery.indexOf(t)&&(e._incrementalSearchQuery+=t),e._incrementalSearchTimer&&clearTimeout(e._incrementalSearchTimer),e._incrementalSearch(),e._incrementalSearchTimer=setTimeout(function(){e._incrementalSearchQuery=""},e.incrementalSearchDelay))}select(t){const e=this;if(("string"!=typeof t||(t=e.getItem(t)))&&("number"!=typeof t||(t=e.getItem(t)))&&!(t.grouped||t.readonly||!e._items.length||t instanceof HTMLElement&&!e.contains(t))){if("none"===e.selectionMode)return e.selectedIndexes=[],void(e.selectedValues=[]);switch(!e._focusedItem!==t&&"none"!==e.selectionMode&&(e._focusedItem&&(e._focusedItem._focused=!1),e._focusedItem=t,t._focused=!0),e.selectionMode){case"one":case"zeroAndOne":return(1!==e.selectedIndexes.length||e.selectedIndexes[0]!==e._indexOf(t))&&(e._previouslySelectedIndexes=e.selectedIndexes,e.selectedIndexes.length>=1&&e.clearSelection(),e._select(t),delete e._previouslySelectedIndexes,!0);case"zeroOrOne":return 1===e.selectedIndexes.length&&e.selectedIndexes[0]===e._indexOf(t)?(e.unselect(t),!0):(e._previouslySelectedIndexes=e.selectedIndexes,e.selectedIndexes.length>=1&&e.clearSelection(),e._select(t),delete e._previouslySelectedIndexes,!0);case"radioButton":if(e._previouslySelectedIndexes=e.selectedIndexes,e.$.itemsInnerContainer.querySelectorAll("smart-list-items-group").length>0){const n=t.parentNode;if(!t.selected){for(let a in n.children){const i=n.children[a];i.selected&&e.unselect(i)}e._select(t)}return delete e._previouslySelectedIndexes,!0}if(e.isVirtualized&&e._groups.length>0){const n=t.group;if(!t.selected){for(let a in n.items){const i=n.items[a];i.selected&&e.unselect(i)}e._select(t)}return delete e._previouslySelectedIndexes,!0}return t.selected||(e.selectedIndexes.length>=1&&e.clearSelection(),e._select(t)),delete e._previouslySelectedIndexes,!0;case"oneOrMany":return t.selected?e.selectedIndexes.length>1&&e.unselect(t):e._select(t),!0;case"zeroOrMany":case"checkBox":return t.selected?e.unselect(t):e._select(t),!0;case"oneOrManyExtended":{const n=e.selectedValues;if(e._keysPressed.Control)return e.selectedIndexes.length>1&&t.selected?(e.unselect(t),e._focus(e._items[e.selectedIndexes[0]])):e._select(t),!0;if(e._keysPressed.Shift){const a=e._items[e.selectedIndexes[0]];let i;e.clearSelection();const r=n.indexOf(a.value)>=0||a.selected;if(e._select(a,r),e._indexOf(a)>e._indexOf(t))for(i=e._indexOf(a)-1;i>=e._indexOf(t);){const s=e._items[i],d=n.indexOf(s.value)>=0||s.selected;e._select(s,d),i--}else for(i=e._indexOf(a)+1;i<=e._indexOf(t);){const s=e._items[i],d=n.indexOf(s.value)>=0||s.selected;e._select(s,d),i++}const o=[];for(let s=0;s<n.length;s++)o.push(e.getItem(n[s]));if(o.length>0&&!e._propertyChanging){let s=[];for(let d=0;d<e.selectedValues.length;d++){const c=e.selectedValues[d];n.indexOf(c)<0&&s.push(e.getItem(c))}e.$.fireEvent("change",{addedItems:s,removedItems:o,selected:t.selected,disabled:t.disabled,index:e._indexOf(t),label:t.label,value:t.value}),e._updateTargetValue()}return!0}for(let a=0;a<n.length;a++){const r=e.getItem(n[a]);t!==r&&e.unselect(r)}return e.clearSelection(),e._select(t,n.indexOf(t.value)>=0),!0}}return!1}}_applyTemplate(t,e){const n=this;if(null===n.itemTemplate)return;if("function"==typeof n.itemTemplate)return void n.itemTemplate(t,{label:t.label,value:t.value,index:n._items.indexOf(t)});if(!n._bindingDetails||0===n._bindingDetails.length)return;const a=n._bindingDetails.length;let i,r,o=document.importNode(n._template.content,!0);for(let s=0;s<a;s++){i=o.childNodes[n._bindingDetails[s].childNodeIndex],r=n._bindingDetails[s].bindingString.length;for(let d=0;d<r;d++){const c=n._bindingDetails[s].bindingString[d],u=c.indexOf("label")>=0?t.label:t.value;i.innerHTML=i.innerHTML.replace(c,u)}}t.innerHTML="";for(let s=0;s<o.childNodes.length;s++)o.childNodes[s].outerHTML&&(t.innerHTML+=o.childNodes[s].outerHTML);!1!==e&&(n._scrollHeightTimer&&(clearInterval(n._scrollHeightTimer),n._scrollHeightCounter=0),n._scrollHeightTimer=setInterval(function(){n._lastScrollHeight===n.$.itemsInnerContainer.scrollHeight&&10!==n._scrollHeightCounter||(n._refreshLayout(),clearInterval(n._scrollHeightTimer)),n._lastScrollHeight=n.$.itemsInnerContainer.scrollHeight,n._scrollHeightCounter++},50))}_filterItems(t,e,n){const a=this,i=a.$.filterInput.value;let r,o;const s=function(){if(0===o.length)return a._filteredItems=[],void(e&&e());r=a._queryItems(i,a.filterMode);for(let c=0;c<o.length;c++)o[c].hidden=!0,o[c].$&&o[c].$.addClass("smart-hidden");for(let c=0;c<r.length;c++){const u=r[c];u.hidden=!1,o[c].$&&u.$.removeClass("smart-hidden")}if(a.grouped&&a.isVirtualized)for(let c=0;c<a._groups.length;c++){const u=a._groups[c],m=u.items;let h=!0;for(let y=0;y<m.length;y++)m[y].hidden||(h=!1);h&&(u.hidden=!0)}if(a.grouped&&!a.isVirtualized)for(let c=0;c<a._groups.length;c++){const u=a._groups[c],m=[].concat(...u.querySelectorAll("smart-list-item"));let h=!0;for(let y=0;y<m.length;y++)m[y].$.hasClass("smart-hidden")||(h=!1);h?u.$.addClass("smart-hidden"):u.$.removeClass("smart-hidden")}if(a._filteredItems=r,a._refreshLayout(),e&&e(),t)return;const d=a._propertyChanging;a._propertyChanging=!0,a._refreshSelection(),a._propertyChanging=d};if("function"==typeof a.dataSource)if(i||n){const d=function(u){(i||n)&&a.isAttached&&(a._updateListBoxAfterQuery=function(){r=o=a._items,s()},a.clearItems(),a.insert(0,u))},c=a.dataSource(i,d);if(c){if(!i&&!n)return;a._updateListBoxAfterQuery=function(){r=o=a._items,s()},a.clearItems(),a.insert(0,c)}}else a.clearItems(),r=o=a._items,s(),a.$.fireEvent("bindingComplete");else{if(o=a._items,0===o.length)return;s()}}_getNextItem(t){const e=this._items,n=this._items.length;let a=Math.max(t+1,0);for(;a<n;){const i=e[a];if(!(i.disabled||i.hidden||i.grouped||i.readonly))return i;a++}return e[t]}_getPreviousItem(t){const e=this._items;let n=Math.max(t-1,0);for(;n>-1;){const a=e[n];if(!(a.disabled||a.hidden||a.grouped||a.readonly))return a;n--}return e[t]}get _scrollWidth(){const t=this,e=t._items;return t.__scrollWidth||(t.__scrollWidth=(()=>{const n=this,a=n.virtualized,i=n.itemMeasureMode;let r=0,o="";function s(d){const c=n._createItem({label:d});c.style.position="absolute",n.$.itemsContainer.appendChild(c),c.label=d,c.style.width="auto",c.isCompleted&&(c.$.itemContainer.style.width="auto");const u=getComputedStyle(c),m=parseInt(u.paddingLeft)+parseInt(u.paddingRight),h=c.$.itemContainer||c,y=h.offsetWidth+h.offsetLeft+m;return c.parentNode.removeChild(c),y}for(let d=0;d<e.length;d++){const c=e[d];if(!c.hidden)if("auto"===i){const u=a?c.label:c.textContent.trim();u.length>o.length&&(o=u)}else r=Math.max(r,s(c.label))}return"auto"===i?s(o):r})()),t.__scrollWidth}update(t,e){const n=this,a=n._items[t];if(a){if("string"==typeof e)a.label=e,void 0===a.value&&(a.value=e);else for(let i in e)"selected"===i&&a[i]!==e[i]?n.select(a):a[i]=e[i],"group"===i&&n._refreshItems();(n.sorted||n.grouped||n.isVirtualized)&&(n._refreshItems(),n._refreshSelection())}else n.error(n.localize("indexOutOfBound",{elementType:n.nodeName.toLowerCase(),method:"update"}))}insert(t,e){const n=this;let a=[];if((!t||t<0)&&(t=0),Array.isArray(e)){n.isUpdating++;for(let i=0;i<e.length;i++){const o=n._createItem(e[i]);a.push(o),t>=n._items.length||0===n._items.length?n.appendChild(o):n.insertBefore(o,n._items[t])}n.isUpdating--}else{const i=n._createItem(e);a.push(i),t>=n._items.length||0===n._items.length?n.appendChild(i):n.insertBefore(i,n._items[t])}a.length>0?(a.map(i=>n._applyTemplate(i)),n._ensureItemsReady(a,function(){n._refreshItems(),0!==n._items.length&&(n._updateListBoxAfterQuery&&(n._updateListBoxAfterQuery(),delete n._updateListBoxAfterQuery),n._refreshSelection(),n.$.fireEvent("bindingComplete"))})):n._updateListBoxAfterQuery&&(n._updateListBoxAfterQuery(),delete n._updateListBoxAfterQuery)}removeAt(t){const e=this,n=e._items[t];n?(n.selected&&e.unselect(n),e.isVirtualized?e._items.splice(t,1):n.parentNode.removeChild(n),e._refreshItems(),e._refreshSelection(),0===e.selectedIndexes.length&&e._items.length>0&&("oneOrMany"!==e.selectionMode&&"one"!==e.selectionMode&&"oneOrManyExtended"!==e.selectionMode||e.select(e._items[0]))):e.error(e.localize("indexOutOfBound",{elementType:e.nodeName.toLowerCase(),method:"remove"}))}_queryItems(t,e){const n=this,a=[],i=function(r,o){if(r.grouped)return r;switch(e){case"startsWith":if(0===r.label.indexOf(o))return r;break;case"startsWithIgnoreCase":if(0===r.label.toLowerCase().indexOf(o.toLowerCase()))return r;break;case"doesNotContain":if(r.label.indexOf(o)<0)return r;break;case"doesNotContainIgnoreCase":if(r.label.toLowerCase().indexOf(o.toLowerCase())<0)return r;break;case"contains":if(r.label.indexOf(o)>-1)return r;break;case"containsIgnoreCase":if(r.label.toLowerCase().indexOf(o.toLowerCase())>-1)return r;break;case"equals":if(0===r.label.localeCompare(o))return r;break;case"equalsIgnoreCase":if(0===r.label.toLowerCase().localeCompare(o.toLowerCase()))return r;break;case"endsWith":if(r.label.endsWith(o))return r;break;case"endsWithIgnoreCase":if(r.label.toLowerCase().endsWith(o.toLowerCase()))return r;break;case"custom":if(n.filterCallback(r,t))return r}return null};if(0===t.length)return n._items;for(let r=0;r<n._items.length;r++){const o=i(n._items[r],t);o&&a.push(o)}return a}_select(t,e){const n=this,a=n.selectedIndexes.indexOf(n._indexOf(t)),i=n.selectedIndexes.slice(0),r=n.selectedValues.slice(0);if(t.selected=!0,-1!==a)return n._recycle(),!1;if(i.push(n._indexOf(t)),r.push(t.value||t.label),n.selectedIndexes=i,n.selectedValues=r,n._recycle(),n.$.hiddenInput.value=r.toString(),!n.isCompleted||e||!n.isInitialized||n._propertyChanging)return;let o=[];if(n._previouslySelectedIndexes){for(let s=0;s<n._previouslySelectedIndexes.length;s++)n.selectedIndexes.indexOf(n._previouslySelectedIndexes[s])<0&&o.push(n._items[n._previouslySelectedIndexes[s]]);delete n._previouslySelectedIndexes}return n.$.fireEvent("change",{addedItems:[t],removedItems:o,selected:t.selected,disabled:t.disabled,index:n._indexOf(t),label:t.label,value:t.value}),n._updateTargetValue(),!0}_updateTargetValue(){const t=this;if(t.dataset.target){const e=document.querySelector(t.dataset.target);if(e){const n=t.dataset.property;n&&void 0!==e[n]&&(e[n]=t.value)}}}_setTopVisibleIndex(t){const e=this;if("number"==typeof t&&(e.topVisibleIndex=Math.max(0,t),t=e._items[e.topVisibleIndex]),!t)return!1;t.top!==e.scrollTop&&(e.scrollTop=t.top,e.isVirtualized||(e.$.itemsContainer.scrollTop=e.scrollTop),e.scrollHeight===e.scrollTop&&e._updateTopVisibleIndex())}_updateTopVisibleIndex(){const t=this,e=t.scrollTop+t._scrollView.verticalScrollBar.offsetHeight-t.offsetHeight;let n;if(t.scrollTop<t.scrollHeight/2){for(let a=0;a<t._items.length;a++)if(t._items[a].top>=e){n=t._items[a];break}}else for(let a=t._items.length-1;a>=0&&!(t._items[a].top<e);a--)n=t._items[a];if(n){const a=t.context;t.context=t,t.topVisibleIndex=n.dataIndex,t.context=a}}unselect(t){const e=this;if(!t||"string"==typeof t&&!(t=e.getItem(t)))return;if("none"===e.selectionMode)return void e.clearSelection();const n=e.selectedIndexes.indexOf(e._indexOf(t)),a=e.selectedIndexes.slice(0),i=e.selectedValues.slice(0);return t.selected=!1,n>=0&&(a.splice(n,1),i.splice(n,1),e.selectedIndexes=a,e.selectedValues=i,e.$.hiddenInput.value=i.toString(),e.isCompleted&&!e._propertyChanging?(e.$.fireEvent("change",{addedItems:[],removedItems:[t],selected:t.selected,disabled:t.disabled,index:e._indexOf(t),label:t.label,value:t.value}),e._updateTargetValue(),e._recycle(),!0):void 0)}_handleItemTemplate(t){if(null===t||!t)return;if("function"==typeof t)return t;const e=this;if(!("content"in document.createElement("template")))return e.error(e.localize("htmlTemplateNotSuported",{elementType:e.nodeName.toLowerCase()})),void(e.itemTemplate=null);if(null===(t=document.getElementById(t))||!("content"in t))return e.error(e.localize("invalidTemplate",{elementType:e.nodeName.toLowerCase(),property:"itemTemplate"})),void(e.itemTemplate=null);const n=t.content,a=n.childNodes.length,i=/{{\w+}}/g;let r,o;e._bindingDetails=[],e._template=t;for(let s=0;s<a;s++){for(o=[];r=i.exec(n.childNodes[s].innerHTML);)o.push(r[0]);o.length>0&&e._bindingDetails.push({childNodeIndex:s,bindingString:o})}return!0}_handleKeyStrokes(t){const e=this,n="radioButton"===e.selectionMode||"checkBox"===e.selectionMode||"zeroOrMany"===e.selectionMode||"oneOrMany"===e.selectionMode||"zeroOrOne"===e.selectionMode;let a=e._items;if(e.filterable&&e.$.filterInput.value.length>0&&(a=e._filteredItems),!e.disabled&&!e.readonly&&a.length){switch(t){case"ArrowLeft":case"ArrowUp":e._handleArrowKeys(!0);break;case"ArrowRight":case"ArrowDown":e._handleArrowKeys(!1);break;case" ":{if(e.selectedIndexes.length<1&&!e._focusedItem)return;const i=e._focusedItem?e._focusedItem:e._items[e.selectedIndexes[e.selectedIndexes.length-1]],r=o=>{o.selected&&"radioButton"!==e.selectionMode?e.unselect(o):e.select(o)};if("oneOrMany"===e.selectionMode)return void(i.selected&&e.selectedIndexes.length>1?r(i):i.selected||r(i));r(i);break}case"Home":if(0===a.length)return;n||(e._keysPressed.Shift||e.clearSelection(),e.select(a[0])),e._focus(a[0]),e.scrollTop=0;break;case"End":if(0===a.length)return;n||(e._keysPressed.Shift||e.clearSelection(),e.select(a[a.length-1])),e._focus(a[a.length-1]),e.scrollTop=e.scrollHeight;break;case"PageUp":e._pageUpKeyHandler(a);break;case"PageDown":e._pageDownKeyHandler(a)}e._recycle()}}_horizontalScrollbarHandler(t){const e=this;t&&t.stopPropagation&&t.stopPropagation(),e.isVirtualized?e._recycle():e.$.itemsContainer.scrollLeft=e._getScrollLeft(t.detail.value)}_getScrollLeft(t,e){const n=this;if(!n.rightToLeft)return t;if(Smart.Utilities.Core.Browser.Chrome){if(!e){const a=2*(parseInt(getComputedStyle(n.$.itemsInnerContainer).getPropertyValue("--smart-list-item-horizontal-offset"))||0);e=n._scrollWidth-n.$.itemsContainer.offsetWidth-a}t=e-t}else t*=-1;return t}_unsort(){const t=this;t.isUpdating++;const e=function(n,a){let i=n.dataIndex,r=a.dataIndex;return i<r?-1:i>r?1:0};if(t.isVirtualized)if(t._groups.length>0){t._groups.sort(e);let n=[];for(let a=0;a<t._groups.length;a++){const i=t._groups[a],r=[].concat(...i.items);r.sort(e),n.push(i),n=n.concat(r)}t._items=n}else t._items.sort(e);else{if(t._groups.length>0){t._groups.sort(e);let n=[];for(let a=0;a<t._groups.length;a++){const r=[].concat(...t._groups[a].querySelectorAll("smart-list-item"));r.sort(e),n=n.concat(r)}t._items=n}else t._items.sort(e);t._applySortOrder()}t.isUpdating--}_applySortOrder(){const t=function(e){for(let n=0;n<e.length;n++){const a=e[n],i=a.parentNode;i&&i.appendChild(a)}};t(this._items),t(this._groups)}_sort(){const t=this;if(!t._canSort)return;t.isUpdating++;const e=function(n,a){let i=n.label,r=a.label;if("asc"===t.sortDirection){if(i<r)return-1;if(i>r)return 1}else{if(i<r)return 1;if(i>r)return-1}return 0};if(t._groups.sort(e),t.isVirtualized)if(t._groups.length>0){let n=[];for(let a=0;a<t._groups.length;a++){const i=t._groups[a],r=[].concat(...i.items);n.push(i),r.sort(e),n=n.concat(r)}t._items=n}else t._items.sort(e);else{if(t._groups.length>0){let n=[];for(let a=0;a<t._groups.length;a++){const r=[].concat(...t._groups[a].querySelectorAll("smart-list-item"));r.sort(e),n=n.concat(r)}t._items=n}else t._items.sort(e);t._applySortOrder()}t.isUpdating--}getItem(t){const e=this;for(let n=0;n<e._items.length;n++)if(e._items[n].value===t)return e._items[n];return null}_focus(t){const e=this;!t||"none"===e.selectionMode||e.disabled||e.readonly||(e._focusedItem&&(e._focusedItem._focused=!1),e._focusedItem=t,e._focusedItem._focused=!0)}_keyDownHandler(t){const e=this,n=(e.shadowRoot||e.getRootNode()).activeElement||document.activeElement;let a=t.key;if(t.metaKey&&(a="Control"),!e.disabled&&!e.readonly&&(!e.filterable||e.$.filterInput!==n)&&e._focused&&0!==e._items.length&&!e.disabled&&!e.displayLoadingIndicator){if(e.editable){if("F2"===a)return void e._dblclickEventHandler({target:e._focusedItem});if(e.$.editInput===n)return}if("none"!==e.selectionMode){switch(t.stopPropagation(),a){case"Down":case"Right":case"Left":case"Up":a="Arrow"+a}if(e.filterable)switch(a){case"ArrowLeft":case"ArrowRight":return;case"ArrowUp":case"ArrowDown":t.preventDefault()}if(e._applyIncrementalSearch(a),!(["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","Home","End","PageUp","PageDown"].indexOf(a)<0))if(t.preventDefault(),!e._focusedItem&&e._items.length>0)"one"===e.selectionMode||"oneOrMany"===e.selectionMode||"oneOrManyExtended"===e.selectionMode?e.select(e._items[0]):e._focus(e._items[0]);else switch(e.selectionMode){case"one":case"zeroAndOne":if("Shift"===a||"Control"===a||" "===a)return;e._handleKeyStrokes(a);break;case"oneOrMany":case"zeroOrOne":case"zeroOrMany":case"radioButton":case"checkBox":if("Shift"===a||"Control"===a)return;e._handleKeyStrokes(a);break;case"oneOrManyExtended":if(" "===a)return;e._keysPressed[a]="keydown"===t.type,e._handleKeyStrokes(a)}}}}_keyUpHandler(t){const e=this,n=(e.shadowRoot||e.getRootNode()).activeElement||document.activeElement;if(!e.editable||e.$.editInput!==n){if(e.filterable&&e.$.filterInput===n)return e._filterTimer&&clearTimeout(e._filterTimer),void(e._filterTimer=setTimeout(function(){const a=e.context;e.context=e,e._filterItems(),e.scrollTop=e.$.itemsContainer.scrollTop=0,e.scrollLeft=e.$.itemsContainer.scrollLeft=e._getScrollLeft(0),e.context=a},300));if(e._focused){if(e._focusedItem&&e._focusedItem.hidden&&e._filteredItems.length>0){let a=e._filteredItems[0];a.grouped&&e._filteredItems.length>1&&(a=e._filteredItems[1]),e._focus(a),e._recycle()}t.stopPropagation(),t.preventDefault(),e.disabled||("Escape"===t.key&&Smart.ListBox.DragDrop.Dragging&&e._cancelDrag(),["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","PageUp","PageDown"].indexOf(t.key)<0||(e._keysPressed[t.key]=!1))}}}_cancelDrag(){if(!Smart.ListBox.DragDrop.Dragging)return;Smart.ListBox.DragDrop.Feedback.parentNode&&Smart.ListBox.DragDrop.Feedback.parentNode.removeChild(Smart.ListBox.DragDrop.Feedback);const t=Smart.ListBox.DragDrop.Item,e=t.ownerListBox;if(e.$.fireEvent("dragCancel",{item:t,data:Smart.ListBox.DragDrop,container:e,previousContainer:e}),Smart.ListBox.DragDrop.Feedback=null,Smart.ListBox.DragDrop.DropDetails){let n=Smart.ListBox.DragDrop.DropDetails.item;n&&(n.$.removeClass("smart-list-item-line-feedback"),n.$.removeClass("smart-list-item-bottom-line-feedback"))}document.body.classList.remove("smart-dragging"),delete Smart.ListBox.DragDrop.DraggedFrom,Smart.ListBox.DragDrop.Dragging=!1,Smart.ListBox.DragDrop.Item=null,Smart.ListBox.DragDrop.DropDetails=null}_mouseWheelHandler(t){const e=this;if((e.computedHorizontalScrollBarVisibility||e.computedVerticalScrollBarVisibility)&&!e.disabled&&e.computedVerticalScrollBarVisibility){const n=e.scrollTop;if(0===n&&t.deltaY<0||n===e.scrollHeight&&t.deltaY>0)return;t.stopPropagation(),t.preventDefault(),e.scrollTo(n+e._getScrollCoefficient(t,e.offsetHeight))}}_pageDownKeyHandler(t){const e=this;if(0===t.length)return;let n,a=e._items[e.selectedIndexes[e.selectedIndexes.length-1]];if("checkBox"!==e.selectionMode&&"radioButton"!==e.selectionMode&&"zeroOrMany"!==e.selectionMode&&"oneOrMany"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode||e._focusedItem&&(a=e._focusedItem),!a)return;const i=e._indexOf(a);let r=a.top+e.$.itemsContainer.offsetHeight-a.height;for(let o=i;o<t.length;o++)if(t[o].top>=r){n=t[o];break}n||(n=t[t.length-1]),"checkBox"===e.selectionMode||"radioButton"===e.selectionMode||"zeroOrMany"===e.selectionMode||"oneOrMany"===e.selectionMode||"zeroOrOne"===e.selectionMode?e._focus(n):n.selected||(e._keysPressed.Shift||e.clearSelection(),e.select(n),e._focus(n)),(n.height+n.top>e.$.itemsContainer.scrollTop+e.$.itemsContainer.offsetHeight||n.top<e.$.itemsContainer.scrollTop)&&(e.scrollTop=n.top-e.$.itemsContainer.offsetHeight+n.height)}_pageUpKeyHandler(t){const e=this;if(0===t.length)return;let n=e._items[e.selectedIndexes[e.selectedIndexes.length-1]];if("checkBox"!==e.selectionMode&&"radioButton"!==e.selectionMode&&"zeroOrMany"!==e.selectionMode&&"oneOrMany"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode||e._focusedItem&&(n=e._focusedItem),!n)return;const a=n.top-e.$.itemsContainer.offsetHeight;let i;for(let r=e._indexOf(n);r>0;r--)if(t[r].top<=a){i=t[r];break}i||(i=t[0]),"checkBox"===e.selectionMode||"radioButton"===e.selectionMode||"zeroOrMany"===e.selectionMode||"oneOrMany"===e.selectionMode||"zeroOrOne"===e.selectionMode?e._focus(i):i.selected||(e._keysPressed.Shift||e.clearSelection(),e.select(i),e._focus(i)),e.scrollTop=i.top,0===e._indexOf(i)&&(e.scrollTop=0)}clearItems(){const t=this;t.clearSelection(),t.$.itemsInnerContainer.innerHTML="",t._items=[],delete t._focusedItem,t.$placeholder.removeClass("smart-hidden"),t.refresh()}_resizeHandler(t){this.refresh(t)}refresh(t){const e=this;if(!t&&!e._isUpdatingScrollBars&&e.isInitialized)return e._isUpdatingScrollBars=!0,e._initializeRecyclingItems(),e._refreshLayout(),void(e._isUpdatingScrollBars=!1);t&&t.target===e&&!e._isUpdatingScrollBars&&(e._isUpdatingScrollBars=!0,e._initializeRecyclingItems(),e._refreshLayout(),e._isUpdatingScrollBars=!1)}_indexOf(t){const e=this;if(!t)return-1;let n=e._items.indexOf(t);return-1===n&&(n=e._items.indexOf(e.getItem(t.value))),n}_incrementalSearch(){const t=this,e="radioButton"!==t.selectionMode&&"checkBox"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode;let n,a=0;switch(t.incrementalSearchMode){case"containsIgnoreCase":case"equalsIgnoreCase":case"startsWithIgnoreCase":case"endsWithIgnoreCase":n=t._incrementalSearchQuery.toLowerCase();break;default:n=t._incrementalSearchQuery}const i=function(o){o.grouped||o.readonly||(e?(t.selectedIndexes.length>0&&t.clearSelection(),t._focus(o),t.select(o)):t._focus(o),(o.height+o.top>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||o.top<t.scrollTop)&&(t.scrollTop=o.top),0===t._indexOf(o)&&(t.scrollTop=0),t._indexOf(o)===t._items.length-1&&(t.scrollTop=t.scrollHeight))};0!==t._previousEntry.localeCompare(n)&&(t._incrementalSearchItems=t._queryItems(t._incrementalSearchQuery,t.incrementalSearchMode),delete t._itemPosition),t._previousEntry=n;const r=t._incrementalSearchItems.length;if(0!==r)if(1!==r)for(void 0!==t._itemPosition?t._itemPosition<r-1?a=t._itemPosition:(a=0,e?(t._incrementalSearchItems[t._itemPosition].selected=!1,t.selectedIndexes=[],t.selectedValues=[]):t._incrementalSearchItems[t._itemPosition]._focused=!1):e&&t.clearSelection();a<r;a++)if(t._incrementalSearchItems[a].selected&&e)t._incrementalSearchItems[a].selected=!1,t.selectedIndexes=[],t.selectedValues=[];else{if(e||!t._incrementalSearchItems[a]._focused)return i(t._incrementalSearchItems[a]),void(t._itemPosition=a);t._incrementalSearchItems[a]._focused=!1}else i(t._incrementalSearchItems[0])}_selectStartHandler(t){const e=this,n=(e.shadowRoot||e.getRootNode()).activeElement;e.$.filterInput!==n&&e.$.editInput!==n&&t.preventDefault()}_handleArrowKeys(t){const e=this,n="radioButton"!==e.selectionMode&&"checkBox"!==e.selectionMode&&"zeroOrMany"!==e.selectionMode&&"oneOrMany"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode;if(e.disabled||e.readonly)return;let a;if(e._focusedItem&&!e._keysPressed.Shift)a=e._indexOf(e._focusedItem),e._focusedItem._focused=!1;else{if(0===e.selectedIndexes.length)return;a=e.selectedIndexes[e.selectedIndexes.length-1]}const i=t?e._getPreviousItem(a):e._getNextItem(a);e._focus(i),n&&(e._keysPressed.Shift?e.select(i):e._items[a]!==i&&(e.clearSelection(),e.select(i))),e.ensureVisible(i)}_refreshFilter(){const t=this;if(t.filterable)return t.$.filterInput.disabled=!(!t.disabled&&!t.displayLoadingIndicator),t.$filterInputContainer.removeClass("smart-hidden"),void t.$itemsContainer.addClass("filter");t.$.filterInput.disabled=!0,t.$filterInputContainer.addClass("smart-hidden"),t.$itemsContainer.removeClass("filter")}_setFocusable(){const t=this;t.disabled||t.unfocusable?t.removeAttribute("tabindex"):t.tabIndex=t.tabIndex>0?t.tabIndex:0}_setLoadingIndicatorVisibility(){const t=this;t.displayLoadingIndicator?t.$loadingIndicatorContainer.hasClass("smart-visibility-hidden")?t.$loadingIndicatorContainer.removeClass("smart-visibility-hidden"):t.$loadingIndicatorContainer.removeClass("smart-hidden"):t.$loadingIndicatorContainer.addClass(t._areCSSVarsSupported?"smart-hidden":"smart-visibility-hidden")}_refreshLayout(){const t=this,e=t._filteredItems||t._items;if(t.__scrollHeight=null,t.__scrollWidth=null,t._height=null,t._scrollView||(t._scrollView=new Smart.Utilities.Scroll(t,t.$.horizontalScrollBar,t.$.verticalScrollBar)),t.$itemsContainer.removeClass("hscroll"),t.$itemsContainer.removeClass("vscroll"),!e||null===e||0===e.length)return t.scrollWidth=0,t.scrollHeight=0,t.$filterInputContainer.removeClass("vscroll"),t.$placeholder.removeClass("smart-hidden"),t.isVirtualized&&t._recycle(),void(t.$.itemsInnerContainer.style.width="");t.$placeholder.addClass("smart-hidden");const n=2*(parseInt(getComputedStyle(t.$.itemsContainer).getPropertyValue("--smart-list-item-horizontal-offset"))||0);let a=t._scrollWidth-t.$.itemsContainer.offsetWidth-n,i=t._scrollHeight;if(t._refreshHorizontalScrollBarVisibility(a),t._refreshVerticalScrollBarVisibility(i),t.$.itemsInnerContainer.style.width="",t.$.itemsInnerContainer.style.width="hidden"===t.horizontalScrollBarVisibility?t.$.itemsContainer.offsetWidth-n:Math.max(t.$.itemsContainer.offsetWidth-n,-n+t.__scrollWidth)+"px",t.computedVerticalScrollBarVisibility)return a=t._scrollWidth-t.$.itemsContainer.offsetWidth-n,t._refreshHorizontalScrollBarVisibility(a),"hidden"!==t.horizontalScrollBarVisibility&&(t.$.itemsInnerContainer.style.width="",t.$.itemsInnerContainer.style.width=Math.max(t.$.itemsContainer.offsetWidth-n,-n+t.__scrollWidth)+"px"),t.computedHorizontalScrollBarVisibility&&(("visible"!==t.horizontalScrollBarVisibility||0!==t.scrollWidth||"visible"===t.horizontalScrollBarVisibility)&&(t.__scrollHeight+=t._scrollView.hScrollBar.offsetHeight),t.scrollHeight=t.__scrollHeight,t._scrollView.hScrollBar.$.hasClass("bottom-corner")&&t._scrollView.hScrollBar.refresh()),void(t.isVirtualized&&t._recycle());a=t._scrollWidth-t.$.itemsContainer.offsetWidth-n,t._refreshHorizontalScrollBarVisibility(a),t.computedHorizontalScrollBarVisibility&&(t.scrollHeight=t._scrollHeight,t._refreshVerticalScrollBarVisibility(t.scrollHeight),t.computedVerticalScrollBarVisibility&&(a=t._scrollWidth-t.$.itemsContainer.offsetWidth-t._scrollView.vScrollBar.offsetWidth,t._refreshHorizontalScrollBarVisibility(a)),t._scrollView.vScrollBar.$.hasClass("bottom-corner")&&t._scrollView.vScrollBar.refresh(),t._scrollView.hScrollBar.$.hasClass("bottom-corner")&&t._scrollView.hScrollBar.refresh()),t.isVirtualized&&t._recycle();const r=/Trident|Edge/.test(navigator.userAgent);!t.isRefreshing&&r&&setTimeout(function(){t.isRefreshing=!0,t._refreshLayout(),t.isRefreshing=!1},50)}_styleChangedHandler(){this._refreshLayout()}_swipeLeftHandler(){}_swipeRightHandler(){}_refreshHorizontalScrollBarVisibility(t){const e=this;e.scrollWidth=t,e.computedHorizontalScrollBarVisibility?(e.scrollLeft=e._getScrollLeft(e.$.itemsContainer.scrollLeft,t),e.$itemsContainer.addClass("hscroll")):e.$itemsContainer.removeClass("hscroll")}_refreshVerticalScrollBarVisibility(t){const e=this;e.scrollHeight=t,e.computedVerticalScrollBarVisibility?(e.$itemsContainer.addClass("vscroll"),e.$filterInputContainer.addClass("vscroll")):(e.$itemsContainer.removeClass("vscroll"),e.$filterInputContainer.removeClass("vscroll"))}_validateTemplate(t,e){if(null===e||!e)return;const n=this;return"content"in document.createElement("template")?null!==(e=document.getElementById(e))&&"content"in e?e:(n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:t})),void(n[t]=null)):(n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()})),void(n[t]=null))}_getItemIndexByPosition(t){const e=this;return(n=>{let a=0,i=n.length-1;if(t<=0)return 0;if(n[n.length-1].top<=t)return n.length-1;for(;;){const r=Math.floor((a+i)/2),o=n[r];if(e._isItemInPosition(o,t))return r;o.top<t?a=r+1:o.top>t&&(i=r-1)}})(e.filterable&&e.$.filterInput.value.length>0?e._filteredItems:e._items)}_isItemInPosition(t,e){return t.top<=e&&t.top+t.height>e}get isVirtualized(){const t=this;return t.virtualized&&t.dataSource&&t.dataSource.length>0}_recycle(){const t=this;if(!t._recyclingItems)return;let e=t._height;t._height||(e=t._height=t.$.itemsContainer.offsetHeight);let n=0;const a=t.scrollTop,i=t._getItemIndexByPosition(a),r=t.filterable&&t.$.filterInput.value.length>0?t._filteredItems:t._items,o=r[i];let s=o?o.top:0;if(t.$.itemsInnerContainer.style.left=-t.scrollLeft+"px",t.$.itemsInnerContainer.style.top=-a+s+"px",t.isUpdating++,i>=0){const d=r.length;for(let c=i;c<d;c++){const u=r[c];if(0!==u.height){if(!(s+u.height>=a&&s<=a+e))break;{const m=t._recyclingItems[n++];if(!m)break;m.setAttribute("aria-setsize",d),m.setAttribute("aria-posinset",c),m.context=document,m.dataItem=u,m.label=u.label,m.value=u.value,m.selected=u.selected,m._focused=u._focused,m.hidden=u.hidden,m.grouped=u.grouped,m.readonly=u.readonly,m.style.height=u.height+"px",t._alternateItem(m),m.title=u.title?u.title:"",m.displayMode=u.grouped?"plain":u.displayMode,t.scrollWidth>0&&(m.style.width=t.$.itemsInnerContainer.offsetWidth+t.scrollWidth+"px"),t.itemTemplate&&t._handleItemTemplate(t.itemTemplate)&&t._applyTemplate(m,!1)}s+=u.height}}}if(n<t._recyclingItems.length)for(let d=n;d<t._recyclingItems.length;d++){const c=t._recyclingItems[n++],u=c.context;c.context=document,c.hidden=!0,c.context=u}t.isUpdating--}_verticalScrollbarHandler(t){const e=this,n=t.detail.value;t&&t.stopPropagation&&t.stopPropagation(),e.isVirtualized?e._recycle():e.$.itemsContainer.scrollTop=n,e._updateTopVisibleIndex(),t.context.max!==t.context.value?t.context.min===t.context.value&&e.$.fireEvent("scrollTopReached"):e.$.fireEvent("scrollBottomReached")}_applyAriaSelected(){const t=this,e=t.isVirtualized?t._recyclingItems:t._items,n=t.selectionMode;for(let a=0;a<e.length;a++){const i=e[a];i.selected?i.setAttribute("aria-selected",!0):i.readonly||i.disabled||-1===["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox"].indexOf(n)?i.removeAttribute("aria-selected"):i.setAttribute("aria-selected",!1)}}})},64586:()=>{Smart("smart-pager",class extends Smart.BaseElement{static get properties(){return{autoEllipsis:{value:"none",type:"string",allowedValues:["none","before","after","both"]},messages:{value:{en:{firstButton:"First",lastButton:"Last",previousButton:"Previous",nextButton:"Next",navigateToLabel:"Go to:",pageSizeLabel:"Show:",navigateToInputPlaceholder:"",ellipsis:"...",summaryString:"of",summaryPrefix:"of",summarySuffix:""}},type:"object",extend:!0},navigationButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},navigationInputPosition:{value:"far",allowedValues:["near","far"],type:"string"},pageIndex:{value:0,type:"number"},pageIndexSelectors:{value:0,type:"any"},pagesCount:{value:100,type:"number?"},pageSize:{value:10,type:"number"},pageSizeSelectorPosition:{value:"far",allowedValues:["near","far"],type:"string"},pageSizeSelectorDataSource:{value:[10,25,50],type:"array"},showPrevNextNavigationButtons:{value:!1,type:"boolean"},showFirstLastNavigationButtons:{value:!1,type:"boolean"},showNavigationButtonLabels:{value:!1,type:"boolean"},showNavigationInput:{value:!1,type:"boolean"},showSummary:{value:!1,type:"boolean"},showPageSizeSelector:{value:!1,type:"boolean"},showPageIndexSelectors:{value:!1,type:"boolean"},summaryPosition:{value:"far",allowedValues:["near","far"],type:"string"},totalRecords:{value:null,type:"int?"}}}static get listeners(){return{click:"_navigationButtonsClickHandler","nextEllipsisButton.click":"_nextEllipsisButtonClickHandler","previousEllipsisButton.click":"_previousEllipsisButtonClickHandler",down:"_navigationButtonsDownHandler","navigateToInput.change":"_navigateToInputChangeHandler","nextButton.pointerenter":"_updateInBoundsFlag","nextButton.pointerleave":"_updateInBoundsFlag","pageIndexSelectorsContainer.click":"_pageIndexSelectorsContainerClickHandler","pageSizeSelector.change":"_pageSizeSelectorChangeHandler","previousButton.pointerenter":"_updateInBoundsFlag","previousButton.pointerleave":"_updateInBoundsFlag",keydown:"_keyDownHandler",resize:"_resizeHandler","document.up":"_stopRepeat"}}static get requires(){return{"Smart.DropDownList":"smart.dropdownlist.js"}}static get styleUrls(){return["smart.dropdown.css","smart.dropdownlist.css","smart.pager.css"]}template(){return'<div id="container" role="presentation">\n                    <div id="nearButtonsContainer" class="smart-pager-near-buttons-container" role="presentation">\n                        <div id="firstButton" class="smart-first-button smart-pager-button smart-unselectable" role="button" aria-label="First"></div>\n                        <div id="previousButton" class="smart-previous-page-button smart-pager-button smart-unselectable" role="button" aria-label="Previous"></div>\n                    </div>\n                    <div id="middleButtonsContainer" class="smart-pager-middle-buttons-container" role="presentation">\n                        <span id="previousEllipsisButton" class="smart-previous-ellipsis-button smart-pager-page-index-selector" role="button" aria-label="Previous group of pages"></span>\n                        <div id="pageIndexSelectorsContainer" tabindex="0" class="smart-pager-page-index-selectors-container" role="list"></div>\n                        <span id="nextEllipsisButton" class="smart-next-ellipsis-button smart-pager-page-index-selector" role="button" aria-label="Next group of pages"</span>\n                    </div>\n                    <div id="farButtonsContainer" class="smart-pager-far-buttons-container" role="presentation">\n                        <div id="nextButton" class="smart-next-page-button smart-pager-button smart-unselectable" role="button" aria-label="Next"></div>\n                        <div id="lastButton" class="smart-last-button smart-pager-button smart-unselectable" role="button" aria-label="Last"></div>\n                    </div>\n                    <div id="pagerInputAndLabelContainer" class="smart-pager-input-and-label-container" role="presentation">\n                        <span id="navigateToLabel" class="smart-pager-label"></span>\n                        <input type="text" id="navigateToInput" class="smart-pager-input smart-input" />\n                    </div>\n                    <div id="pagerSizeSelectorAndLabelContainer" class="smart-pager-size-selector-and-label-container">\n                        <span id="pageSizeLabel" class="smart-pager-label"></span>\n                        <smart-input id="pageSizeSelector" class="smart-page-size-selector"\n                                animation="[[animation]]"\n                                data-source="[[pageSizeSelectorDataSource]]"\n                                right-to-left="[[rightToLeft]]"\n                                drop-down-height="auto"\n                                drop-down-width="auto"\n                                drop-down-button-position="right"\n                                readonly\n                                selected-index="0"\n                                disabled="[[disabled]]"\n                                unfocusable="[[unfocusable]]">\n                        </smart-input>\n                    </div>\n                    <span id="pagerSummaryContainer" class="smart-pager-summary-container smart-pager-label"></span>\n                </div>'}ready(){super.ready()}render(){const t=this;t.$.navigateToLabel.id||(t.$.navigateToLabel.id=t.id+"NavigateToLabel"),t.$.pageSizeLabel.id||(t.$.pageSizeLabel.id=t.id+"PageSizeLabel"),t.$.pagerSummaryContainer.id||(t.$.pagerSummaryContainer.id=t.id+"SummaryContainer"),t.setAttribute("role","navigation"),t.setAttribute("aria-labelledby",t.$.pagerSummaryContainer.id),t.$.navigateToInput.setAttribute("aria-labelledby",t.$.navigateToLabel.id),t.$.pageSizeSelector.setAttribute("aria-labelledby",t.$.pageSizeLabel.id),t.$.pageSizeSelector.dropDownWidth=t.$.pageSizeSelector.offsetWidth,t._render(),super.render()}refresh(){this._render()}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"navigationButtonsPosition":return void a._renderButtons();case"navigationInputPosition":case"pageSizeSelectorPosition":case"summaryPosition":case"totalRecords":return void a._renderSettings()}a._render()}next(){this.navigateTo(this.pageIndex+1)}prev(){this.navigateTo(this.pageIndex-1)}beginUpdate(){this._updating=!0}endUpdate(){this._updating=!1,this._render()}_render(){const t=this;if(!t._updating&&(t.$.navigateToInput.value=(1+t.pageIndex).toString(),t._renderButtons(),t._renderPageIndexSelectors(),t._renderSettings(),t._renderVisibility(),t._localize(),t.$.pageSizeSelector&&t.showPageSizeSelector)){const e=t.pageSizeSelectorDataSource.indexOf(t.pageSize);if(e>=0){const n=t.$.pageSizeSelector.context;t.$.pageSizeSelector.context=t.$.pageSizeSelector,t.$.pageSizeSelector.selectedIndex=e,t.$.pageSizeSelector._setSelection(!1),t.$.pageSizeSelector.content=n}}}_resizeHandler(){this._renderVisibility()}_renderVisibility(){const t=this,e=t.offsetWidth-20;t._pageIndexSelectorsVisibleCount=t._pageIndexSelectorsCount,t.showSummary?t.$pagerSummaryContainer.removeClass("smart-hidden"):t.$pagerSummaryContainer.addClass("smart-hidden"),t.showPageIndexSelectors?t.$middleButtonsContainer.removeClass("smart-hidden"):t.$middleButtonsContainer.addClass("smart-hidden"),t.showNavigationInput?(t.$navigateToLabel.removeClass("smart-hidden"),t.$navigateToInput.removeClass("smart-hidden")):(t.$navigateToLabel.addClass("smart-hidden"),t.$navigateToInput.addClass("smart-hidden")),t.showPageSizeSelector?(t.$pageSizeLabel.removeClass("smart-hidden"),t.$pageSizeSelector.removeClass("smart-hidden")):(t.$pageSizeLabel.addClass("smart-hidden"),t.$pageSizeSelector.addClass("smart-hidden")),t.showFirstLastNavigationButtons?(t.$firstButton.removeClass("smart-hidden"),t.$lastButton.removeClass("smart-hidden")):(t.$firstButton.addClass("smart-hidden"),t.$lastButton.addClass("smart-hidden")),t.showPrevNextNavigationButtons?(t.$previousButton.removeClass("smart-hidden"),t.$nextButton.removeClass("smart-hidden")):(t.$previousButton.addClass("smart-hidden"),t.$nextButton.addClass("smart-hidden")),t.$previousEllipsisButton.addClass("smart-hidden"),t.$nextEllipsisButton.addClass("smart-hidden"),"after"!==t.autoEllipsis&&"none"!==t.autoEllipsis&&t.pageIndex>=t._pageIndexSelectorsCount&&t.$previousEllipsisButton.removeClass("smart-hidden"),"before"!==t.autoEllipsis&&"none"!==t.autoEllipsis&&t.pageIndex<t.pagesCount-t._pageIndexSelectorsCount&&t.$nextEllipsisButton.removeClass("smart-hidden");for(let i=0;i<t._pageIndexSelectorsCount&&t.$.pageIndexSelectorsContainer.children[i];i++)t.$.pageIndexSelectorsContainer.children[i].classList.remove("smart-hidden");const n=t.$.pagerSummaryContainer.offsetWidth?Math.max(100,t.$.pagerSummaryContainer.offsetWidth):0;let a=t.$.nearButtonsContainer.offsetWidth+t.$.middleButtonsContainer.offsetWidth+t.$.farButtonsContainer.offsetWidth+n+t.$.pagerInputAndLabelContainer.offsetWidth+t.$.pagerSizeSelectorAndLabelContainer.offsetWidth;if(a>0&&a>e&&(a-=t.$.pagerSummaryContainer.offsetWidth,t.$pagerSummaryContainer.addClass("smart-hidden"),a>e&&(a-=t.$.navigateToLabel.offsetWidth,a-=t.$.navigateToInput.offsetWidth,t.$navigateToLabel.addClass("smart-hidden"),t.$navigateToInput.addClass("smart-hidden"),a>e))){if(a-=t.$.pageSizeLabel.offsetWidth,a-=t.$.pageSizeSelector.offsetWidth,t.$pageSizeLabel.addClass("smart-hidden"),t.$pageSizeSelector.addClass("smart-hidden"),a>e){t.$previousEllipsisButton.addClass("smart-hidden"),t.$nextEllipsisButton.addClass("smart-hidden"),a-=t.$.previousEllipsisButton.offsetWidth,a-=t.$.nextEllipsisButton.offsetWidth;for(let i=t._pageIndexSelectorsCount-1;i>=0;i--){const r=t.$.pageIndexSelectorsContainer.children[i];if(a<e||!r)break;t._pageIndexSelectorsVisibleCount--,a-=r.offsetWidth,r.hasAttribute("selected")||r.classList.add("smart-hidden")}}a>e&&t.showFirstLastNavigationButtons&&(t.$firstButton.addClass("smart-hidden"),t.$lastButton.addClass("smart-hidden"))}}_renderSettings(){const t=this,e=t.totalRecords;let n=t.pageIndex*t.pageSize,a=(t.pageIndex+1)*t.pageSize,i=t.pagesCount*t.pageSize;null!==e&&(a===i&&(a=e),i=e,0===e&&(n=-1,a=0)),t.$pagerSummaryContainer.removeClass("near"),t.$pagerSizeSelectorAndLabelContainer.removeClass("near"),t.$pagerInputAndLabelContainer.removeClass("near"),"near"===t.summaryPosition&&t.$pagerSummaryContainer.addClass("near"),"near"===t.pageSizeSelectorPosition&&t.$pagerSizeSelectorAndLabelContainer.addClass("near"),"near"===t.navigationInputPosition&&t.$pagerInputAndLabelContainer.addClass("near"),t.$.pagerSummaryContainer.innerHTML='<span class="smart-summary-start" role="presentation">'+(1+n)+'</span> <span class="smart-summary-hyphen" role="presentation">-</span> <span class="smart-summary-end" role="presentation">'+a+'</span><span class="smart-summary-prefix" role="presentation">'+t.localize("summaryPrefix")+'</span> <span class="smart-summary-total-end" role="presentation">'+i+'</span> <span class="smart-summary-suffix" role="presentation">'+t.localize("summarySuffix")+"</span>"}get _pageIndexSelectorsCount(){const t=this;let e=parseInt(t.pageIndexSelectors);return Array.isArray(t.pageIndexSelectors)&&(e=t.pageIndexSelectors.length),e}_renderPageIndexSelectors(){const t=this;if(t.pageIndex<0||t.pageIndex>=t.pagesCount)return void(t.$.pageIndexSelectorsContainer.innerHTML="");t.$.pageIndexSelectorsContainer.innerHTML="";let e=!1;Array.isArray(t.pageIndexSelectors)&&(e=!0);let n=Math.floor(t.pageIndex/t._pageIndexSelectorsCount)*t._pageIndexSelectorsCount,a=Math.min(t.pagesCount,n+t._pageIndexSelectorsCount),i=0;for(let r=n;r<a;r++){const o=document.createElement("span");let s=r+1;if(o.className="smart-pager-page-index-selector",e){const d=t.pageIndexSelectors[i++];d&&(d.label?s=t.pageIndexSelectors[r].label:"string"==typeof d&&(s=d),d.value&&o.setAttribute("value",t.pageIndexSelectors[r].value))}o.index=r,o.innerHTML=s,o.setAttribute("role","listitem"),t.$.pageIndexSelectorsContainer.appendChild(o),r===t.pageIndex&&(o.classList.add("smart-selected"),o.setAttribute("selected",""),o.setAttribute("aria-current","page"))}}_lastButtonClickHandler(){this.last()}last(){this.navigateTo(this.pagesCount-1)}_firstButtonClickHandler(){this.first()}first(){this.navigateTo(0)}_renderButtons(){const t=this;switch(0===t.pageIndex?(t.$.firstButton.setAttribute("disabled",""),t.$.previousButton.setAttribute("disabled","")):(t.$.firstButton.removeAttribute("disabled"),t.$.previousButton.removeAttribute("disabled")),t.pageIndex===t.pagesCount-1?(t.$.nextButton.setAttribute("disabled",""),t.$.lastButton.setAttribute("disabled","")):(t.$.nextButton.removeAttribute("disabled"),t.$.lastButton.removeAttribute("disabled")),t.pagesCount<=0&&(t.$.firstButton.setAttribute("disabled",""),t.$.previousButton.setAttribute("disabled",""),t.$.nextButton.setAttribute("disabled",""),t.$.lastButton.setAttribute("disabled","")),t.$nearButtonsContainer.removeClass("far"),t.$farButtonsContainer.removeClass("far"),t.$nearButtonsContainer.removeClass("near"),t.$farButtonsContainer.removeClass("near"),t.navigationButtonsPosition){case"near":t.$nearButtonsContainer.addClass("near"),t.$farButtonsContainer.addClass("near");break;case"far":t.$nearButtonsContainer.addClass("far"),t.$farButtonsContainer.addClass("far");break;case"both":t.$nearButtonsContainer.addClass("near"),t.$farButtonsContainer.addClass("far")}}_navigateToInputChangeHandler(){const t=this;let e=parseInt(t.$.navigateToInput.value)-1;isNaN(e)&&(t.$.navigateToInput.value="1",e=parseInt(t.$.navigateToInput.value-1)),t.navigateTo(e)}_pageIndexSelectorsContainerClickHandler(t){const e=this.enableShadowDOM?t.composedPath()[0].closest(".smart-pager-page-index-selector"):t.target.closest(".smart-pager-page-index-selector");e&&!e.classList.contains("smart-selected")&&this.navigateTo(e.index)}_pageSizeSelectorChangeHandler(t){const e=this;!e.showPageSizeSelector||e.disabled||e._updating||(e.pageSize=parseInt(t.detail.value),e.$.fireEvent("pageSizeChanged",{value:parseInt(t.detail.value)}))}_keyDownHandler(t){const e=this;if(!e.disabled&&(e.enableShadowDOM&&e.shadowRoot.activeElement||document.activeElement)!==e.$.navigateToInput&&null===e.$.pageSizeSelector.getAttribute("focus"))switch(t.key){case"End":e.last(),t.preventDefault();break;case"Home":e.first(),t.preventDefault();break;case"PageDown":case"ArrowDown":case"ArrowLeft":e.prev(),t.preventDefault();break;case"PageUp":case"ArrowUp":case"ArrowRight":e.next(),t.preventDefault()}}_nextButtonClickHandler(){this.next()}_previousButtonClickHandler(){this.prev()}navigateTo(t){const e=this,n=e.pageIndex;e.disabled||e.pageIndex===t||t<0||t>=e.pagesCount||(e.pageIndex=t,e._render(),e.$.fireEvent("change",{oldIndex:n,index:t}))}_localize(){const t=this,e=["firstButton","lastButton","previousButton","nextButton"];for(let n=0;n<e.length;n++){const a=t.$[e[n]];!t.showNavigationButtonLabels&&n<2?(a.innerHTML="",a.classList.add(0===n?"smart-arrow-left-first":"smart-arrow-right-last")):!t.showNavigationButtonLabels&&n>=2?(a.innerHTML="",a.classList.add(2===n?"smart-arrow-left":"smart-arrow-right")):(a.classList.remove("smart-arrow-left"),a.classList.remove("smart-arrow-right"),a.classList.remove("smart-arrow-left-first"),a.classList.remove("smart-arrow-right-last"),a.innerHTML=t.localize(e[n]))}t.$.pageSizeLabel.innerHTML=t.localize("pageSizeLabel"),t.$.navigateToLabel.innerHTML=t.localize("navigateToLabel"),t.$.previousEllipsisButton.innerHTML=t.localize("ellipsis"),t.$.nextEllipsisButton.innerHTML=t.localize("ellipsis"),t.$.navigateToInput.placeholder=t.localize("navigateToInputPlaceholder")}_nextEllipsisButtonClickHandler(){const t=this;t.navigateTo(t._pageIndexSelectorsCount+t.pageIndex)}_previousEllipsisButtonClickHandler(){const t=this;t.navigateTo(-t._pageIndexSelectorsCount+t.pageIndex)}_navigationButtonsClickHandler(t){const e=this;if(!e.disabled)switch(e.enableShadowDOM?t.composedPath()[0].closest(".smart-pager-button"):t.target.closest(".smart-pager-button")){case e.$.firstButton:e._firstButtonClickHandler(t);break;case e.$.lastButton:e._lastButtonClickHandler(t);break;case e.$.previousButton:e._previousButtonClickHandler(t);break;case e.$.nextButton:e._nextButtonClickHandler(t)}}_navigationButtonsDownHandler(t){const e=this,n=e.enableShadowDOM?t.originalEvent.composedPath()[0].closest(".smart-pager-button")||t.originalEvent.composedPath()[0].closest(".smart-pager-page-index-selector"):t.originalEvent.target.closest(".smart-pager-button")||t.originalEvent.target.closest(".smart-pager-page-index-selector");!e.disabled&&n&&(e.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(n,t.pageX,t.pageY),n!==e.$.previousButton&&n!==e.$.nextButton||e._startRepeat(t,n))}_updateInBoundsFlag(t){const n=this.enableShadowDOM?t.composedPath()[0]:t.target;n._isPointerInBounds=!0,-1!==t.type.indexOf("leave")&&(n._isPointerInBounds=!1),1!==("buttons"in t?t.buttons:t.which)&&this._stopRepeat()}_startRepeat(t,e){const n=this;n._initialTimer||(n._initialTimer=setTimeout(function(){n._repeatTimer=setInterval(()=>{e._isPointerInBounds&&(e===n.$.previousButton?n._previousButtonClickHandler(t):n._nextButtonClickHandler(t))},50)},150))}_stopRepeat(){const t=this;t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null)}})},79774:()=>{Smart("smart-scroll-bar",class extends Smart.BaseElement{static get properties(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}static get styleUrls(){return["smart.scrollbar.css"]}template(){return'<div id="container" class="smart-container" role="presentation">\n                    <div id="nearButton" class="smart-scroll-button smart-arrow-left" role="presentation" aria-hidden="true"></div>\n                    <div  id="track" class="smart-track" role="presentation">\n                        <div id="thumb" class="smart-thumb" role="presentation"></div>\n                    </div>\n                    <div id="farButton" class="smart-scroll-button smart-arrow-right" role="presentation" aria-hidden="true"></div>\n            </div>'}static get listeners(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.down":"_startRepeat","nearButton.up":"_stopRepeat","nearButton.pointerenter":"_updateInBoundsFlag","nearButton.pointerleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.down":"_startRepeat","farButton.up":"_stopRepeat","farButton.pointerenter":"_updateInBoundsFlag","farButton.pointerleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","track.move":"_trackMoveHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}_updateInBoundsFlag(t){const n=t.target;n._isPointerInBounds=!0,-1!==t.type.indexOf("leave")&&(n._isPointerInBounds=!1),1!==("buttons"in t?t.buttons:t.which)&&this._stopRepeat(t)}_startRepeat(t){const e=this;if(e.disabled)return;const n=t.target;n._initialTimer||(n._initialTimer=setTimeout(function(){n._repeatTimer=setInterval(()=>{n._isPointerInBounds&&n.$.fireEvent("click",{buttons:"buttons"in t?t.buttons:t.which,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})},e.clickRepeatDelay)},3*e.clickRepeatDelay))}_stopRepeat(t){if(this.disabled)return;const e=t.target;e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null)}_calculateThumbSize(t){const e=this,n=e.max-e.min;let i=0;return n>=1&&("horizontal"===e.orientation?e.$.track.offsetWidth>10:e.$.track.offsetHeight>10)?(i=t/(n+t)*t,e.$.thumb.className.indexOf("smart-hidden")>=0&&e.$thumb.removeClass("smart-hidden")):e.$thumb.addClass("smart-hidden"),Math.max(10,Math.min(i,t))}_dragStartHandler(t){const e=this;e.disabled||(e.thumbCapture=!0,e.dragStartX=t.clientX,e.dragStartY=t.clientY,e.dragStartValue=e.value,t.stopPropagation(),t.preventDefault())}_dragHandler(t){const e=this;if(!0!==e.thumbCapture)return;e._isThumbDragged=!0;const n=(e.max-e.min)/(e.scrollBarSize-e.thumbSize),a="horizontal"===e.orientation?(t.clientX-e.dragStartX)*n:(t.clientY-e.dragStartY)*n;let i=a;e.rightToLeft&&"horizontal"===e.orientation&&(i=-a),e._updateValue(e.dragStartValue+i),t.stopPropagation(),t.preventDefault(),t.originalEvent&&(t.originalEvent.stopPropagation(),t.originalEvent.preventDefault())}_dragEndHandler(t){const e=this;e._trackDownTimer&&(clearInterval(e._trackDownTimer),e._trackDownTimer=null),e.thumbCapture&&(e.thumbCapture=!1,e._isThumbDragged=!1,"switchWhenReleased"===e.mechanicalAction?e._updateValue(e.dragStartValue,e.value):"switchUntilReleased"===this.mechanicalAction&&e._updateValue(e.dragStartValue),t.preventDefault(),t.stopPropagation(),t.originalEvent.preventDefault(),t.originalEvent.stopPropagation())}_farButtonClickHandler(){const t=this;if(t.disabled)return;const e=t.value;t._updateValue(t.value+("horizontal"===t.orientation&&t.rightToLeft?-1:1)*t.step),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(e)}_nearButtonClickHandler(){const t=this;if(t.disabled)return;const e=t.value;t._updateValue(t.value-("horizontal"===t.orientation&&t.rightToLeft?-1:1)*t.step),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(e)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"min":case"max":case"orientation":case"showButtons":a._layout(),"min"===t?a.setAttribute("aria-valuemin",n):"max"===t?a.setAttribute("aria-valuemax",n):"orientation"===t&&a.setAttribute("aria-orientation",n);break;case"value":a._updateValue(e,n);break;default:a._layout()}}render(){const t=this;t.setAttribute("role","scrollbar"),t.setAttribute("aria-orientation",t.orientation),t.setAttribute("aria-valuemin",t.min),t.setAttribute("aria-valuemax",t.max),t.setAttribute("aria-valuenow",t.value),t._layout(),super.render()}_resizeHandler(){this._layout()}refresh(){this._layout()}beginUpdate(){this._isUpdating=!0}endUpdate(){this._isUpdating=!1,this.refreshValue()}refreshValue(){const t=this;t._layout(),t._updateValue(t.value)}_layout(){const t=this;t._isUpdating||(t.scrollBarSize="horizontal"===t.orientation?t.$.track.offsetWidth:t.$.track.offsetHeight,t.thumbSize=t._calculateThumbSize(t.scrollBarSize),"horizontal"===t.orientation&&t.$.thumb.style.width!==t.thumbSize+"px"?t.$.thumb.style.width=t.thumbSize+"px":"vertical"===t.orientation&&t.$.thumb.style.height!==t.thumbSize+"px"&&(t.$.thumb.style.height=t.thumbSize+"px"),"horizontal"===t.orientation?(t.$.nearButton.classList.contains("smart-arrow-up")&&t.$.nearButton.classList.remove("smart-arrow-up"),t.$.farButton.classList.contains("smart-arrow-down")&&t.$.farButton.classList.remove("smart-arrow-down"),t.$.nearButton.classList.contains("smart-arrow-left")||t.$.nearButton.classList.add("smart-arrow-left"),t.$.farButton.classList.contains("smart-arrow-right")||t.$.farButton.classList.add("smart-arrow-right")):(t.$.nearButton.classList.contains("smart-arrow-left")&&t.$.nearButton.classList.remove("smart-arrow-left"),t.$.farButton.classList.contains("smart-arrow-right")&&t.$.farButton.classList.remove("smart-arrow-right"),t.$.nearButton.classList.contains("smart-arrow-up")||t.$.nearButton.classList.add("smart-arrow-up"),t.$.farButton.classList.contains("smart-arrow-down")||t.$.farButton.classList.add("smart-arrow-down")),t._updateThumbPosition(),(t.value>t.max||t.value<t.min)&&t._updateValue(t.value,t.value>t.max?t.max:t.min))}_selectStartHandler(t){this.thumbCapture&&t.preventDefault()}_trackDownHandler(t){const e=this;t.target===e.$.track&&(e._trackDownTimer&&clearInterval(e._trackDownTimer),e.thumbCapture||(e._trackDownTimer=setInterval(function(){e._trackClickHandler(t)},e.clickRepeatDelay),t.stopPropagation(),t.preventDefault()))}_trackClickHandler(t){const e=this;if(e.disabled)return;if(e._isThumbDragged)return clearInterval(e._trackDownTimer),void(e._trackDownTimer=null);const n=e.$.thumb.getBoundingClientRect(),a=t.pageX-window.pageXOffset,i=t.pageY-window.pageYOffset,r=(e.rightToLeft?-1:1)*e.value;"horizontal"===e.orientation?a>(e._isThumbDragged?e.dragStartX:n.right)?e._updateValue(e.value+(e.rightToLeft?-1:1)*e.largeStep):a<(e._isThumbDragged?e.dragStartX:n.left)&&e._updateValue(e.value-(e.rightToLeft?-1:1)*e.largeStep):i>(e._isThumbDragged?e.dragStartY:n.bottom)?e._updateValue(e.value+e.largeStep):i<(e._isThumbDragged?e.dragStartY:n.top)&&e._updateValue(e.value-e.largeStep),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(r)}_trackMoveHandler(t){"touchmove"===t.originalEvent.type&&t.originalEvent.preventDefault()}_updateValue(t,e){const n=this;if(!n._isUpdating&&(1===arguments.length&&(e=t,t=n.value),(void 0===e||isNaN(e))&&(e=n.min),e>n.max&&(e=n.max),e<n.min&&(e=n.min),n.value=e,t!==e)){if(n.setAttribute("aria-valuenow",e),n._updateThumbPosition(),n.thumbCapture&&"switchWhenReleased"===n.mechanicalAction)return;if(n.onChange)return void n.onChange({value:n.value,oldValue:t,min:n.min,max:n.max,context:n});n.$.fireEvent("change",{value:n.value,oldValue:t,min:n.min,max:n.max})}}_updateThumbPosition(){const t=this,e="horizontal"===t.orientation?t.$.track.offsetWidth:t.$.track.offsetHeight,n=t._calculateThumbSize(e);let i=(e-n)/(t.max-t.min)*(t.value-t.min);t.rightToLeft&&"horizontal"===t.orientation&&(i=(e-n)/(t.max-t.min)*(t.max-t.value-t.min)),i=Math.min(e-n,Math.max(0,i)),"vertical"===t.orientation&&t.$.thumb.style.top!==i+"px"?t.$.thumb.style.top=i+"px":"horizontal"===t.orientation&&t.$.thumb.style.left!==i+"px"&&(t.$.thumb.style.left=i+"px")}})},9699:()=>{Smart("smart-table",class extends Smart.ContentElement{static get properties(){return{autoLoadState:{value:!1,type:"boolean"},autoSaveState:{value:!1,type:"boolean"},columnGroups:{value:null,type:"array?"},columnMinWidth:{value:"50px",type:"any"},columnReorder:{value:!1,type:"boolean"},columnResize:{value:!1,type:"boolean"},columnResizeFeedback:{value:!1,type:"boolean"},columnResizeNormalize:{value:!1,type:"boolean"},columns:{value:[],type:"any?",reflectToAttribute:!1},columnSizeMode:{value:"default",allowedValues:["auto","default"],type:"string"},conditionalFormatting:{value:null,type:"array?",reflectToAttribute:!1},conditionalFormattingButton:{value:!1,type:"boolean"},deferredScrollDelay:{value:1,type:"number"},dataRowId:{value:null,type:"string?"},dataSource:{value:null,type:"any?",reflectToAttribute:!1},dataSourceSettings:{value:{autoGenerateColumns:{value:!1,type:"boolean"},sanitizeHTML:{value:"blackList",allowedValues:["all","blackList","none"],type:"string"},sanitizeHTMLRender:{value:"text",allowedValues:["text","html"],type:"string"},root:{value:"",type:"string"},record:{value:"",type:"string"},keyDataField:{value:"",type:"string"},parentDataField:{value:"",type:"string"},childrenDataField:{value:"",type:"string"},groupBy:{value:[],type:"array"},dataFields:{value:[],type:"array"},mapChar:{value:".",type:"string"},id:{value:"",type:"string"},virtualDataSource:{value:null,type:"any"},virtualDataSourceOnExpand:{value:null,type:"any"}},type:"object"},dataTransform:{value:null,type:"function?",reflectToAttribute:!1},editing:{value:!1,type:"boolean"},editMode:{value:"cell",allowedValues:["cell","row"],type:"string"},expandHierarchy:{value:!1,type:"boolean"},filtering:{value:!1,type:"boolean"},columnMenu:{value:!1,type:"boolean"},filterRow:{value:!1,type:"boolean"},filterTemplate:{value:null,type:"string?"},filterOperator:{value:"and",type:"string?"},footerRow:{value:null,type:"string?"},formulas:{value:!1,type:"boolean"},freezeFooter:{value:!1,type:"boolean"},freezeHeader:{value:!1,type:"boolean"},grouping:{value:!1,type:"boolean"},groupFormatFunction:{value:null,type:"any"},headerRow:{value:null,type:"any"},hideSelectionColumn:{value:!1,type:"boolean"},keyboardNavigation:{value:!1,type:"boolean"},loadColumnStateBehavior:{value:"implementationOnly",allowedValues:["stateOnly","implementationOnly","intersection"],type:"string"},messages:{value:{en:{add:"Add condition",all:"All columns",apply:"Apply",between:"Between",cancel:"Cancel",clearFilter:"Clear filter",close:"Close",column:"Column:",condition:"Condition:",conditionalFormatting:"Conditional Formatting",CONTAINS:"contains",CONTAINS_CASE_SENSITIVE:"contains (case sensitive)",DOES_NOT_CONTAIN:"does not contain",DOES_NOT_CONTAIN_CASE_SENSITIVE:"does not contain (case sensitive)",EMPTY:"empty",ENDS_WITH:"ends with",ENDS_WITH_CASE_SENSITIVE:"ends with (case sensitive)",EQUAL:"equal",equal:"Equal To",EQUAL_CASE_SENSITIVE:"equal (case sensitive)",filterCondition:"Filter condition",filterPlaceholder:"Filter",firstButton:"First",fontFamily:"Font family:",fontSize:"Font size:",format:"Format:",formatColumn:"Format Column",GREATER_THAN:"greater than",GREATER_THAN_OR_EQUAL:"greater than or equal",greaterThan:"Greater Than",highlight:"Highlight",invalidValue:"Invalid value",itemsPerPage:"Items per page:",lastButton:"Last",LESS_THAN:"less than",LESS_THAN_OR_EQUAL:"less than or equal",lessThan:"Less Than",nextButton:"Next",NOT_EMPTY:"not empty",NOT_EQUAL:"not equal",NOT_NULL:"not null",notEqual:"Not Equal To",NULL:"null",ok:"OK",previousButton:"Previous",remove:"Remove condition",secondValue:"Second value:",STARTS_WITH:"starts with",STARTS_WITH_CASE_SENSITIVE:"starts with (case sensitive)",summaryPrefix:"of",text:"Text",value:"Value:",with:"with",columnMenuItemSortAsc:"Sort Ascending",columnMenuItemSortDesc:"Sort Descending",columnMenuItemReset:"Reset",columnMenuItemRemoveSort:"Remove Sort",columnMenuItemFilter:"Show rows where:",columnMenuItemRemoveFilter:"Remove Filter",columnMenuItemColumns:"Columns",grouping:"Group field name is not found in the dataFields collection!"}},type:"object",extend:!0},onCellRender:{value:null,type:"function?",reflectToAttribute:!1},onColumnRender:{value:null,type:"function?",reflectToAttribute:!1},onUpdateComplete:{value:null,type:"function?",reflectToAttribute:!1},onInit:{value:null,type:"function?",reflectToAttribute:!1},onLoad:{value:null,type:"function?",reflectToAttribute:!1},pageSize:{value:10,allowedValues:[10,25,50],type:"int"},pageIndex:{value:0,type:"int"},paging:{value:!1,type:"boolean"},rowDetailTemplate:{value:null,type:"string?"},selected:{value:[],type:"array",reflectToAttribute:!1},selection:{value:!1,type:"boolean"},selectionMode:{value:"many",type:"string",allowedValues:["one","many","extended"]},selectionByHierarchy:{value:!0,type:"boolean"},sort:{value:null,type:"function?",reflectToAttribute:!1},sortMode:{value:"none",type:"string",allowedValues:["none","one","many"]},stateSettings:{value:["columns","expanded","filtered","grouped","selected","sorted"],type:"array"},tooltip:{value:!1,type:"boolean"},virtualization:{value:!1,type:"boolean"}}}static get listeners(){return{resize:"_resizeHandler","conditionalFormattingButton.click":"_conditionalFormattingButtonClickHandler","filterInput.keyup":"_filterInputKeyupHandler","pager.change":"_pagerChangeHandler","pager.pageSizeChanged":"_pagerPageSizeChanged","tableContainer.change":"_tableContainerChangeHandler","tableContainer.click":"_tableContainerClickHandler","tableContainer.down":"_tableContainerDownHandler","tableContainer.focus":"_tableContainerFocusHandler","tableContainer.pointerover":"_tableContainerPointeroverHandler","document.down":"_documentDownHandler","document.keydown":"_tableContainerKeydownHandler","document.keyup":"_tableContainerKeyupHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}template(){return Smart.Templates[this.nodeName]&&delete Smart.Templates[this.nodeName],this.virtualization?'<div id="container" class="smart-container" role="presentation">\n                        <div id="header" class="smart-table-header" role="toolbar">\n                            <smart-input id="filterInput" class="underlined" animation="[[animation]]" locale="[[locale]]" right-to-left="[[rightToLeft]]" theme="[[theme]]"></smart-input>\n                            <div id="filterTemplateContainer" class="smart-table-filter-template-container smart-hidden"></div>\n                            <smart-button id="conditionalFormattingButton" class="smart-table-toolbar-button conditional-formatting" animation="[[animation]]" right-to-left="[[rightToLeft]]" theme="[[theme]]" aria-label="Conditional Formatting"></smart-button>\n                        </div>\n                        <smart-scroll-viewer style="opacity: 0.99" id="virtualizationContainer" class="smart-table-virtualization-container" right-to-left="[[rightToLeft]]" theme="[[theme]]">\n                            <table id="tableContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-table-container">\n                                <content></content>\n                            </table>\n                        </smart-scroll-viewer>\n                        <smart-pager id="pager" animation="[[animation]]" locale="[[locale]]" page-index="[[pageIndex]]" page-size="[[pageSize]]" pages-count="null" show-first-last-navigation-buttons show-page-size-selector show-prev-next-navigation-buttons show-summary right-to-left="[[rightToLeft]]" theme="[[theme]]"></smart-pager>\n                        <div id="loadingIndicatorContainer" class="smart-loader-container smart-hidden" aria-label="Loading">\n                            <span id="loadingIndicator" class="smart-loader" role="presentation"></span>\n                        </div>\n                    </div>':'<div id="container" class="smart-container" role="presentation">\n                    <div id="header" class="smart-table-header" role="toolbar">\n                        <smart-input id="filterInput" class="underlined" animation="[[animation]]" locale="[[locale]]" right-to-left="[[rightToLeft]]" theme="[[theme]]"></smart-input>\n                        <div id="filterTemplateContainer" class="smart-table-filter-template-container smart-hidden"></div>\n                        <smart-button id="conditionalFormattingButton" class="smart-table-toolbar-button conditional-formatting" animation="[[animation]]" right-to-left="[[rightToLeft]]" theme="[[theme]]" aria-label="Conditional Formatting"></smart-button>\n                    </div>\n                    <table id="tableContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-table-container">\n                        <content></content>\n                    </table>\n                    <smart-pager id="pager" animation="[[animation]]" locale="[[locale]]" page-index="[[pageIndex]]" page-size="[[pageSize]]" pages-count="null" show-first-last-navigation-buttons show-page-size-selector show-prev-next-navigation-buttons show-summary right-to-left="[[rightToLeft]]" theme="[[theme]]"></smart-pager>\n                    <div id="loadingIndicatorContainer" class="smart-loader-container smart-hidden" aria-label="Loading">\n                        <span id="loadingIndicator" class="smart-loader" role="presentation"></span>\n                    </div>\n                </div>'}resetState(t){const e=this;switch(t){case"expanded":e._expandedIds=[],e._state.expanded=[];break;case"selected":e._selectedIds=[],e._disabledSelection=[],e._selectableGroupRecords=[],e.set("selected",[]),e._state.selected=[];break;default:e._dblclickObject={numberOfClicks:0},e._expandedIds=[],e._selectedIds=[],e._disabledSelection=[],e._selectableGroupRecords=[],e._state={expanded:[],selected:[],sorted:[]},e.set("selected",[])}}render(){this._render(),super.render()}_render(){const t=this,e=getComputedStyle(t);if(t.setAttribute("role","presentation"),t.$.tableContainer.id=t.id+"TableContainer",t._cachedWidth=t.offsetWidth,t._cachedHeight=t.offsetHeight,t._defaults={fontFamily:e.fontFamily,fontSize:e.fontSize,text:t._toHex(e.color),highlight:t._toHex(e.backgroundColor)},t._isMobile=Smart.Utilities.Core.isMobile,t._autoScrollCoefficient=Smart.Utilities.Core.Browser.Firefox?8:Smart.Utilities.Core.Browser.Edge?16:4,t._dblclickObject={numberOfClicks:0},t._expandedIds=[],t._selectedIds=[],t._collapsedIds=[],t._disabledSelection=[],t._selectableGroupRecords=[],t._state={expanded:[],selected:[],sorted:[]},t._rowHeight=parseFloat(e.getPropertyValue("--smart-table-row-height")),t._rowDetailHeight=parseFloat(e.getPropertyValue("--smart-table-row-detail-height")),t._animation=t.animation,t._setFocusable(),t.selection&&t.$.tableContainer.setAttribute("aria-multiselectable",!0),t.virtualization){const n=t.$.virtualizationContainer,a=t;n&&(n._mouseWheelHandler=function(i){const r=n;if(!r.disabled&&(r.computedHorizontalScrollBarVisibility||r.computedVerticalScrollBarVisibility)){if(i.shiftKey&&r.computedHorizontalScrollBarVisibility){const o=r.scrollLeft;return 0===o&&i.deltaX<0||o===r.scrollHeight&&i.deltaX>0?void 0:(i.stopPropagation(),i.preventDefault(),void(r.scrollWidth>0&&r.scrollTo(void 0,r.scrollLeft+r._getScrollCoefficient(i,r.offsetWidth))))}if(r.computedVerticalScrollBarVisibility){const o=r.scrollTop;if(0===o&&i.deltaY<0||o===r.scrollHeight&&i.deltaY>0)return;if(i.stopPropagation(),i.preventDefault(),r.scrollHeight>0){let s=3*a._rowHeight;i.deltaY<=0&&(s=-3*a._rowHeight),Math.abs(i.deltaY)>=100?r.scrollTop+=s:r.scrollTop+=i.deltaY}}}},n._verticalScrollbarHandler=function(i){0===t.deferredScrollDelay?t._onVerticalChange(i):(t._verticalScrollTimer&&(clearTimeout(t._verticalScrollTimer),delete t._verticalScrollTimer),t._verticalScrollTimer=setTimeout(()=>{t._onVerticalChange(i),delete t._verticalScrollTimer},t.deferredScrollDelay))}),n.hasStyleObserver=!1,n.$.verticalScrollBar.hasStyleObserver=!1,n.$.horizontalScrollBar.hasStyleObserver=!1,t.freezeHeader=!0,t.freezeFooter=!0}t.isRendered?t.innerHTML&&t.innerHTML.trim().length>1?t._initDataSourceFromHTML():t._fullRefresh():(t._createElement(),setTimeout(()=>{const n=t.querySelectorAll("tr[row-id]");if(n.length>0){let a=!1;for(let i=0;i<n.length;i++){const r=n[i];t._rowHeight<r.offsetHeight&&(t._rowHeight=r.offsetHeight,a=!0)}a&&(t.style.setProperty("--smart-table-row-height",t._rowHeight+"px"),t._refreshDataRows())}t.onLoad&&t.onLoad()},500),t.columnMenu&&(t._initialState=t.getState()),super.render())}_initDataSourceFromHTML(){const t=this,e=t.context;t.context=t,t.hasAttribute("smart-blazor")&&(t.$.tableContainer.innerHTML="");const n=t.columns;t.dataSource=null,t.rows=null,t.columns=null;const a=t.querySelectorAll("th");let i=[],r=[],o=[];for(let c=0;c<a.length;c++){const u=a[c].innerHTML.trim();i.push({label:u,dataField:u,dataType:"string"}),r.push(u)}if(0===a.length&&n&&n.length>0)for(let c=0;c<n.length;c++){const u=n[c];let m={label:u.label,dataField:u.dataField,dataType:u.dataType};u.width&&(m.width=u.width),u.allowResize&&(m.allowResize=u.allowResize),u.allowFilter&&(m.allowFilter=u.allowFilter),u.allowSort&&(m.allowSort=u.allowSort),u.allowHide&&(m.allowHide=u.allowHide),u.allowMenu&&(m.allowMenu=u.allowMenu),u.freeze&&(m.freeze=u.freeze),u.responsivePriority&&(m.responsivePriority=u.responsivePriority),u.columnGroup&&(m.columnGroup=u.columnGroup),i.push(m),r.push({name:u.dataField,dataType:u.dataType})}const s=t.querySelectorAll("tr");for(let c=0;c<s.length;c++){const u={},m=s[c].querySelectorAll("td");if(m.length>0){for(let h=0;h<i.length;h++)u[i[h].dataField]=m[h].innerHTML.trim();o.push(u)}}const d=new Smart.DataAdapter({dataSource:o,expandHierarchy:t.expandHierarchy,dataFields:r,id:t.dataRowId});t.$.tableContainer.innerHTML="",t.columns=i,t.context=e,t.dataSource=d}attached(){const t=this;super.attached(),t.isCompleted&&t._dialog&&(t._addDialogHandlers(),t.getShadowRootOrBody().appendChild(t._dialog)),t.isRendered&&t.isCompleted&&t.endUpdate()}detached(){const t=this;if(super.detached(),t._focusedCell&&!t.$.tableContainer.contains(t._focusedCell)&&delete t._focusedCell,!t._dialog)return;t._detachCachedTemplates();const e=t._dialog;e.removeEventListener("change",t._dialogEventHandler),e.removeEventListener("clear",t._dialogEventHandler),e.removeEventListener("click",t._dialogEventHandler),e.removeEventListener("close",t._dialogEventHandler),e.removeEventListener("filter",t._dialogEventHandler),e.remove()}addFilter(t,e){const n=this,a=n.columnByDataField[t];"string"==typeof e?e=n.dataSource._createFilter(a.dataType,[e]):Array.isArray(e)&&(e=n.dataSource._createFilter(a.dataType,e)),a&&!1!==a.allowFilter&&e instanceof Smart.Utilities.FilterGroup!=0&&(t=a.dataField,n._clearSortByRow&&n._clearSortByRow(!0),n._designerFiltersApplied&&n._clearDesignerFilters(),n._filterInfo.appliedFilters||(n._filterInfo.appliedFilters={}),n._filterInfo.appliedFilters[t]=e,n._refreshFilters("add"),a.headerCellElement&&a.headerCellElement.setAttribute("filter",""),n.$.filterInput&&e&&!n.filterRow&&!n.columnMenu&&(n.$.filterInput.value=e.filters[e.filters.length-1].value,n._filterInfo.query=n.$.filterInput.value),n._originalDynamicColumnsOrder&&(n._originalDynamicColumnsOrder=n._dynamicColumns.map(i=>i.id)))}addGroup(t){const e=this;if(!e.grouping)return;const n=e.columnByDataField[t];if(!n||!1===n.allowGroup)return;const a=e.dataSource,i=a.groupBy;-1===i.indexOf(t=n.dataField)&&(i.push(t),a.refreshHierarchy(),e._getSelectableGroupRecords(),e._fullRefresh(),e._updateState("grouped"),e._doNotFireEvent||e.$.fireEvent("group",{action:"add",dataField:t}))}beginEdit(t,e){const n=this;if(!n.editing)return;const a=n.columnByDataField[e];if(e=a?a.dataField:void 0,"cell"===n.editMode&&!e||a&&!1===a.allowEdit)return;const i=n.rowById[t];if(!i)return;const r=i.data.$.id;n._editing&&n.endEdit(),n._beginEdit({rowId:r,rowObject:i,dataField:e})}cancelEdit(){const t=this,e=t._editing;if(e){for(let n=0;n<e.cells.length;n++){const a=e.cells[n];a.editor.contains(t.getRootNode().activeElement)&&t._focusCell(a.element),a.editor.remove(),t._setCellContent(a.element,t._formatCellValue(e.row,t.columnByDataField[a.dataField],a.element)),a.element.classList.remove("editing")}delete t._editing}}clearFilters(t=null){const e=this,n=e._filterInfo;(n.inputFilters||n.rowFilters||n.appliedFilters)&&(e._clearFilterInput(),e._clearRowFilters(t),delete e._filterInfo.appliedFilters,e.dataSource.virtualDataSource||e.dataSource.clearFilter(),e._fullRefresh("filter"),e._updateState("filtered"),e._doNotFireEvent||e.$.fireEvent("filter",{action:"remove"}))}clearGrouping(){const t=this,e=t.dataSource;0!==e.groupBy.length&&(e.groupBy=[],e.refreshHierarchy(),t._getSelectableGroupRecords(),t._fullRefresh(),t._updateState("grouped"),t.$.fireEvent("group",{action:"remove"}))}clearSelection(){this._clearSelection(!0)}collapseAllRows(){const t=this;t._isExpandCollapseForbidden()||(function e(n){for(let a=0;a<n.length;a++){const i=n[a];if(!i.leaf&&(i.children&&e(i.children),i.expanded)){if(t.virtualization){const r=i.$.id,o=t.rowById?t.rowById[r]:t.rows.dataItemById[r];(o.data||o).expanded=!1,t._collapsedIds[r]=!0;continue}t.collapseRow(i.$.id)}}}(t["smart-table"===t.nodeName.toLowerCase()?"dataSource":"rows"].boundHierarchy),t.virtualization&&(t._expandedIds=[],t.dataSource.refreshHierarchy(),t._refreshDataRows(),t._updateState("expanded")))}collapseGroup(t){const e=this;if(!e.grouping||0===e.dataSource.groupBy.length)return;const n=e._getGroupByIndex(t);if(!n||!n.expanded)return;const a=e.$.tableContainer.querySelector(`tr[row-id="${n.$.id}"]:not([unused])`);if(!a){n.expanded=!1;let i=n.$.id;return null==i?void e.refresh():i.replace?(i=i.replace("Item","").replace(/_/gi,"."),void e.$.fireEvent("group",{action:"collapse",path:i,dataField:n.groupDataField,label:n.label})):(e.refresh(),void e.$.fireEvent("group",{action:"collapse",path:i,dataField:n.groupDataField,label:n.label}))}if(e._isCollapsed(n))return a.setAttribute("aria-expanded",!1),a.classList.remove("expanded"),void(n.expanded=!1);e._hierarchyArrowClickHandler(a)}collapseRow(t){const e=this;if(e._isExpandCollapseForbidden())return;const n=e.rowById?e.rowById[t]:e.rows.dataItemById[t],a=n.data||n;if(!n||a.leaf||!a.expanded)return;const i=e.$.tableContainer.querySelector(`tr[row-id="${t}"]:not([unused])`);return i?e._isCollapsed(a)?(i.setAttribute("aria-expanded",!1),i.classList.remove("expanded"),a.expanded=!1,e._expandedIds=e._expandedIds.filter(r=>r!==a.$.id),e._updateState("expanded"),void e.$.fireEvent("collapse",{record:a})):void e._hierarchyArrowClickHandler(i):(a.expanded=!1,e._expandedIds=e._expandedIds.filter(r=>r!==a.$.id),void e._updateState("expanded"))}collapseRowDetails(t){const e=this;if(!e.rowDetailTemplate)return;const n=e.rowById?e.rowById[t]:e.rows.dataItemById[t],a=n.data||n;if(!n||!a)return;const i=e.$.tableContainer.querySelector(`tr[row-id="${t}"]:not([unused])`);if(!i)return;const r=i.nextElementSibling;r&&r.classList.contains("smart-table-row-detail")&&!r.classList.contains("collapsed")&&e._toggleRowDetail(i,a.$.id)}collapseAllRowDetails(){const t=this;if(!t.rowDetailTemplate||!t.dataSource)return;let e=t.dataSource.boundSource;e||(e=t.$.tableContainer.querySelectorAll("tr[row-id]:not([unused])"));for(let n=0;n<e.length;n++)t.collapseRowDetails(e[n].$.id)}expandAllRowDetails(){const t=this;if(!t.rowDetailTemplate||!t.dataSource)return;let e=t.dataSource.boundSource;e||(e=t.$.tableContainer.querySelectorAll("tr[row-id]:not([unused])"));for(let n=0;n<e.length;n++)t.expandRowDetails(e[n].$.id)}updateRow(t,e,n){const a=this,i=a.rowById?a.rowById[t]:a.rows.dataItemById[t];if(!i)return;const r=a._selectedIds.slice(0);a._editing=!0,a.__updatedRows=!0;let o=[];a.dataSource&&a.dataSource.groupBy&&a.dataSource.groupBy.toArray&&(o=a.dataSource.groupBy.toArray().slice(0));const s=a.dataSource.boundSource.canNotify;a.dataSource.boundSource.canNotify=!1;const d=c=>{if(i.data[c]=e[c],a.dataSource.id&&i&&i.data&&i.data.$&&(i.data.$.id=e[a.dataSource.id]),i&&i.data.$&&void 0!==i.data.$.index){const u=i.data.$.index,m=a.dataSource.dataSource,h=()=>{const y=e[c];if(null==y){const _=a.columnByDataField[c];return _?"number"===_.dataType?0:"boolean"!==_.dataType&&("date"===_.dataType?new Date:""):""}return y};if(m&&m[u]&&(m[u][c]=h()),a.dataSource[u]){if(o.length>0&&!a._dirtyHierarchy&&a.dataSource[u][c]!==h()&&o.indexOf(c)>=0){const y=a._getExpandedGroups(a.dataSource.boundHierarchy);a._dirtyHierarchy=y}a.dataSource[u][c]=h()}}};for(let c=0;c<a.columns.length;c++){const u=a.columns[c];void 0!==e[u.dataField]&&d(u.dataField)}if(n){const c=a.dataSource.dataFields;if(c)for(let u=0;u<c.length;u++)d(c[u].map?c[u].map:c[u].name)}a._editing=!1,a.dataSource.boundSource.canNotify=s,a.__updating||(a.dataSource.refreshHierarchy(),a._fullRefresh(void 0,r,"update"))}addRow(t){const e=this;let n=[];const a=e.dataSource.boundSource.canNotify;e.dataSource.boundSource.canNotify=!1,e._editing=!0,e.__updatedRows=!0,e.dataSource&&e.dataSource.groupBy&&e.dataSource.groupBy.toArray&&(n=e.dataSource.groupBy.toArray().slice(0),n.length>0&&e.dataSource.beginUpdate()),n.length>0?e.dataSource?e.dataSource.add(t,!0):e._addNewRow(t,0):e.dataSource?e.dataSource.boundHierarchy&&e.$.tableContainer&&"treegrid"===e.$.tableContainer.getAttribute("role")?e.dataSource.add(t,t[e.dataSource.parentDataField]):e.dataSource.add(t,!0):e._addNewRow(t,0),e.dataSource.boundSource.canNotify=a,e._editing=!1,e._updateSelectAllState(),n.length>0||e.dataSource.boundHierarchy&&e.$.tableContainer&&"treegrid"===e.$.tableContainer.getAttribute("role")?(e._dataSourceUpdatingTimer&&clearTimeout(e._dataSourceUpdatingTimer),e._dataSourceUpdatingTimer=setTimeout(()=>{e._doNotFireEvent=!0;const i=e._getExpandedGroups(e.dataSource.boundHierarchy);n.forEach(r=>e.addGroup(r)),e.dataSource.endUpdate(),e._restoreExpandedGroups(i),e._fullRefresh("update"),e._doNotFireEvent=!1},50)):(e._dataSourceUpdatingTimer&&clearTimeout(e._dataSourceUpdatingTimer),e._dataSourceUpdatingTimer=setTimeout(()=>{e._doNotFireEvent=!0,e._fullRefresh("update"),e._doNotFireEvent=!1}))}removeRow(t){const e=this,n=e.rowById?e.rowById[t]:e.rows.dataItemById[t];if(!n){if(e.dataSource&&e.dataSource.dataItemById){const s=e.dataSource.dataItemById[t];s&&(e.dataSource.removeAt(void 0!==s.$?s.$.index:0),e._selectedIds.indexOf(t)>=0&&(e._selectedIds.splice(e._selectedIds.indexOf(t),1),e._updateSelectAllState(),e._updateState("selected"),e.$.fireEvent("change",{type:"remove"})),e.virtualization&&e.__updating||e._fullRefresh("update"))}return}const a=n.data||n,i=void 0!==a.$?a.$.index:0,r=e.dataSource.boundSource.canNotify;e.dataSource.boundSource.canNotify=!1,e._editing=!0,e.__updatedRows=!0;let o=[];e.dataSource&&e.dataSource.groupBy&&e.dataSource.groupBy.toArray&&(o=e.dataSource.groupBy.toArray().slice(0),o.length>0&&e.dataSource.beginUpdate()),e._doNotFireEvent=!0,e._sortColumns&&e._sortColumns.length?e.dataSource.remove(a):e.dataSource.removeAt(i),e._selectedIds.indexOf(t)>=0&&(e._selectedIds.splice(e._selectedIds.indexOf(t),1),e._updateSelectAllState(),e._updateState("selected"),e.$.fireEvent("change",{type:"remove"})),e._doNotFireEvent=!1,e.dataSource.boundSource.canNotify=r,e._editing=!1,o.length>0&&(e._dataSourceUpdatingTimer&&clearTimeout(e._dataSourceUpdatingTimer),e._dataSourceUpdatingTimer=setTimeout(()=>{const s=e._getExpandedGroups(e.dataSource.boundHierarchy);o.forEach(d=>e.addGroup(d)),e.dataSource.endUpdate(),e._restoreExpandedGroups(s),e._fullRefresh("update")},50)),e.virtualization&&e.__updating||e._fullRefresh("update")}expandRowDetails(t){const e=this;if(!e.rowDetailTemplate)return;const n=e.rowById?e.rowById[t]:e.rows.dataItemById[t];if(!n)return;const a=n.data||n;if(!n||!a)return;const i=e.$.tableContainer.querySelector(`tr[row-id="${t}"]:not([unused])`);if(!i)return;const r=i.nextElementSibling;!r&&!e.virtualization||r&&r.classList.contains("smart-table-row-detail")&&!r.classList.contains("collapsed")||e._toggleRowDetail(i,a.$.id)}endEdit(){const t=this,e=t._editing;if(!e)return;const n=e.row,a=n.data,i=[];let r=!0;for(let s=0;s<e.cells.length;s++){const d=e.cells[s],c=t.columnByDataField[d.dataField],u=d.element,m=d.editor;let h;if(c.editor&&c.editor.template?c.editor.getValue&&(h=c.editor.getValue(m)):(h=m.value,m instanceof HTMLInputElement&&("number"===m.type?h=parseFloat(h):"date"===m.type&&(h=new Date(h),isNaN(h.getTime())&&(h=null)))),c.validation){const y=c.validation(h),_=void 0!==y&&!0!==y;if(_){let C;C="object"==typeof y&&y.message?y.message:t.localize("invalidValue"),u.setAttribute("validation-message",C)}else u.removeAttribute("validation-message");u.classList.toggle("invalid",_),r=r&&!_}i.push({column:c,newValue:h})}if(r){if(t.dataSource.virtualDataSource){const s=Object.assign({},a);for(let d=0;d<e.cells.length;d++){const u=i[d],m=u.column;s[e.cells[d].dataField]=u.newValue,m.transform&&(s[m.dataField]=m.transform(u.newValue))}for(const d of t._columns)s[d.dataField]instanceof Date&&(s[d.dataField]=s[d.dataField].toISOString().slice(0,10));t._editing.row.data=s,t._requestVirtualDataSource("update",function(d){return d?o(!1,s):(t._editing.row.data=a,t.cancelEdit()),d})}else o(!0,a);delete t._editing}function o(s,d){for(let c=0;c<e.cells.length;c++){const u=e.cells[c],m=i[c],h=m.column,y=u.editor;y.contains(t.getRootNode().activeElement)&&t._focusCell(u.element),y.remove(),s&&(d[u.dataField]=m.newValue,h.transform&&(d[h.dataField]=h.transform(m.newValue))),t._setCellContent(u.element,t._formatCellValue(n,h,u.element)),u.element.classList.remove("editing"),t.$.fireEvent("cellEndEdit",{id:d.$.id,row:d,value:d[u.dataField],dataField:u.dataField})}t._updateCellsWithFormulas(),"row"===t.editMode&&t.$.fireEvent("rowEndEdit",{id:d.$.id,row:d})}}expandAllRows(){const t=this;if(t._isExpandCollapseForbidden())return;t.beginUpdate();const e=t["smart-table"===t.nodeName.toLowerCase()?"dataSource":"rows"].boundHierarchy;if(t._collapsedIds=[],e)for(let n=0;n<e.length;n++){const i=r=>{if(!r.leaf&&(r.expanded=!0,-1===t._expandedIds.indexOf(r.$.id)&&t._expandedIds.push(r.$.id),r.children))for(let o=0;o<r.children.length;o++)i(r.children[o])};i(e[n])}t.endUpdate()}isGroupExpanded(t){const e=this;if(!e.grouping||0===e.dataSource.groupBy.length)return;const a=e._getGroupByIndex(t);return!!a&&a.expanded}expandGroup(t){const e=this;if(!e.grouping||0===e.dataSource.groupBy.length)return;const a=e._getGroupByIndex(t);if(!a)return;const i=e._doNotFireEvent,r=e.animation,o=e.$.tableContainer.querySelector(`tr[row-id="${a.$.id}"]:not([unused])`);let s=!1;if(i&&(e.animation="none"),o){if(e._isCollapsed(a))if(i)s=!0;else{let d=a.parent;d&&!d.expanded&&e.expandGroup(a.parent.$.id.replace("Item","").replace(/_/g,"."))}a.expanded||(s||i?(a.expanded=!0,o.setAttribute("aria-expanded",!0),o.classList.add("expanded")):e._hierarchyArrowClickHandler(o,i)),i&&(a.expanded=!0,o.setAttribute("aria-expanded",!0),o.classList.add("expanded"),requestAnimationFrame(()=>e.animation=r))}else if(a.expanded=!0,!a.expanded&&!i){let d=a.$.id;d=d.replace("Item","").replace(/_/gi,"."),e.$.fireEvent("group",{action:"expand",path:d,dataField:a.groupDataField,label:a.label})}}expandAllRootGroups(){const t=this;if(!t.grouping)return;t.beginUpdate();const e=t.dataSource.boundHierarchy;if(e)for(let n=0;n<e.length;n++)e[n].expanded=!0;t.endUpdate()}expandAllGroups(){const t=this;if(!t.grouping)return;t.beginUpdate();const e=t.dataSource.boundHierarchy;if(e)for(let n=0;n<e.length;n++){const i=r=>{if(r.expanded=!0,r.children)for(let o=0;o<r.children.length;o++)i(r.children[o])};i(e[n])}t.endUpdate()}collapseAllGroups(){const t=this;if(!t.grouping)return;t.beginUpdate();const e=t.dataSource.boundHierarchy;if(e)for(let n=0;n<e.length;n++)e[n].expanded=!1;t.endUpdate()}expandRow(t){const e=this;if(e._isExpandCollapseForbidden())return;const n=e.rowById?e.rowById[t]:e.rows.dataItemById[t],a=n.data||n;if(!n||a.leaf)return;const i=e.$.tableContainer.querySelector(`tr[row-id="${t}"]:not([unused])`);if(!i)return a.expanded=!0,-1===e._expandedIds.indexOf(a.$.id)&&e._expandedIds.push(a.$.id),e._updateState("expanded"),void e.$.fireEvent("expand",{id:a.$.id,record:a});if(e._isCollapsed(a)){let r=a.parent;r&&!r.expanded&&e.expandRow(r.$.id)}a.expanded||e._hierarchyArrowClickHandler(i)}exportData(t,e,n,a){const i=this,r=i._columns.filter(_=>_.visible),o=i.columnGroups,s=i.dataSource,d=getComputedStyle(i),c=d.borderRightColor,u=new Smart.Utilities.DataExporter(void 0,s.groupBy.toArray()),m={};let h,y=Array.from(i.$.tableContainer.firstElementChild.querySelectorAll("th"));if(s.virtualDataSource){h=[];for(let _=0;_<i.rows.length;_++)h.push(i.rows[_].data)}else s.boundHierarchy&&!i.grouping?(u.hierarchical=!0,h=function _(C){const x=[];return C.forEach(E=>{n&&!1===E.$.filtered||(x.push(E),E.leaf||(E._expanded=E.expanded,E.children&&(E.children=_(E.children),0===E.children.length&&(E._expanded=void 0,E.children=void 0,E.leaf=!0))))}),x}(JSON.parse(JSON.stringify(s.boundHierarchy,(_,C)=>{if("parent"!==_)return C})))):(h=Array.from(s.toArray()),n&&(h=h.filter(_=>!1!==_.$.filtered)));u.style={border:"1px solid "+c,borderCollapse:"collapse",backgroundColor:d.backgroundColor,color:d.color,fontFamily:"Helvetica",header:{border:"1px solid "+c,fontWeight:"bold"},columns:{border:"1px solid "+c}},y=y.filter(_=>!1===_.classList.contains("smart-table-select-all"));for(let _=0;_<r.length;_++){const C=r[_],x={},E={};let A=y[_].offsetWidth+"px";m[C.dataField]=C.label,"date"===C.dataType&&(E.format="d"),x.width=A,u.style.header[C.dataField]=x,u.style.columns[C.dataField]=E}return o?u.header={columns:r,columngroups:o}:h.unshift(m),u.exportData(h,t,e,a)}getRowIndexById(t){const e=this.rowById[t];return this.dataSource&&e&&e.data&&e.data.$?e.data.$.index:-1}getSelection(){const t=this;return t._selectedIds.filter(0===t._selectableGroupRecords.length?e=>!(""+e).startsWith("Item"):e=>-1===t._selectableGroupRecords.indexOf(e)&&!(""+e).startsWith("Item"))}getState(){return JSON.parse(this._stringifyState())}getValue(t,e){const n=this,a=n.columnByDataField[e];if(!a)return;let i=n.rowById[t];return i?i.data[a.dataField]:(i=n.dataSource.dataItemById[t],i?i[a.dataField]:void 0)}loadState(t){const e=this;if(!t&&!(t=window.localStorage.getItem("smartTable"+e.id)))return;const n=e.stateSettings;let a=!1;if(e._loadingState=!0,"string"==typeof t&&(t=JSON.parse(t)),-1!==n.indexOf("columns")){const i=e.loadColumnStateBehavior,r=e._columns,o=[],s=t.columns;for(let d=0;d<s.length;d++){let c=Object.assign({},s[d]);const u=r.find(y=>y.dataField===c.dataField);if(!u){"implementationOnly"!==i&&o.push(c);continue}const m=u.label,h=["editor","formatFunction","templateElement","templateElementSettings","transform","validation"];"stateOnly"!==i&&h.push("label");for(let y in u)-1===h.indexOf(y)&&delete u[y];c=Object.assign(u,c),"stateOnly"!==i&&m&&(c.label=m),o.push(c)}if("stateOnly"!==i)for(let d=0;d<r.length;d++){const c=r[d];o.find(u=>u.dataField===c.dataField)||o.push(c)}e.columns=o,e._initColumns(!0),a=!0,e._formattingPanel&&(e._formattingPanel.columns=e._columns)}if(e.grouping){const i=e.dataSource,r=e.dataSource.groupBy;t.grouped=t.grouped||[],JSON.stringify(r._array)!==JSON.stringify(t.grouped)&&(e.dataSource.groupBy=t.grouped,i.refreshHierarchy(),a=!0)}else e.hasAttribute("hierarchy")&&-1!==n.indexOf("expanded")&&JSON.stringify(e._expandedIds.slice(0).sort())!==JSON.stringify(t.expanded.slice(0).sort())&&(e.collapseAllRows(),e._expandedIds=t.expanded,a=!0);-1!==n.indexOf("selected")&&t.selected.slice&&JSON.stringify(e._selectedIds.slice(0).sort())!==JSON.stringify(t.selected.slice(0).sort())&&(e._selectedIds=t.selected,a=!0),a&&(e._initRows(),e.refresh());e:if(-1!==n.indexOf("filtered")){const i=e.filtering,r=t.filtered;if(e.clearFilters(),!r)break e;if(i&&e.filterRow&&r.rowFilters){const o=e.$.tableContainer.querySelector(".smart-table-filter-row"),s=Number(e.selection),d=t.filtered.filterRowValues;for(let c=0;c<e._columns.length;c++){const u=d[c];if(!u)continue;const m=e._columns[c].dataType,h=o.children[c+s].firstElementChild,y=e._filterInfo["string"===m?"stringConditions":"numberAndDateConditions"].find(_=>_.value===u.condition);if(-1===["EMPTY","NOT_EMPTY","NULL","NOT_NULL"].indexOf(y.value))if("date"===m){const _=new Date(u.value),C=(_.getMonth()+1).toString(),x=_.getDate().toString();h.children[0].value=`${_.getFullYear()}-${"0".repeat(2-C.length)}${C}-${"0".repeat(2-x.length)}${x}`}else h.children[0].value=u.value;h.children[1].value=y.label,h.children[1].$.input.dataValue=y.value}e._applyRowFilters()}else if(i&&r.inputFilters)e.$.filterInput.value=r.query,e._filterByAll(r.query);else if(r.appliedFilters){e._filterInfo.appliedFilters||(e._filterInfo.appliedFilters={});for(let o in r.appliedFilters){const s=r.appliedFilters[o],d=new window.Smart.Utilities.FilterGroup;s.filters.forEach((c,u)=>{const m=d.createFilter(c.type.replace("Filter",""),c.value,c.condition);d.addFilter(s.logicalOperators[u],m)}),e._filterInfo.appliedFilters[o]=d}e._refreshFilters("add")}}-1!==n.indexOf("sorted")&&(e.clearSort(),t.sorted.forEach&&t.sorted.forEach(i=>{e.sortBy(i.dataField,i.direction)})),n.forEach(i=>e._updateState(i,!1)),e.autoSaveState&&window.localStorage.setItem("smartTable"+e.id,e._stringifyState()),delete e._loadingState}navigateTo(t){const e=this;if(isNaN(t)||null===t)return;const n=e.pageIndex;e.pageIndex=Math.max(Math.min(Math.round(t),e.$.pager.pagesCount-1),0),e.paging&&e.pageIndex!==n&&(e._fullRefresh("pageIndexChange"),e.$.fireEvent("page",{action:"pageIndexChange"}))}removeFilter(t){const e=this,n=e.columnByDataField[t];n&&e.filterRow&&e.clearFilters(t),e._filterInfo.appliedFilters&&n&&(t=n.dataField,e._clearSortByRow&&e._clearSortByRow(!0),e._designerFiltersApplied&&e._clearDesignerFilters(t),delete e._filterInfo.appliedFilters[t],e._refreshFilters("remove"),e._originalDynamicColumnsOrder&&(e._originalDynamicColumnsOrder=e._dynamicColumns.map(a=>a.id)))}removeGroup(t){const e=this,n=e.columnByDataField[t];if(!e.grouping||!n)return;const a=e.dataSource,i=a.groupBy,r=i.indexOf(t=n.dataField);-1!==r&&(i.splice(r,1),a.refreshHierarchy(),e._getSelectableGroupRecords(),e._fullRefresh(),e._updateState("grouped"),e.$.fireEvent("group",{action:"remove",dataField:t}))}saveState(){const t=this._stringifyState();return window.localStorage.setItem("smartTable"+this.id,t),JSON.parse(t)}enableSelect(t){const e=this;e.selection&&e._disabledSelection.indexOf(t)>=0&&(e._disabledSelection.splice(e._disabledSelection.indexOf(t),1),e._fullRefresh("update"))}disableSelect(t){const e=this;e.selection&&(e._disabledSelection.push(t),e._fullRefresh("update"))}select(t){const e=this;e.selection&&(Array.isArray(t)?e._changeSelectionOfMultiple(t,"select"):e._selectSingle(t)&&(e._updateSelectAllState(),e._updateState("selected"),e.$.fireEvent("change",{type:e._interaction?"interaction":"programmatic"})))}setValue(t,e,n){const a=this,i=a.columnByDataField[e];if(!i)return;let r,o=a.rowById[t];if(o)r=o.data;else{if(o=a.dataSource.dataItemById[t],!o)return;r=o}e=i.dataField,a.dataSource._updating=!0,i.transform?(r[i.originalDataField]=n,r[e]=i.transform(n)):r[e]=n;const s=a.$.tableContainer.querySelector(`tr[row-id="${t}"]:not([unused]) td[data-field="${e}"]`);if(s&&(a._setCellContent(s,a._formatCellValue(o,i,s),s.classList.contains("tree-cell")),i.templateElement&&i.templateElementSettings)){const u=s.classList.contains("tree-cell")?s.children[0].children[1]:s,m=r.$.id;a._cachedTemplates&&a._cachedTemplates[i.dataField+"_"+m]&&(0===a._cachedTemplates[i.dataField+"_"+m].innerHTML.length?delete a._cachedTemplates[i.dataField+"_"+m]:(u.innerHTML="",u.appendChild(a._cachedTemplates[i.dataField+"_"+m]))),i.templateElementSettings(r[i.dataField],m,u.firstElementChild),a._cachedTemplates||(a._cachedTemplates=[]),a._cachedTemplates[i.dataField+"_"+m]||(a._cachedTemplates[i.dataField+"_"+m]=u.firstElementChild)}a._updateCellsWithFormulas(),delete a.dataSource._updating}unselect(t){const e=this;e.selection&&(Array.isArray(t)?e._changeSelectionOfMultiple(t,"unselect"):e._unselectSingle(t)&&(e._updateSelectAllState(),e._updateState("selected"),e.$.fireEvent("change",{type:e._interaction&&-1===e._disabledSelection.indexOf(t)?"interaction":"programmatic"})))}set scrollTop(t){const e=this;e.isRendered&&(t=parseInt(t),isNaN(t)||((e.virtualization?e.$.virtualizationContainer:e.$.container).scrollTop=t))}get scrollTop(){const t=this;return t.isRendered?(t.virtualization?t.$.virtualizationContainer:t.$.container).scrollTop:0}set scrollLeft(t){const e=this;e.isRendered&&(t=parseInt(t),isNaN(t)||((e.virtualization?e.$.virtualizationContainer:e.$.container).scrollLeft=t))}get scrollLeft(){const t=this;return t.isRendered?(t.virtualization?t.$.virtualizationContainer:t.$.container).scrollLeft:0}clearContent(){const t=this;for(;t.$.tableContainer.firstChild;)t.$.tableContainer.removeChild(t.$.tableContainer.firstChild)}applyContent(){const t=this;if(void 0===t.content)return void(t.content=t.$.tableContainer);if(""===t.content||null===t.content)return void t.clearContent();if(t.content instanceof HTMLElement)return t.clearContent(),void t.$.content.appendChild(t.content);const e=document.createDocumentFragment();let n=document.createElement("div");e.appendChild(n),t.content instanceof HTMLElement?n.appendChild(t.content):n.innerHTML=t.content;let a=Array.from(n.childNodes);n.parentNode.removeChild(n);for(let i=0;i<a.length;i++)e.appendChild(a[i]);t.clearContent(),t.$.tableContainer.appendChild(e)}propertyChangedHandler(t,e,n){const a=this;if(super.propertyChangedHandler(t,e,n),"innerHTML"!==t)switch(t){case"animation":case"theme":if("theme"===t){const r=getComputedStyle(a);a._defaults.text=a._toHex(r.color),a._defaults.highlight=a._toHex(r.backgroundColor)}if(a.filterRow){const r=a.$.tableContainer.querySelector(".smart-table-filter-row");Array.from(r.querySelectorAll("smart-input, smart-button")).forEach(o=>o[t]=n)}i(t,n);break;case"autoSaveState":n&&window.localStorage.setItem("smartTable"+a.id,a._stringifyState());break;case"columnGroups":n&&(a.columnResize&&(a.columnResize=!1),"auto"===a.columnSizeMode&&(a.removeAttribute("resize-max-reached"),a.columnSizeMode="default")),a.refresh();break;case"columnMinWidth":if(isNaN(parseFloat(n)))return void(a.columnMinWidth=e);a._handleAutoSizeMode(),a._handleFrozenColumnPositions(),a._refreshHorizontalScrollbar();break;case"columnResize":n&&a.columnGroups&&(a.columnResize=!1);break;case"columnResizeNormalize":a._columns&&a._columns.length>0&&""===a._columns[a._columns.length-1].dataField&&(a._columns.pop(),a.columns.pop()),a._initColumns(!0),a.refresh();break;case"columns":{a._conditionalFormatting&&delete a._conditionalFormatting;const r=a._sortColumns,o=a._filterInfo;if(a._clearFilterInput(),a._clearRowFilters(),delete a._filterInfo.appliedFilters,a._sortColumns=[],a._initColumns(!0),a.refresh(),a._formattingPanel&&(a._formattingPanel.columns=a._columns),a.dataSource.dataFields){let s=a.dataSource.dataFields||[],c=!1;if(a.columns.forEach(u=>{if(u.dataType){const m=s.find(h=>h.name===u.dataField);m?m.dataType=u.dataType:u.map?s.find(h=>u.map.indexOf(h.name)>=0?h:null)&&(a.dataSource.dataFields.push({name:u.dataField,map:u.map,dataType:u.dataType}),c=!0):(a.dataSource.dataFields.push({name:u.dataField,dataType:u.dataType}),c=!0)}}),c&&a.dataSource.dataBind){let u=[],m=[];if(a.dataSource&&a.dataSource.groupBy&&a.dataSource.groupBy.toArray&&(u=a.dataSource.groupBy.toArray().slice(0)),u.length>0&&(m=a._getExpandedGroups(a.dataSource.boundHierarchy)),a.dataSource.bindingCompleted=!1,a.dataSource.dataBind(),a._doNotFireEvent=!0,u.length>0&&(u.forEach(h=>a.addGroup(h)),a.dataSource.boundHierarchy&&a.dataSource.refreshHierarchy(),a._restoreExpandedGroups(m)),o.inputFilters?a._filterByAll(o.query):o.rowFilters?a._applyRowFilters():o.appliedFilters&&a._refreshFilters(),r&&(a._sortColumns=[],r.forEach(h=>{a.columnByDataField[h.dataField].sortOrder=null,a.sortBy(h.dataField,h.direction)})),a._selectedIds.length>0){const h=JSON.stringify(a._selectedIds.slice(0).sort()),y=a.dataSource;a._selectedIds=a._selectedIds.filter(_=>void 0!==y.dataItemById[_]||-1!==a._selectableGroupRecords.indexOf(_)),h!==JSON.stringify(a._selectedIds.slice(0).sort())&&(a._updateSelectAllState(),a._updateState("selected"),a.$.fireEvent("change",{type:"remove"}))}a.virtualization&&setTimeout(()=>{const h=a.columns&&a.columns.length>0?a.columns[0].dataField:"";if(h){const y=a.querySelector('td[data-field="'+h+'"]');y&&a._rowHeight<y.offsetHeight&&(a._rowHeight=y.offsetHeight,a.style.setProperty("--smart-table-row-height",a._rowHeight+"px"),a._refreshDataRows())}},300),delete a._doNotFireEvent}else o.inputFilters?a._filterByAll(o.query):o.rowFilters?a._applyRowFilters():o.appliedFilters&&a._refreshFilters(),r&&(a._sortColumns=[],r.forEach(u=>{a.columnByDataField[u.dataField].sortOrder=null,a.sortBy(u.dataField,u.direction)}))}break}case"columnSizeMode":if("auto"===n){if(a.columnGroups)return void(a.columnSizeMode="default");a._handleAutoSizeMode()}else a.removeAttribute("resize-max-reached"),a._columns.forEach(r=>{r.visible&&(r.headerCellElement.style.width=r._isResponsive?r.width||r._manualPercentageWidth?a._getColumnWidth(r.width||r._manualPercentageWidth,!0,r):null:r.width||r._manualWidth?a._getColumnWidth(r.width||r._manualWidth,!0,r):null)});a._handleFrozenColumnPositions(),a._refreshHorizontalScrollbar();break;case"conditionalFormatting":a._applyInitialConditionalFormatting(a.dataSource),a._refreshDataRows();break;case"conditionalFormattingButton":a.$.header.classList.toggle("smart-hidden",(!a.filtering||a.filterRow)&&!n),!n&&a._dialog&&a._dialog.close();break;case"dataSource":case"dataSourceSettings":{const r=a._sortColumns,o=a._filterInfo;if("dataSource"===t&&null===n&&(a.dataSource=[]),"dataSource"===t&&e&&n&&a.virtualization&&!document.hidden&&e instanceof Smart.DataAdapter&&e.length===n.length&&e.length>0&&n.length>0&&!a.dataSourceSettings.parentDataField&&!e.parentDataField){if(a.dataSource=e,a._cachedDataSource===n)return;a.beginUpdate();for(let u=0;u<n.length;u++)a.updateRow(a.dataSource[u].$.id,n[u],!0);return a.endUpdate(!!r||void 0,!0),void(a._cachedDataSource=n)}const s=a.$.virtualizationContainer?a.$.virtualizationContainer.scrollTop:0,d=void 0!==a.$.virtualizationContainer&&a.$.virtualizationContainer.$?a.$.virtualizationContainer.$.verticalScrollBar:null;d&&d.beginUpdate();let c=[];if(e&&e.groupBy&&e.groupBy.toArray&&(c=e.groupBy.toArray().slice(0)),a._dataBind(!0),a._doNotFireEvent=!0,c.length>0){const u=a._getExpandedGroups(e.boundHierarchy);if(a.__updating=!0,a.dataSource._groupBy&&(a.dataSource._groupBy.canNotify=!1),a._selectedIds.length>0){const m=JSON.stringify(a._selectedIds.slice(0).sort()),h=a.dataSource;a._selectedIds=a._selectedIds.filter(y=>void 0!==h.dataItemById[y]||-1!==a._selectableGroupRecords.indexOf(y)),c.forEach(y=>a.addGroup(y)),m!==JSON.stringify(a._selectedIds.slice(0).sort())&&(a._updateSelectAllState(),a._updateState("selected"),a.$.fireEvent("change",{type:"remove"}))}else c.forEach(m=>a.addGroup(m));a.dataSource.boundHierarchy&&a.dataSource.refreshHierarchy(),a.dataSource._groupBy&&(a.dataSource._groupBy.canNotify=!0),a.__updating=!1,a._restoreExpandedGroups(u),a._fullRefresh("update")}else if(a.dataSource.boundHierarchy&&a.dataSource.boundHierarchy.length&&e&&e.toArray){const u=e.toArray();for(let h=0;h<u.length;h++){const y=u[h];y.expanded&&-1===a._expandedIds.indexOf(y.$.id)&&a._expandedIds.push(y.$.id)}a._expandedIds=a._expandedIds.filter(h=>!a._collapsedIds||!a._collapsedIds[h]);const m=(h,y,_)=>{const C=this;for(let x=y;x<_;x++){const E=h[x];if(!E)break;E.leaf||(E.expanded=-1!==C._expandedIds.indexOf(E.$.id),E.children.length&&!1!==E.$.filtered&&m(E.children,0,E.children.length))}};m(a.dataSource.boundHierarchy,0,a.dataSource.boundHierarchy.length),a._fullRefresh("update")}if(o.inputFilters?a._filterByAll(o.query):o.rowFilters?a._applyRowFilters():o.appliedFilters&&a._refreshFilters(),r&&(a._sortColumns=[],r.forEach(u=>{a.columnByDataField[u.dataField].sortOrder=null,a.sortBy(u.dataField,u.direction)})),a._selectedIds.length>0){const u=JSON.stringify(a._selectedIds.slice(0).sort()),m=a.dataSource;a._selectedIds=a._selectedIds.filter(h=>void 0!==m.dataItemById[h]||-1!==a._selectableGroupRecords.indexOf(h)),u!==JSON.stringify(a._selectedIds.slice(0).sort())&&(a._updateSelectAllState(),a._updateState("selected"),a.$.fireEvent("change",{type:"remove"}))}a.virtualization&&(setTimeout(()=>{const u=a.columns&&a.columns.length>0?a.columns[0].dataField:"";if(u){const m=a.querySelector('td[data-field="'+u+'"]');m&&a._rowHeight<m.offsetHeight&&(a._rowHeight=m.offsetHeight,a.style.setProperty("--smart-table-row-height",a._rowHeight+"px"),a._refreshDataRows())}},300),a.$.virtualizationContainer.scrollTop=s,d&&(d.endUpdate(),a._onVerticalChange({detail:{value:d.value}},!0))),delete a._doNotFireEvent;break}case"disabled":case"unfocusable":case"keyboardNavigation":a._setFocusable(),i("unfocusable",a.disabled||a.unfocusable||!a.keyboardNavigation),"disabled"===t&&a._dialog&&a._dialog.close();break;case"hideSelectionColumn":a.refresh();break;case"columnMenu":a.$.header.classList.toggle("smart-hidden",(!a.filtering||a.filterRow||a.columnMenu)&&!a.conditionalFormattingButton),a.columnMenu&&(a._initialState=a.getState()),a.refresh();break;case"editing":n?a.$.tableContainer.removeAttribute("aria-readonly"):a.$.tableContainer.setAttribute("aria-readonly",!0);break;case"filtering":a.columnMenu||a.$.header.classList.toggle("smart-hidden",(!n||a.filterRow)&&!a.conditionalFormattingButton),n&&a.filterRow?a._createFilterRow():!1===n&&(a.filterRow&&a.$.tableContainer.querySelector(".smart-table-filter-row").remove(),(a._filterInfo.query||a._filterInfo.rowFilters||a._filterInfo.appliedFilters)&&a.clearFilters()),a.virtualization&&a.refresh();break;case"filterRow":if(a.$.header.classList.toggle("smart-hidden",(!a.filtering||n)&&!a.conditionalFormattingButton),!a.filtering)return;n?a._createFilterRow():(a.$.tableContainer.querySelector(".smart-table-filter-row").remove(),a._filterInfo.rowFilters&&a.clearFilters());break;case"filterTemplate":a._applyFilterTemplate();break;case"footerRow":{const r=a.$.tableContainer.querySelector("tfoot");r&&r.remove(),n&&a._createFooterRow();break}case"formulas":n?a._formulaParser=new Smart.FormulaParser(a):delete a._formulaParser,a._updateCellsWithFormulas(!0);break;case"freezeHeader":case"freezeFooter":a.virtualization&&(a[t]=!0);break;case"grouping":n||a.clearGrouping();break;case"headerRow":{const r=Array.from(a.$.tableContainer.firstElementChild.children);for(let o=1;o<r.length;o++)r[o].remove();n&&a._createCustomHeaderRow();break}case"locale":case"messages":{const r=a._dialog;if(a._localize(),a.filterRow){const o=a.$.tableContainer.querySelector(".smart-table-filter-row"),s=Array.from(o.querySelectorAll("smart-input.string-filter")),d=Array.from(o.querySelectorAll("smart-input.num-date-filter")),c=Array.from(o.querySelectorAll("smart-button"));s.concat(d).forEach(u=>u.title=a.localize("filterCondition")),s.forEach(u=>{u.dataSource=a._filterInfo.stringConditions,u.value=void 0===u.$.input.dataValue?a.localize("CONTAINS"):a._filterInfo.stringConditions.find(m=>m.value===u.$.input.dataValue).label}),d.forEach(u=>{u.dataSource=a._filterInfo.numberAndDateConditions,u.value=void 0===u.$.input.dataValue?a.localize("EQUAL"):a._filterInfo.numberAndDateConditions.find(m=>m.value===u.$.input.dataValue).label}),c.forEach(u=>u.title=a.localize("clearFilter"))}r&&(r.$.footer.firstElementChild.innerHTML=a.localize("ok"),r.$.footer.children[1].innerHTML=a.localize("cancel"),r.classList.contains("conditional-formatting")?r.label=a.localize("conditionalFormatting"):r.classList.contains("drill-down")&&(r.label=a.localize("details"))),a._formattingPanel&&(a._formattingPanel.messages=a.messages,a._formattingPanel.locale=a.locale),Array.from(a.$.tableContainer.querySelectorAll(".group-label-value>.placeholder")).forEach(o=>{o.textContent=a.localize("EMPTY")});break}case"pageIndex":a.pageIndex=Math.max(Math.min(Math.round(n),a.$.pager.pagesCount-1),0),a.paging&&a.pageIndex!==e&&(a._fullRefresh("pageIndexChange"),a.$.fireEvent("page",{action:"pageIndexChange"}));break;case"pageSize":a.paging&&(a._fullRefresh("pageSizeChange"),a.$.fireEvent("page",{action:"pageSizeChange"}));break;case"paging":if(!1===n){if(a.dataSource.virtualDataSource)return void(a.paging=!0);if(1===a.$.pager.pagesCount)return}a._fullRefresh();break;case"rowDetailTemplate":a._fullRefresh();break;case"rightToLeft":Array.from(a.$.tableContainer.querySelectorAll(".freeze-near, .freeze-far")).forEach(r=>{r.style.left=null,r.style.right=null,r.style.zIndex=null}),a._handleFrozenColumnPositions(),i("rightToLeft",n);break;case"selected":{const r=a._selectedIds.slice(0);a._clearSelection(),a._changeSelectionOfMultiple(n,"select","programmatic",r);break}case"selection":if(a.filterRow){const r=a.$.tableContainer.querySelector(".smart-table-filter-row");n?r.insertBefore(document.createElement("td"),r.firstElementChild):r.firstElementChild.remove()}a.refresh(),n?(a.$.tableContainer.setAttribute("aria-multiselectable",!0),a._updateSelectAllState()):a.$.tableContainer.removeAttribute("aria-multiselectable");break;case"selectionMode":{a.$.tableContainer.classList.remove("smart-unselectable");const r=a.querySelector(".smart-table-select-all");r&&("one"===a.selectionMode?r.classList.add("smart-visibility-hidden"):r.classList.remove("smart-visibility-hidden"));break}case"sortMode":"none"===n&&a.clearSort();break;case"tooltip":if(!n){const r=a.$.tableContainer.querySelector(".tooltip");r&&(r.classList.remove("tooltip"),r.removeAttribute("title"))}break;case"virtualization":a.virtualization=e}else a._initDataSourceFromHTML();function i(r,o){const s=[];a._dialog&&s.push(a._dialog,a._dialog.$.footer.firstElementChild,a._dialog.$.footer.children[1]),a._formattingPanel&&s.push(a._formattingPanel),s.forEach(d=>d[r]=o)}}_createElement(){const t=this;if(t._expandedRowDetailIds=[],t._editors={},isNaN(parseFloat(t.columnMinWidth))&&(t.columnMinWidth="50px"),t.columnGroups&&(t.columnResize=!1,t.columnSizeMode="default"),t.formulas&&(t._formulaParser=new Smart.FormulaParser(t)),t._setupPagingAndFiltering(),t._localize(),t._selectedIds=t.selected.slice(0),"one"===t.selectionMode){t._selectedIds=t._selectedIds.slice(0,1);const e=t.querySelector(".smart-table-select-all");e&&e.classList.add("smart-visibility-hidden")}t._dataBind(),t.editing||t.$.tableContainer.setAttribute("aria-readonly",!0),t.autoLoadState&&t.loadState(),t.autoSaveState&&window.localStorage.setItem("smartTable"+t.id,t._stringifyState())}_initColumns(t){const e=this,n=e.columns;if(!e.isRendered&&e.dataSource.length>0&&(!n||Array.isArray(n)&&0===n.length)&&(e.columns=e.dataSource.dataFields.map(a=>({label:a.name,dataField:a.name,dataType:a.dataType}))),e._filterInfo.stringDataFields=[],e._columns=[],e.columnByDataField={},e.columns.canNotify=!1,e.columns instanceof Smart.ObservableArray){const a=[];for(let i=0;i<e.columns.length;i++){let r=e.columns[i],o={};for(let s in r)o[s]=r[s];a.push(o)}e.columns=a}for(let a=0;a<e.columns.length;a++){let i=e.columns[a];if("string"==typeof i&&e.dataSource.dataFields){const r=e.dataSource.dataFields.find(o=>{if(o.name===i)return o});i={label:i,dataField:i,dataType:r&&r.dataType||"string"}}void 0===i.label&&void 0===i.dataField||(void 0===i.label&&(i.label=i.dataField),void 0===i.dataField&&(i.dataField=i.label),i.dataType||(i.dataType="string"),"string"!==i.dataType&&"number"!==i.dataType||!1===i.allowFilter||!i.dataField||e._filterInfo.stringDataFields.push(i.dataField),i.visible=void 0===i.visible||!!i.visible,i.allowResize=void 0===i.allowResize||!!i.allowResize,e._transformColumnDataField(i,t),i.thHierarchy=[],e._columns.push(i),e.columnByDataField[i.dataField]=i)}if("default"===e.columnSizeMode&&e.selection){let a=!0;for(let i=0;i<e._columns.length;i++){const r=e._columns[i];if(!r.width){a=!1,r._isResponsive=!0,r._isFillRemainingWidth=!0;break}}(!e.columnResizeNormalize&&a||e.columnResizeNormalize&&a)&&e._columns.push({dataField:"",label:"",visible:!0,allowResize:!1,allowFilter:!1,allowSort:!1})}else if("default"===e.columnSizeMode&&!e.selection&&e.columnResizeNormalize){let a=!0;for(let i=0;i<e._columns.length;i++){const r=e._columns[i];if(!r.width){a=!1,r._isResponsive=!0,r._isFillRemainingWidth=!0;break}}a&&e._columns.push({dataField:"",label:"",visible:!0,allowResize:!1,allowFilter:!1,allowSort:!1})}e.columns=new Smart.ObservableArray(e._columns),e._updateState("columns"),e.columns.notify(function(a){if(!e.columns.canNotify)return;if("length"===a.action||"update"===a.action&&-1!==["allowGroup","allowSort","sortOrder"].indexOf(a.propertyName))return void e._updateState("columns");const i=a.target;if("update"===a.action){const r=i.dataField;if("allowEdit"===a.propertyName)return Array.from(e.$.tableContainer.querySelectorAll(`td[data-field="${r}"]`)).forEach(o=>{o.classList.toggle("no-edit",!1===a.newValue),!1===a.newValue?o.setAttribute("aria-readonly",!0):o.removeAttribute("aria-readonly")}),void e._updateState("columns");if("allowFilter"===a.propertyName)return"string"!==i.dataType&&"number"!==i.dataType||!r||(!1===a.newValue?e._filterInfo.stringDataFields=e._filterInfo.stringDataFields.filter(o=>o!==r):!1===a.oldValue&&e._filterInfo.stringDataFields.push(r)),e.filterRow&&e.$.tableContainer.querySelector(`.smart-table-filter-row td[filter-for="${r}"]`).classList.toggle("no-filter",!1===a.newValue),"smart-pivot-table"===e.nodeName.toLowerCase()&&e._columnNotify(a),void e._updateState("columns");if("transform"===a.propertyName)i.sortOrder&&e.sortBy(i.dataField,null),e._transformColumnDataField(i,!0);else{if(-1!==["allowPivot","allowRowGroup","pivot","rowGroup","summary"].indexOf(a.propertyName)&&"smart-pivot-table"===e.nodeName.toLowerCase())return e._columnNotify(a),void e._updateState("columns");if("visible"===a.propertyName){const o=e._expandedRowDetailIds,s=e.$.tableContainer;let d;return e.filterRow&&(d=s.querySelector(".smart-table-filter-row"),d&&d.remove()),o&&o.length&&!e._columns.some(c=>c.visible)&&o.forEach(c=>e._toggleRowDetail(s.querySelector(`[row-id="${c}"]`),c)),e.$.tableContainer.setAttribute("aria-colcount",e._columns.filter(c=>c.visible).length+ +e.selection),e.refresh(),void e._updateState("columns")}}}"add"===a.action&&(e.columns[e.columns.length-1].visible=!0),e._columns=e.columns._array,e.columnByDataField=[],e._columns.forEach(r=>{e.columnByDataField[r.dataField]=r,r.originalDataField&&(e.columnByDataField[r.originalDataField]=r)}),e.refresh(!0),e._updateState("columns")}),e.$.tableContainer.setAttribute("aria-colcount",e._columns.filter(a=>a.visible).length+ +e.selection)}_transformColumnDataField(t,e){const n=this;if("function"==typeof t.transform){if(!n.isRendered||e){const a=n.dataSource,i=n.columns.canNotify;i&&(n.columns.canNotify=!1),e&&t.originalDataField&&(delete n.columnByDataField[t.dataField],t.dataField=t.originalDataField);const r=t.dataField,o=r+"Transformed";n.columnByDataField[r]=t,t.originalDataField=r,t.dataField=o,a.canNotify=!1;for(let s=0;s<a.length;s++){const d=a[s];d[o]=t.transform(d[r])}i&&(n.columns.canNotify=!0),a.canNotify=!0}}else t.transform&&(t.transform=void 0)}_initRows(){const t=this,e=t.dataSource,n=t.context;if(t.context=t,t.rows=[],t.rowById=[],e.virtualDataSource)return t._initRowsVirtualDataSource(),void(t.context=n);if(e.boundHierarchy)return t.$.tableContainer.setAttribute("role","treegrid"),t.setAttribute("hierarchy",""),t._initHierarchicalRows(),void(t.context=n);t.$.tableContainer.setAttribute("role","grid");let a=0,i=e.length,r=!1;if(t.removeAttribute("hierarchy"),t.paging){const o=t.pageSize;if(t._filterInfo.query||t._filterInfo.rowFilters||t._filterInfo.appliedFilters){let d=0;for(let c=0;c<i;c++)!1!==e[c].$.filtered&&d++;i=d,r=!0}const s=Math.max(Math.ceil(i/o),1);t.$.pager.pagesCount=s,t.$.pager.totalRecords=i,t.pageIndex=Math.max(Math.min(t.pageIndex,s-1),0),a=t.pageIndex*o,i=a+o}if(r){let o=-1;for(let s=0;s<e.length;s++){const d=e[s];if(d&&!1!==d.$.filtered){if(o++,o<a)continue;if(o>=i)break;t._addNewRow(d,s)}}}else for(let o=a;o<i;o++){const s=e[o];s&&!1!==s.$.filtered&&t._addNewRow(s,o)}t._observeRows(),t.context=n}_initRowsVirtualDataSource(){const t=this,e=t.dataSource;if(e.boundHierarchy)t.$.tableContainer.setAttribute("role","treegrid"),t.setAttribute("hierarchy",""),t._processHierarchy(e.boundHierarchy,0,e.boundHierarchy.length);else for(let n=0;n<e._dataSource.length;n++){const a=e[n];a&&!1!==a.$.filtered&&t._addNewRow(a,n)}if(t.paging){const n=e.length,i=Math.max(Math.ceil(n/t.pageSize),1),r=t.$.pager.pagesCount;if(t.$.pager.pagesCount=i,t.$.pager.totalRecords=n,t.pageIndex=Math.max(Math.min(t.pageIndex,i-1),0),null!==r&&r!==i)return void t._fullRefresh()}t._observeRows()}_initHierarchicalRows(){const t=this,e=t.dataSource.boundHierarchy;let n=0,a=e.length,i=!1;if(t.paging){const r=t.pageSize;if(t._filterInfo.query||t._filterInfo.rowFilters||t._filterInfo.appliedFilters){let s=0;for(let d=0;d<a;d++)!1!==e[d].$.filtered&&s++;a=s,i=!0}const o=Math.max(Math.ceil(a/r),1);t.$.pager.pagesCount=o,t.$.pager.totalRecords=a,t.pageIndex=Math.max(Math.min(t.pageIndex,o-1),0),n=t.pageIndex*r,a=n+r}if(i){let r=-1;for(let o=0;o<e.length;o++){const s=e[o];if(s&&!1!==s.$.filtered){if(r++,r<n)continue;if(r>=a)break;t._processHierarchy(e,o,o+1)}}}else t._processHierarchy(e,n,a);t._observeRows()}_processHierarchy(t,e,n){const a=this;for(let i=e;i<n;i++){const r=t[i];if(!r)break;r.leaf?r&&!1!==r.$.filtered&&a._addNewRow(r,i):(-1!==a._expandedIds.indexOf(r.$.id)?r.expanded=!0:void 0===r.expanded&&(r.expanded=!1),!1!==r.$.filtered&&a._addNewRow(r,i),r.children.length&&!1!==r.$.filtered&&a._processHierarchy(r.children,0,r.children.length))}}_observeRows(){const t=this;t.rows=new Smart.ObservableArray(t.rows),t.rows.notify(function(e){if(!t.rows.canNotify||e.path||!t.dataSource)return;t.rows.canNotify=!1;const n=e.action,a=t._selectedIds.slice(0);switch(t.dataSource.canNotify=!1,n){case"add":{const i={};t.dataSource.dataFields.forEach(o=>i[o.name]="");const r=Object.assign(i,t.rows[e.index]);t.dataSource.add(t.rows[e.index]),t._editing={row:{data:r}};break}case"update":t.dataSource.update(e.index,t.rows[e.index]),t._editing={row:{data:t.rows[e.index]}};break;case"remove":{const i=e.removed[0].data,r=i.$.id,o=t._selectedIds.indexOf(r);t.dataSource.removeAt(i.$.index),delete t.rowById[r],-1!==o&&t._selectedIds.splice(o,1),t._editing={row:e.removed[0]},t._updateSelectAllState();break}}t._fullRefresh(n,a,n),delete t._editing,t.dataSource.canNotify=!0,t.rows.canNotify=!0})}beginUpdate(){const t=this;if("smart-table"!==t.nodeName.toLowerCase())return;t.__updating=!0,t.__updatedRows=!1;const e=window.__karma__||window.karma;document.hidden&&!e||(t._dirtyHierarchy=!1,t.__updatingOldSelectedIds=t._selectedIds.slice(0),t.__updatingSortColumns=t._sortColumns,t.dataSource&&t.dataSource.clearSort&&t.dataSource.clearSort())}endUpdate(t,e){const n=this;if("smart-table"!==n.nodeName.toLowerCase())return;n.__updating=!1;const a=window.__karma__||window.karma;if(document.hidden&&!a||!1===t)return;a&&(e=!0);const i=()=>{const r=n.__updatingOldSelectedIds?n.__updatingOldSelectedIds:n._selectedIds.slice(0);n.__updatingOldSelectedIds&&delete n.__updatingOldSelectedIds,n._dirtyHierarchy&&n.dataSource.refreshHierarchy();const o=n._sortColumns,s=n._filterInfo,d=n.dataSource.groupBy._array.slice(0),c=void 0!==n.$.virtualizationContainer&&n.$.virtualizationContainer.$?n.$.virtualizationContainer.$.verticalScrollBar:null;if(c&&c.beginUpdate(),n._doNotFireEvent=!0,n._fullRefresh("update",r,"update"),d.length>0){let u=n._getExpandedGroups(n.dataSource.boundHierarchy);n._dirtyHierarchy&&(u=n._dirtyHierarchy),d.forEach(m=>n.addGroup(m)),n._restoreExpandedGroups(u)}s.inputFilters?n._filterByAll(s.query):s.rowFilters?n._applyRowFilters():s.appliedFilters&&n._refreshFilters(),o&&(n.__updatingSortColumns&&JSON.stringify(n.__updatingSortColumns)!==JSON.stringify(o)||0===d.length||!0===t||!1===n.__updatedRows)&&(n._sortColumns=[],o.forEach(u=>{n.columnByDataField[u.dataField].sortOrder=null,n.sortBy(u.dataField,u.direction)})),c&&(c.endUpdate(),n._onVerticalChange({detail:{value:c.value}},!0),n._dirtyHierarchy&&(n._rowsInDOM.length<n.rows.length&&0===n.$.virtualizationContainer.$.verticalScrollBar.max&&n._refreshDataRows(),n._dirtyHierarchy=!1)),n.onUpdateComplete&&n.onUpdateComplete(n.rows),delete n._doNotFireEvent};if(n._verticalScrollTimer)return n._scheduleUpdate&&clearInterval(n._scheduleUpdate),void(n._scheduleUpdate=setInterval(function(){n._verticalScrollTimer||(i(),clearInterval(n._scheduleUpdate),delete n._scheduleUpdate)},100));e?i():requestAnimationFrame(()=>{i()})}_addNewRow(t,e){const n=this,a=t.$.id,i=new Smart.Observable({data:t,boundIndex:e});-1!==n._disabledSelection.indexOf(a)&&(i.allowSelect=!1),i.canNotify=!0,i.notify(function(r){if(n._editing||n._hierarchyChange)return;const o=n.selection;if("allowSelect"===r.propertyName){const s=n._disabledSelection.indexOf(a);if(n._hierarchyChange=!0,r.newValue||-1!==s)r.newValue&&-1!==s&&function d(c){const u=c.$.id,m=n.$.tableContainer.querySelector(`[row-id="${u}"]:not([unused])`),h=n.rowById[u];if(c.parent&&-1!==n._disabledSelection.indexOf(c.parent.$.id))h.allowSelect=!1;else if(n._disabledSelection.splice(n._disabledSelection.indexOf(u),1),m&&(m.classList.remove("disable-select"),o&&(m.setAttribute("aria-selected",!1),m.firstElementChild.firstElementChild.removeAttribute("aria-disabled"))),h&&(h.allowSelect=!0),c.children)for(let y=0;y<c.children.length;y++)d(c.children[y])}(t);else{const d=[];(function c(u,m){const h=u.$.id,y=n.$.tableContainer.querySelector(`[row-id="${h}"]:not([unused])`),_=n.rowById[h];if(m.push(h),y&&(y.removeAttribute("aria-selected"),y.classList.add("disable-select"),o&&y.firstElementChild.firstElementChild.setAttribute("aria-disabled",!0)),_&&(_.allowSelect=!1),u.children)for(let C=0;C<u.children.length;C++)c(u.children[C],m)})(t,d),n._disabledSelection=n._disabledSelection.concat(d),n.unselect(d)}delete n._hierarchyChange}}),n.rowById[a]=i,n.rows.push(i)}refresh(){const t=this;if(t.__updating)return;const e=t._columns.filter(u=>u.visible),n=t.$.tableContainer,a=n.querySelector(".smart-table-filter-row"),i=n.querySelector("tfoot"),r=document.createElement("tbody"),o=t._getFractionOfMax(),s=t.virtualization?t.$.virtualizationContainer:t.$.tableContainer.parentElement,d={top:s.scrollTop,left:s.scrollLeft};for(t.columns.canNotify=!1;n.childNodes.length>0;)n.childNodes[0].remove();t._createTableHeader(),t.isRendered||!t.onInit||t._loadingState||t.onInit(),t._createCustomHeaderRow(),t._createFooterRow(i),t._createDataRows(r),t._createFilterRow(a);const c=n.querySelectorAll("th[data-field]");for(let u=0;u<e.length;u++){const m=e[u];m.headerCellElement=c[u],m.headerCellElement&&(m.headerCellElement.onclick=function(){const h=this.dataField;t.$.fireEvent("columnClick",{dataField:h}),t.closeColumnMenu(),"none"===t.sortMode||!1===m.allowSort||t._preventClickSort||(t._addSortIconContainer(this),t._sortOnClick=!0,this.headerCellElement.sortIconContainerElement.classList.contains("asc")?t.sortBy(h,"desc"):this.headerCellElement.sortIconContainerElement.classList.contains("desc")?t.sortBy(h,null):t.sortBy(h,"asc"),t._sortOnClick=!1)}.bind(m))}if(t._sortColumns&&t._sortColumns.length>0)for(let u=0;u<t._sortColumns.length;u++){const m=t._sortColumns[u];t._addSortIconContainer(t.columnByDataField[m.dataField],m.direction,u+1)}t._handleAutoSizeMode(),t._handleFrozenColumnPositions(),t._refreshHorizontalScrollbar(),t.isRendered&&(t.selection&&t._updateSelectAllState(),t._setFractionOfMax(o)),[s.scrollTop,s.scrollLeft]=[d.top,d.left],t.columns.canNotify=!0}_createTableHeader(){const t=this,e=t.selection,n=document.createElement("thead"),a=t._columns.filter(s=>s.visible),i=t._getColumnHeaderStructure(),r=window.innerWidth,o={};for(let s=0;s<i;s++){const d=document.createElement("tr"),c=document.createDocumentFragment();e&&(d.innerHTML=s<i-1?'<th class="empty"></th>':'<th class="smart-table-select-all freeze-near" scope="col" aria-colindex="1"><div role="checkbox" aria-checked="false" aria-label="Toggle selection of all rows"></div></th>',t.virtualization&&d.querySelector("th").classList.add("sticky")),s<i-1&&d.classList.add("column-groups-header");for(let u=0;u<a.length;u++){const m=a[u];if(0===s&&(m.width&&isNaN(parseFloat(m.width))&&delete m.width,m.responsivePriority&&("number"!=typeof m.responsivePriority&&(m.responsivePriority=1),m.responsivePriority=Math.max(Math.min(Math.round(m.responsivePriority),5),1),i>1&&(o[u]=t._isColumnHidden(m.responsivePriority,r)))),s<i-1){if(o[u])continue;const h=a[u],y=h.headerStructure[s];if(u>0){let C=u-1,x=a[C];for(;x&&t._isColumnHidden(x.responsivePriority,r);)C--,x=a[C];if(x&&y===x.headerStructure[s]&&t._areColumnsWithSameFreezeSettings(h,x))continue}const _=document.createElement("th");if(_.includes=[h],u<a.length-1){let C=1,x=u+1,E=a[x];for(;E;){if(!t._isColumnHidden(E.responsivePriority,r)){if(y!==E.headerStructure[s]||!t._areColumnsWithSameFreezeSettings(h,E))break;C++,_.includes.push(E)}x++,E=a[x]}_.colSpan=C}0!==s&&h.headerStructure[s-1]===y||(_.textContent=y),_.includes.forEach(C=>C.thHierarchy[s]=_),_.classList.add("column-header"),h.freeze&&_.classList.add("freeze-"+("far"===h.freeze?"far":"near")),t.virtualization&&_.classList.add("sticky"),c.appendChild(_)}else t._setupColumnHeaderCell(e,c,u,m)}d.appendChild(c),n.appendChild(d),t._tableHeader=n}if(t.$.tableContainer.appendChild(n),"default"===t.columnSizeMode){for(let s=0;s<t.columns.length;s++){const d=t.columns[s];if(!d.width){const c=n.querySelector('[data-field="'+d.dataField+'"]');c&&c.offsetWidth<5&&(c.style.width=parseInt(d.minWidth||t.columnMinWidth)+"px")}}if(e){const s=t.columns.filter(d=>d.visible);if(1===s.length){const c=n.querySelector('[data-field="'+s[0].dataField+'"]');c&&(c.style.width="")}}}}_getColumnHeaderStructure(){const t=this._columns,e=this.columnGroups;if(!e)return 1;let n=1;for(const a of t){let i=a.columnGroup;if(a.headerStructure=[],i&&(i=e.find(r=>r.name===i),i))for(a.headerStructure.push(i.label||i.name);i.parentGroup&&(i=e.find(r=>r.name===i.parentGroup),i);)a.headerStructure.unshift(i.label||i.name);a.headerStructure.push(a.label),n=Math.max(n,a.headerStructure.length)}for(const a of t){const i=a.headerStructure,r=i[0];for(;i.length<n;)i.unshift(r)}return n}_isColumnHidden(t,e){return!(!t||1===t||e>1280)&&(e<=640&&2===t||e<=800&&3===t||e<=1024&&4===t||e<=1280&&5===t)}_areColumnsWithSameFreezeSettings(t,e){return!t.freeze&&!e.freeze||t.freeze===e.freeze||!0===t.freeze&&"near"===e.freeze||"near"===t.freeze&&!0===e.freeze}getColumnProperty(t,e){const a=this.columnByDataField[t];return a?"width"===e?this._getColumnWidth(a.width?a.width:a._isResponsive&&a._manualPercentageWidth?a._manualPercentageWidth+"%":a._manualWidth,!0,a):a[e]:null}setColumnProperty(t,e,n){const a=this;if(!a.columnByDataField[t])return null;a.columns.forEach((i,r)=>{i.dataField===t&&(a.columns[r][e]=n)})}_getTableRemainingWidth(){const t=this;let e=t.offsetWidth;if(t.selection){const a=t.$.tableContainer.querySelector(".smart-table-select-all");a&&(e=t.offsetWidth-a.offsetWidth),""===t.columns[t.columns.length-1].dataField&&(e-=parseInt(t.columnMinWidth))}t.virtualization&&t.$.virtualizationContainer&&t.$.virtualizationContainer.computedVerticalScrollBarVisibility&&(e-=20);let n=0;for(let a=0;a<t.columns.length;a++){const i=t.columns[a];i.visible&&i.width&&!(""+i.width).endsWith("%")&&(n+=t._getColumnWidth(i.width))}return e-=n,e}_getColumnWidth(t,e,n){const a=this,i=parseFloat(t);if((t=(t+"").trim()).endsWith("%")){let r=a.offsetWidth;if(a.selection){const c=a.$.tableContainer.querySelector(".smart-table-select-all");c&&(r=a.offsetWidth-c.offsetWidth),""===a.columns[a.columns.length-1].dataField&&(r-=parseInt(a.columnMinWidth))}a.virtualization&&a.$.virtualizationContainer&&a.$.virtualizationContainer.computedVerticalScrollBarVisibility&&(r-=20);let o=0;for(let c=0;c<a.columns.length;c++){const u=a.columns[c];u.visible&&u.width&&!(""+u.width).endsWith("%")&&(o+=a._getColumnWidth(u.width))}r-=o;const s=n&&n.minWidth||a._getNumericMinWidth(),d=e?i+"%":r*(i/100);return s>d?s:d}return isNaN(i)?"auto":e?i+"px":i}_setupColumnHeaderCell(t,e,n,a){const i=this,r=document.createElement("th");if(r.setAttribute("aria-colindex",n+1+ +t),a.width){let o=a.width;"number"==typeof o&&a.minWidth&&(o=Math.max(o,a.minWidth)),r.style.width=i._getColumnWidth(o,!0,a)}else a._manualWidth&&(r.style.width=a._isResponsive?a._manualPercentageWidth+"%":a._manualWidth+"px");if(1!==i._columns.length&&a.allowResize||r.setAttribute("locked",""),a.freeze&&r.classList.add("freeze-"+("far"===a.freeze?"far":"near")),a.responsivePriority&&r.classList.add("priority-"+a.responsivePriority),i.virtualization&&r.classList.add("sticky"),r.setAttribute("data-field",a.dataField),r.innerHTML=`<div class="wrapper" role="presentation"><div class="label">${a.label}</div></div>`,i.columnMenu){const o=document.createElement("div");o.classList.add("column-menu"),o.setAttribute("aria-hidden",!0),r.firstElementChild.appendChild(o),o.onclick=s=>{i.activeColumnMenu&&i.activeColumnMenu.dataField===a.dataField?i.closeColumnMenu():i.openColumnMenu(a.dataField),s.preventDefault(),s.stopPropagation()}}i.onColumnRender&&i.onColumnRender(a.dataField,r),e.appendChild(r)}_refreshDataRows(){const t=this,e=window.scrollY,n=window.scrollX,a=t.$.tableContainer.children[1],i=Array.from(a.querySelectorAll("tr:not(.smart-table-filter-row)"));if(t._clearCachedTemplates(),t.filterRow||t.footerRow||t.headerRow)for(let r=0;r<i.length;r++)i[r].remove();else a.innerHTML="";t._createDataRows(a),t._handleAutoSizeMode(),t._handleFrozenColumnPositions(),t._refreshHorizontalScrollbar(),(n||e)&&window.scroll(n,e)}_createDataRows(t){const e=this;if(e.virtualization)return void e._createVirtualDataRows(t);const n=e.rowDetailTemplate,a=e.selection,i=document.createDocumentFragment(),r=e.hasAttribute("hierarchy");for(let o=0;o<e.rows.length;o++){const s=e.rows[o],d=s.data;d.groupDataField?e._createGroupHeader(d,i):e._createDataRow(s,i,{hierarchical:r,rowDetailTemplate:n,selection:a,virtualization:!1})}if(i.appendChild(e._createLastRow()),t.appendChild(i),e._updateState("expanded"),t.parentElement||e.$.tableContainer.insertBefore(t,e.$.tableContainer.querySelector("tfoot")),e.getRootNode().activeElement===e.$.tableContainer&&e._tableContainerFocusHandler(),e._templateTags.length){const o=e.querySelectorAll("tr");for(let s=0;s<e._templateTags.length;s++){const d=e._templateTags[s],c=d.index,m=d.td;if(o[c]){const h=o[c].querySelector('[data-field="'+d.dataField+'"]'),y=[...h.querySelectorAll("smart-button"),...h.querySelectorAll("button"),...h.querySelectorAll("a"),...h.querySelectorAll("span")],_=[...m.querySelectorAll("smart-button"),...m.querySelectorAll("button"),...m.querySelectorAll("a"),...m.querySelectorAll("span")];for(let C=0;C<y.length;C++)"button"===y[C].nodeName.toLowerCase()&&y[C].classList.contains("smart-button")||(y[C].onclick=()=>{_[C].click()})}}}}_createDataRow(t,e,n){const a=this,i=a._columns.filter(u=>u.visible),r=t.data,o=r.$.id,s=document.createElement("tr"),d={row:s,detail:null};let c=0;s.setAttribute("aria-rowindex",r.$.index+1),a._processAndRenderSelection(r,s,n.hierarchical),n.selection&&c++;for(let u=0;u<i.length;u++){const m=document.createElement("td"),h=i[u];m.setAttribute("data-field",h.dataField),m.setAttribute("aria-colindex",u+1+ +n.selection);let y,_=a._formatCellValue(t,h,m);if(h.freeze&&m.classList.add("freeze-"+("far"===h.freeze?"far":"near")),h.responsivePriority&&m.classList.add("priority-"+h.responsivePriority),!1===h.allowEdit&&(m.classList.add("no-edit"),m.setAttribute("aria-readonly",!0)),0===u&&n.hierarchical){const C=a._areChildrenFiltered(r);r.leaf||(m.classList.add("tree-cell"),y=C),r.level&&(m.classList.add("outline-level-"+Math.min(r.level,10)),!r.leaf&&C||m.classList.add("tree-leaf"))}if(n.virtualization&&h.templateElement){const C=h.templateElement+"";y&&a._setCellContent(m,_,y);const x=y?m.children[0].children[1]:m;x.innerHTML=C.indexOf("{{value}}")>=0?C.replace(/{{value}}/gi,'<div class="smart-table-cell-template">'+r[h.dataField]+"</div>"):C,h.templateElementSettings&&(a._cachedTemplates&&a._cachedTemplates[h.dataField+"_"+o]&&(0===a._cachedTemplates[h.dataField+"_"+o].innerHTML.length?delete a._cachedTemplates[h.dataField+"_"+o]:(x.innerHTML="",x.appendChild(a._cachedTemplates[h.dataField+"_"+o]))),h.templateElementSettings(r[h.dataField],o,x.firstElementChild),a._cachedTemplates||(a._cachedTemplates=[]),a._cachedTemplates[h.dataField+"_"+o]||(a._cachedTemplates[h.dataField+"_"+o]=x.firstElementChild))}else""===h.dataField&&void 0===_&&(_=""),a._setCellContent(m,_,y);a.onCellRender&&a.onCellRender(r,h.dataField,r[h.dataField],m),a._applyConditionalFormattingToCell(m,h.dataField,r.$.index),s.appendChild(m),c++}if(s.data=r,s.setAttribute("row-id",o),-1!==a._disabledSelection.indexOf(o)&&(s.removeAttribute("aria-selected"),s.classList.add("disable-select"),n.selection&&s.firstElementChild.firstElementChild.setAttribute("aria-disabled",!0)),r.expanded?(-1===a._expandedIds.indexOf(o)&&a._expandedIds.push(o),s.setAttribute("aria-expanded",!0),s.classList.add("expanded")):!1===r.expanded&&s.setAttribute("aria-expanded",!1),r.level&&a._isCollapsed(r)&&(s.setAttribute("aria-hidden",!0),s.classList.add("collapsed","smart-hidden")),e.appendChild(s),n.rowDetailTemplate){const u=document.createElement("tr");if(-1===a._expandedRowDetailIds.indexOf(o)){if(n.virtualization)return d;u.setAttribute("aria-hidden",!0),u.classList.add("collapsed")}else d.detail=u;u.data=Object.assign(r,{detail:!0}),u.classList.add("smart-table-row-detail"),u.innerHTML=`<td colspan="${c}"><div class="smart-table-detail-container">${a._applyRowDetailTemplate(t)}</div></td>`,e.appendChild(u)}return d}_processAndRenderSelection(t,e,n,a){const i=this,r=t.$.id,o=i._getChildCheckState(t).state;if(n&&i.selectionByHierarchy){const c=i._selectedIds.indexOf(r);!0===o&&-1===c?i._selectedIds.push(r):o||-1===c||i._selectedIds.splice(c,1)}if(!i.selection)return;let s,d;a?(s=e.firstElementChild,d=s.firstElementChild):(s=document.createElement("td"),d=document.createElement("div")),d.className="selection-checkbox",d.setAttribute("role","checkbox"),d.setAttribute("aria-checked",!!o||null===o&&"mixed"),d.setAttribute("aria-label","Toggle row selection"),s.className="smart-table-select-row freeze-near"+(o?" selected":null===o?" indeterminate":""),s.setAttribute("aria-colindex",1),a||(s.appendChild(d),e.appendChild(s)),e.setAttribute("aria-selected",!0===o)}_applyConditionalFormattingToCell(t,e,n){const a=this;if(a._conditionalFormatting&&a._conditionalFormatting[e]){const i=a._conditionalFormatting[e][n];i&&(t.style.backgroundColor=i.background,t.style.color=i.color,t.style.fontFamily=i.fontFamily,t.style.fontSize=i.fontSize)}}_createLastRow(){const t=document.createElement("tr");t.setAttribute("aria-hidden",!0),t.classList.add("last-visible");try{new ResizeObserver(e=>{try{t.classList.toggle("sized",e[0].contentRect.height>0&&null!==t.previousSibling)}catch{}}).observe(t)}catch{}return t}_createGroupHeader(t,e,n){const a=this;a.columnByDataField[t.groupDataField]||console.error(a.localize("grouping"));const i=a.columnByDataField[t.groupDataField]?a.columnByDataField[t.groupDataField].label:`${a.localize("EMPTY")}`,r=n||document.createElement("tr"),o=document.createElement("td"),s=document.createElement("div"),d=document.createElement("div"),c=document.createElement("div");let u=t.label;if((/<.+?>/.test(u)||/<./.test(u))&&u.replace&&("all"===a.dataSourceSettings.sanitizeHTML?u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):"blackList"===a.dataSourceSettings.sanitizeHTML&&(u=window.Smart.Utilities.Core.sanitizeHTML(u))),""!==u&&u||(u=`<em class="placeholder">${a.localize("EMPTY")}</em>`),r.removeAttribute("aria-rowindex"),r.data=t,d.classList.add("hierarchy-arrow","smart-arrow","smart-arrow-down"),d.setAttribute("role","button"),d.setAttribute("aria-label","Toggle row"),c.classList.add("group-label"),c.innerHTML=`<span class="group-label-name">${i}: </span>\n                            <span class="group-label-value">${u}</span>\n                            <span class="group-label-count">(${a._getLeafCount(t)})</span>`,o.colSpan=a._columns.filter(h=>h.visible).length,o.classList.add("group-header"),t.level&&(o.classList.add("outline-level-"+Math.min(t.level,10)),a._isCollapsed(t)&&(r.setAttribute("aria-hidden",!0),r.classList.add("collapsed","smart-hidden"))),r.setAttribute("row-id",t.$.id),r.setAttribute("role","group"),r.setAttribute("aria-level",t.level),s.appendChild(d),s.appendChild(c),o.appendChild(s),a._processAndRenderSelection(t,r,!0),r.appendChild(o),r.setAttribute("aria-expanded",t.expanded),r.classList.toggle("expanded",t.expanded),t&&t.$&&!1===t.$.filtered&&r.classList.add("smart-hidden"),a.groupFormatFunction){const h={value:u,row:t.$.id,column:t.groupDataField,data:t,template:null};a.groupFormatFunction(h),u!==h.value&&(c.innerHTML=`<span class="group-label-name">${i}: </span>\n                <span class="group-label-value">${h.value}</span>\n                <span class="group-label-count">(${a._getLeafCount(t)})</span>`),h.template instanceof HTMLElement&&(c.innerHTML="",c.appendChild(h.template));const y=h.template;let _="";if(y&&y.startsWith("#")){const C=document.querySelector(y);let x=u;if(C&&C instanceof HTMLTemplateElement){const E=C.content.cloneNode(!0),A=document.createElement("div");A.appendChild(E),x=x.toString(),x=x.replace(/'/gi,"\\'"),x=x.replace(/"/gi,'\\"'),_=A.innerHTML.replace(/{{value}}/gi,x),_.indexOf("{{value=")>=0&&(x?(_=_.substring(0,_.indexOf("{{value="))+x+_.substring(_.indexOf("}")),_=_.replace(/}/gi,""),_=_.replace(/{/gi,"")):(_=_.replace(/{{value=/gi,""),_=_.replace(/}}/gi,""))),c.innerHTML=_}}else y&&"string"==typeof y&&(_=y.replace(/{{value}}/gi,u),c.innerHTML=_)}const m=a.selection?1:0;for(let h=0;h<a.columns.length;h++){const y=document.createElement("td"),_=a.columns[h];_.visible&&(y.setAttribute("data-field",_.dataField),y.setAttribute("aria-colindex",h+1+m),y.classList.add("smart-hidden"),r.appendChild(y))}return n||e.appendChild(r),r}_getLeafCount(t){let e=0;return function n(a){for(const i of a)i.leaf?e++:i.children&&i.children.length>0&&n(i.children)}(t.children),e}_isCollapsed(t){let e=t.parent;for(;e;){if(!e.expanded)return!0;e=e.parent}return!1}_areChildrenFiltered(t){if(!t.leaf){if(0===t.children.length&&this.dataSource.virtualDataSource)return!0;for(let e=0;e<t.children.length;e++)if(!1!==t.children[e].$.filtered)return!0;return!1}}_applyRowDetailTemplate(t){const e=this,n=e.dataSource.dataFields;let a=e.rowDetailTemplate;for(let i=0;i<n.length;i++){const r=n[i].name,o=new RegExp(`{{${r}}}`,"g");let s=e.columnByDataField[r]||{dataField:r};if(o.test(a)){let d=e._formatCellValue(t,s,document.createElement("td"));"string"!=typeof d&&(d=t.data[s.dataField]),a=a.replace(o,d)}}return a}_handleFrozenColumnPositions(){const t=this,e=t.rightToLeft,n=t._columns.filter(d=>d.visible);let a=[],i=[],r=0;function o(d,c,u,m,h){const y=n[c-r],_=[y.headerCellElement];for(const C of y.thHierarchy)C.includes[0].dataField===y.dataField&&_.push(C);Array.from(t.$.tableContainer.querySelectorAll(`td:nth-child(${c+1})`)).concat(_).forEach(C=>{C.style[d]=u+"px",h&&(C.style.zIndex=2+m)})}t.selection&&(e?i.push(0):a.push(0),r=1);for(let d=0+r;d<n.length+r;d++){const c=n[d-r];c.freeze&&(!e&&"far"===c.freeze||e&&"far"!==c.freeze?i.push(d):a.push(d))}if(a.length<2&&i.length<2)return;const s=[];t.selection&&s.push(40);for(const d of n){let c=d.width;c||(c=d.headerCellElement.offsetWidth),d.minWidth&&(c=Math.max(d.minWidth,c)),s.push(c)}if(e){for(let d=0;d<a.length-1;d++){const c=a[d];let u=0;for(let m=c+1;m<s.length;m++)-1!==a.indexOf(m)&&(u+=s[m]);o("left",c,u,d,!0)}for(let d=1;d<i.length;d++){const c=i[d];let u=0;for(let m=0;m<c;m++)-1!==i.indexOf(m)&&(u+=s[m]);o("right",c,u,d,!1)}}else{for(let d=1;d<a.length;d++){const c=a[d];let u=0;for(let m=0;m<c;m++)-1!==a.indexOf(m)&&(u+=s[m]);o("left",c,u,d,!1)}for(let d=0;d<i.length-1;d++){const c=i[d];let u=0;for(let m=c+1;m<s.length;m++)-1!==i.indexOf(m)&&(u+=s[m]);o("right",c,u,d,!0)}}}_formatCellValue(t,e,n,a){const i=this;let r=t&&t.data?t.data.$.id:t;if(void 0===a&&(a=t.data[e.dataField]),"string"==typeof a&&(a.indexOf(">")>=0||a.indexOf("<")>=0)&&a.replace&&("all"===i.dataSourceSettings.sanitizeHTML?a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):"blackList"===i.dataSourceSettings.sanitizeHTML&&(a=window.Smart.Utilities.Core.sanitizeHTML(a))),i._cellsWithFormulas){const o=e.dataField+":"+r;if("string"==typeof a&&/=.+/.test(a)){const s=i._formulaParser;i._cellsWithFormulas[o]=!0,s&&(a=s.parse(a.slice(1)))}else delete i._cellsWithFormulas[o]}if(e.formatFunction){const o={value:a,row:r,column:e.dataField,data:t.data,cell:n,template:null};if(e.formatFunction(o),a=o.value,o.template instanceof HTMLElement)return o.template;if(null===o.template||"string"!=typeof o.template)return a;const s=o.template;let d="";if(s.startsWith("#")){const c=document.querySelector(s);if(c&&c instanceof HTMLTemplateElement){const u=c.content.cloneNode(!0),m=document.createElement("div");return m.appendChild(u),a=(a=(a=a.toString()).replace(/'/gi,"\\'")).replace(/"/gi,'\\"'),d=m.innerHTML.replace(/{{value}}/gi,a),d.indexOf("{{value=")>=0&&(a?(d=d.substring(0,d.indexOf("{{value="))+a+d.substring(d.indexOf("}")),d=d.replace(/}/gi,""),d=d.replace(/{/gi,"")):(d=d.replace(/{{value=/gi,""),d=d.replace(/}}/gi,""))),d}}return d='<div class="smart-table-cell-template">'+s.replace(/{{value}}/gi,a)+"</div>",d}return"date"===e.dataType&&a instanceof Date?a.toLocaleDateString():a}_setCellContent(t,e,n){if(e instanceof HTMLElement==1){for(;t.childNodes.length>0;)t.childNodes[0].remove();if(n){const a=document.createElement("div");a.innerHTML='<div class="hierarchy-arrow smart-arrow smart-arrow-down" role="button" aria-label="Toggle row"></div><div></div>',a.children[1].appendChild(e),t.appendChild(a)}else t.appendChild(e)}else if(n)t.innerHTML=e=`<div>\n                                                <div class="hierarchy-arrow smart-arrow smart-arrow-down" role="button" aria-label="Toggle row"></div>\n                                                <div>${e}</div>\n                                            </div>`;else if("string"==typeof e&&e.indexOf(">")>=0)if(/<.+?>/.test(e)||/&\S+;/.test(e)){if(t._content===e)return;t.innerHTML=e,t._content=e}else t.textContent!==e&&(t.textContent=e);else"html"===this.dataSourceSettings.sanitizeHTMLRender?t.innerHTML!==e&&("string"==typeof e&&e.indexOf(" ")>=0&&(e=e.replaceAll(" ","&nbsp;")),t.innerHTML=e):t.textContent!==e&&(t.textContent=e)}_dataBind(t){const e=this;if(e._cellsWithFormulas={},e._templateTags=[],e.dataSource){if(e.dataSource instanceof Smart.DataAdapter==0){const n=e.dataSource;if(Array.isArray(n)){const a=e.columns;let i;if(n.length>0){const r=n[0];i=[];for(let o in r){const s=r[o];"number"==typeof s?i.push({name:o,dataType:"number"}):"boolean"==typeof s?i.push({name:o,dataType:"boolean"}):s instanceof Date?i.push({name:o,dataType:"date"}):i.push(s instanceof Object?{name:o,dataType:"any"}:{name:o,dataType:"string"})}}a&&a.length>0&&(i=i||[],a.forEach(r=>{if(r.dataType){const o=i.find(s=>s.name===r.dataField);o?o.dataType=r.dataType:r.map?i.find(s=>r.map.indexOf(s.name)>=0?s:null)&&i.push({name:r.dataField,map:r.map,dataType:r.dataType}):i.push({name:r.dataField,dataType:r.dataType})}})),e.dataSource=e.dataSourceSettings.dataFields&&e.dataSourceSettings.dataFields.length>0?new Smart.DataAdapter({dataSource:e.dataSource,dataSourceType:e.dataSourceSettings.dataSourceType,dataFields:e.dataSourceSettings.dataFields,keyDataField:e.dataSourceSettings.keyDataField,parentDataField:e.dataSourceSettings.parentDataField,childrenDataField:e.dataSourceSettings.childrenDataField,groupBy:e.dataSourceSettings.groupBy,mapChar:e.dataSourceSettings.mapChar,root:e.dataSourceSettings.root,record:e.dataSourceSettings.record,autoGenerateColumns:e.autoGenerateColumns,id:e.dataSourceSettings.id||e.dataRowId,expandHierarchy:e.expandHierarchy,virtualDataSource:e.dataSourceSettings.virtualDataSource,virtualDataSourceOnExpand:e.dataSourceSettings.virtualDataSourceOnExpand}):new Smart.DataAdapter({dataSource:e.dataSource,dataFields:i,id:e.dataRowId||e.dataSourceSettings.id,dataSourceType:e.dataSourceSettings.dataSourceType,keyDataField:e.dataSourceSettings.keyDataField,parentDataField:e.dataSourceSettings.parentDataField,childrenDataField:e.dataSourceSettings.childrenDataField,groupBy:e.dataSourceSettings.groupBy,mapChar:e.dataSourceSettings.mapChar,root:e.dataSourceSettings.root,record:e.dataSourceSettings.record,autoGenerateColumns:e.autoGenerateColumns,expandHierarchy:e.expandHierarchy,virtualDataSource:e.dataSourceSettings.virtualDataSource,virtualDataSourceOnExpand:e.dataSourceSettings.virtualDataSourceOnExpand})}else e.dataSource=new Smart.DataAdapter({dataSource:[],id:e.dataRowId,expandHierarchy:e.expandHierarchy})}}else{if(e.dataFields=[],!e.columns||Array.isArray(e.columns)&&0===e.columns.length){e.columns=[];const i=e.querySelectorAll("th");for(let r=0;r<i.length;r++){const o=i[r].innerHTML.trim();e.columns.push({label:o,dataField:o,dataType:"string"}),e.dataFields.push(o)}}else for(let i=0;i<e.columns.length;i++){const r=e.columns[i];"string"==typeof r?e.dataFields.push(r):"object"==typeof r&&e.dataFields.push(r.dataField+(r.dataType?": "+r.dataType:""))}let n=[];if(!e.rows){const i=e.querySelectorAll("tr");for(let r=0;r<i.length;r++){const o={},s=i[r].querySelectorAll("td");if(s.length>0){for(let d=0;d<e.columns.length;d++){const c=e.columns[d];o[c.dataField]=s[d].innerHTML.trim(),o[c.dataField].indexOf("<")>=0&&e._templateTags.push({index:r,dataField:c.dataField,td:s[d]})}n.push(o)}}e.dataSource=new Smart.DataAdapter({dataSource:n,expandHierarchy:e.expandHierarchy,dataFields:e.dataFields,id:e.dataRowId})}const a=e.$.container.querySelectorAll("table");a.length>1&&a[a.length-1].parentNode.removeChild(a[a.length-1])}e.dataSource.expandHierarchy=e.expandHierarchy,e._transformDataSource(),e._applyInitialConditionalFormatting(e.dataSource),e._initColumns(t),e._initRows(),e.dataSource.notify(function(n){if(e.dataSource._updating)return void delete e.dataSource._updating;if(e._editing)return;const a=n.data,i=e._selectedIds.slice(0);let r=n.action;switch(e.rows.canNotify=!1,n.action){case"add":if(a.length)for(let o=0;o<a.length;o++)e._addNewRow(a[o],e.dataSource.length-a.length+o);else e._addNewRow(a,e.dataSource.length-1);break;case"update":if(a.length)for(let o=0;o<a.length;o++)e.rows[n.index[o]].data=a[o];break;case"insert":e._addNewRow(a,n.index);for(let o=0;o<e.rows.length;o++)e.rows[o].dataIndex=o;break;case"remove":case"removeLast":r="remove",function(o){const s=o.$.id,d=e._selectedIds.indexOf(s);delete e.rowById[s],e.rows.splice(o.$.index,1),-1!==d&&e._selectedIds.splice(d,1)}(a);break;case"bindingComplete":if(e.filtering&&e.filterRow){const o=e._filterInfo;o.inputFilters?e._filterByAll(o.query):o.rowFilters?e._applyRowFilters():o.appliedFilters&&e._refreshFilters()}}e.rows.canNotify=!0,this.refreshHierarchy(),e._fullRefresh(void 0,i,r)}),e.refresh(),e.dataSource.virtualDataSource&&(e.paging=!0,e._requestVirtualDataSource("dataBind")),e.$.tableContainer.setAttribute("aria-rowcount",e.dataSource.length)}_requestVirtualDataSource(t,e,n=null){const a=this,i=a.pageSize,r=Math.max(a.pageIndex*i,0),o=r+i,s=[],d=[],c={};let u=null;if(a.dataSource._updating=!0,a._sortColumns&&(a._sortColumns.forEach((m,h)=>s[m.dataField]={sortOrder:m.direction,sortIndex:h}),s.length=a._sortColumns.length),a._filterInfo.appliedFilters){for(let m in a._filterInfo.appliedFilters)d[m]=a._filterInfo.appliedFilters[m];d.length=Object.keys(a._filterInfo.appliedFilters).length,u="and"}else{const m=a._filterInfo.inputFilters||a._filterInfo.rowFilters;m&&(m.forEach(h=>d[h[0]]=h[1]),d.length=m.length),u=a._filterInfo.inputFilters?"or":"and"}a._editing&&(c.row=a._editing.row.data),a.$.loadingIndicatorContainer.classList.remove("smart-hidden"),a.setAttribute("loading",""),a.dataSource.onVirtualDataSourceRequested(function(m){let h=!0;-1!==["add","update","remove"].indexOf(t)&&e&&(h=e(m.result)),a.$.loadingIndicatorContainer.classList.add("smart-hidden"),a.removeAttribute("loading"),h&&(n&&(n.expanded=!0),a._initRows(),a._refreshDataRows())},{first:r,last:o,sorting:s,filtering:d,filterOperator:u,grouping:[],edit:c,row:n,action:t})}sortBy(t,e){const n=this,a=n.columnByDataField[t];if(a){if(!1===a.allowSort)return;t=a.dataField}n._sortBy({column:a,columnDataField:t,sortOrder:e,dataFields:n.dataSource.dataFields,columnByDataField:"columnByDataField"}),null===t&&n.$.fireEvent("sort",{columns:[],sortDataFields:[],sortOrders:[],sortDataTypes:[],type:!0===n._sortOnClick?"interaction":"programmatic"})}_sortBy(t){const e=this,n=t.column,a=t.columnDataField,i=t.sortOrder,r=t.dataFields,o=t.columnByDataField,s=[],d=[],c=[],u=function(C){e._addSortIconContainer(C),C.headerCellElement&&(C.headerCellElement.removeAttribute("aria-sort"),C.headerCellElement.sortIconContainerElement.classList.remove("desc"),C.headerCellElement.sortIconContainerElement.classList.remove("asc")),C.sortOrder=null},m=function(){if(e._sortColumns&&e._sortColumns.length>0)for(let C=0;C<e._sortColumns.length;C++)u(e[o][e._sortColumns[C].dataField]);e._sortColumns=[]};if(null==n)return void(e._sortColumns&&e._sortColumns.length>0&&(m(),e._sortCallback(s,d,c),e._updateState("sorted")));if("none"===e.sortMode||!e.dataSource||i&&n.sortOrder===i)return;let h=i||"asc";null===i&&(h=null),u(n),e._sortColumns||(e._sortColumns=[]);let y="string";for(let C=0;C<r.length;C++){const x=r[C];if(x.name===a){y=x.dataType,"any"===y&&(y="number");break}}let _=!0;for(let C=0;C<e._sortColumns.length;C++){const x=e._sortColumns[C];if(x.dataField===a)if(_=!1,null===h&&(x.direction="desc"),"asc"===x.direction)x.direction="desc",h="desc";else if("desc"===x.direction){e._sortColumns.splice(C,1),u(n),h=i;break}}_&&("one"===e.sortMode&&m(),e._sortColumns.push({dataField:a,direction:h,dataType:y})),e._addSortIconContainer(n),null!==h?(n.headerCellElement&&(n.headerCellElement.sortIconContainerElement.classList.remove("asc"),n.headerCellElement.sortIconContainerElement.classList.remove("desc")),n.sortOrder=h,n.headerCellElement&&("desc"===h?(n.headerCellElement.sortIconContainerElement.classList.add("desc"),n.headerCellElement.setAttribute("aria-sort","descending")):(n.headerCellElement.sortIconContainerElement.classList.add("asc"),n.headerCellElement.setAttribute("aria-sort","ascending")))):n.headerCellElement&&(n.headerCellElement.sortIconContainerElement.classList.remove("asc"),n.headerCellElement.sortIconContainerElement.classList.remove("desc"),n.headerCellElement.removeAttribute("aria-sort"));for(let C=0;C<e._sortColumns.length;C++){const x=e._sortColumns[C],E=e[o][x.dataField];s.push(x.dataField),d.push(x.direction),c.push(x.dataType),E.headerCellElement&&E.headerCellElement.sortIconContainerElement.setAttribute("order",C+1)}e._sortCallback(s,d,c),e._updateState("sorted"),e._doNotFireEvent||e.$.fireEvent("sort",{columns:e._sortColumns,sortDataFields:s,sortOrders:d,sortDataTypes:c,type:!0===e._sortOnClick?"interaction":"programmatic"})}_addSortIconContainer(t,e,n){const a=t.headerCellElement;if(a&&!a.sortIconContainerElement){const i=document.createElement("div");i.classList.add("sort-by"),i.setAttribute("aria-hidden",!0),e&&i.classList.add(e),a.firstElementChild.appendChild(i),a.sortIconContainerElement=i,"asc"===e?a.setAttribute("aria-sort","ascending"):"desc"===e?a.setAttribute("aria-sort","descending"):a.removeAttribute("aria-sort"),void 0!==n&&i.setAttribute("order",n)}}_sortCallback(t,e,n){const a=this,i=a.dataSource;if(!i.virtualDataSource){let r=null;for(let d=0;d<a.columns.length;d++){const c=a.columns[d];c.sort&&(r||(r={}),r[c.dataField]=c.sort)}i._sort(a.dataSource.boundSource,t,e,n,a.sort,r);let o=[],s=[];if(i.groupBy&&i.groupBy.toArray&&(o=i.groupBy.toArray().slice(0)),o.length>0&&(s=a._getExpandedGroups(i.boundHierarchy)),i.refreshHierarchy(),o.length>0){const d=a._doNotFireEvent;a._doNotFireEvent=!0,a._restoreExpandedGroups(s),a._doNotFireEvent=d}}a._fullRefresh("sort")}clearSort(){this.sortBy(null)}_fullRefresh(t,e,n,a){const i=this;if(i.__updating)return;if(i.dataSource.virtualDataSource)return void i._requestVirtualDataSource(t,a);const r=i._getFractionOfMax();e||(e=i._selectedIds.slice(0)),e=JSON.stringify(e.sort()),i._initRows(),i._refreshDataRows(),i._setFractionOfMax(r),"filter"===t&&(i._updateSelectAllState(),n||(n="filter")),e!==JSON.stringify(i._selectedIds.slice(0).sort())&&("filter"!==t&&i._updateSelectAllState(),i._updateState("selected"),i.$.fireEvent("change",{type:n})),"string"==typeof t&&-1!==t.indexOf("page")&&i._fixFrozenHeaderFirefox()}_pagerChangeHandler(t){const e=this;(e.isInShadowDOM?t.composedPath()[0]:t.target)===e.$.pager&&(e.pageIndex=t.detail.index,e._fullRefresh("pageIndexChange"),e.$.fireEvent("page",{action:"pageIndexChange"}))}_pagerPageSizeChanged(t){const e=this;e.pageSize=t.detail.value,e._fullRefresh("pageSizeChange"),e.$.fireEvent("page",{action:"pageSizeChange"})}_filterInputKeyupHandler(){const t=this;clearTimeout(t._filterInputTimeout),t._filterInputTimeout=setTimeout(function(){if(t._filterInfo&&t.$.filterInput.value!==t._filterInfo.query){const e=t.context;t.context=t,t._filterByAll(t.$.filterInput.value),t.context=e}},500)}_filterByAll(t){const e=this;if(e._filterInfo.query=t,""===t)return void e.clearFilters();const n=[];e._clearRowFilters(),delete e._filterInfo.appliedFilters,e._filterInfo.stringDataFields.forEach(a=>{const i=new Smart.Utilities.FilterGroup,r=i.createFilter("string",t,"CONTAINS");i.addFilter("or",r),n.push([a,i])}),e.dataSource.virtualDataSource||e.dataSource._filter(n,"or"),e._filterInfo.inputFilters=n,e._fullRefresh("filter"),e._updateState("filtered"),e._doNotFireEvent||e.$.fireEvent("filter",{action:"add",filters:n})}_setupPagingAndFiltering(){const t=this;t.$.pager.$.pageSizeSelector.classList.add("underlined"),t.$.pager.$.pageSizeSelector.dropDownAppendTo="body",t._filterInfo={query:""},t._applyFilterTemplate(),t.$.header.classList.toggle("smart-hidden",(!t.filtering||t.filterRow||t.columnMenu)&&!t.conditionalFormattingButton)}_applyFilterTemplate(){const t=this,e=t.filterTemplate;if(t.$.filterTemplateContainer.innerHTML="",!e)return t.$.filterInput.classList.remove("smart-hidden"),t.$.filterTemplateContainer.classList.add("smart-hidden"),void(t.filterTemplate=null);const n=document.getElementById(e);if(n&&n instanceof HTMLTemplateElement){const a=document.importNode(n.content,!0);t.$.filterInput.classList.add("smart-hidden"),t.$.filterTemplateContainer.classList.remove("smart-hidden"),t.$.filterTemplateContainer.appendChild(a)}else t.filterTemplate=null,t.$.filterInput.classList.remove("smart-hidden"),t.$.filterTemplateContainer.classList.add("smart-hidden")}_refreshFilters(t){const e=this,n=[];for(let a in e._filterInfo.appliedFilters)n.push([a,e._filterInfo.appliedFilters[a]]);0!==n.length?(e._clearFilterInput(),e._clearRowFilters(),e.dataSource.virtualDataSource||e.dataSource._filter(n,e.filterOperator),e._fullRefresh("filter"),e._updateState("filtered"),t&&!e._doNotFireEvent&&e.$.fireEvent("filter",{action:t,filters:n})):e.clearFilters()}_localize(){const t=this,e=t.$.pager;e.messages[t.locale]||(e.messages[t.locale]={}),e.messages[t.locale].pageSizeLabel=t.localize("itemsPerPage"),e.messages[t.locale].summaryPrefix=t.localize("summaryPrefix"),e.messages[t.locale].summarySuffix="",e.$.firstButton.setAttribute("tooltip",t.localize("firstButton")),e.$.previousButton.setAttribute("tooltip",t.localize("previousButton")),e.$.nextButton.setAttribute("tooltip",t.localize("nextButton")),e.$.lastButton.setAttribute("tooltip",t.localize("lastButton")),t.$.filterInput.placeholder=t.localize("filterPlaceholder"),t.$.conditionalFormattingButton.setAttribute("tooltip",t.localize("conditionalFormatting")),t._filterInfo.stringConditions=[{value:"EMPTY",label:t.localize("EMPTY")},{value:"NOT_EMPTY",label:t.localize("NOT_EMPTY")},{value:"CONTAINS",label:t.localize("CONTAINS")},{value:"CONTAINS_CASE_SENSITIVE",label:t.localize("CONTAINS_CASE_SENSITIVE")},{value:"DOES_NOT_CONTAIN",label:t.localize("DOES_NOT_CONTAIN")},{value:"DOES_NOT_CONTAIN_CASE_SENSITIVE",label:t.localize("DOES_NOT_CONTAIN_CASE_SENSITIVE")},{value:"STARTS_WITH",label:t.localize("STARTS_WITH")},{value:"STARTS_WITH_CASE_SENSITIVE",label:t.localize("STARTS_WITH_CASE_SENSITIVE")},{value:"ENDS_WITH",label:t.localize("ENDS_WITH")},{value:"ENDS_WITH_CASE_SENSITIVE",label:t.localize("ENDS_WITH_CASE_SENSITIVE")},{value:"EQUAL",label:t.localize("EQUAL")},{value:"EQUAL_CASE_SENSITIVE",label:t.localize("EQUAL_CASE_SENSITIVE")},{value:"NULL",label:t.localize("NULL")},{value:"NOT_NULL",label:t.localize("NOT_NULL")}],t._filterInfo.numberAndDateConditions=[{value:"EQUAL",label:t.localize("EQUAL")},{value:"NOT_EQUAL",label:t.localize("NOT_EQUAL")},{value:"LESS_THAN",label:t.localize("LESS_THAN")},{value:"LESS_THAN_OR_EQUAL",label:t.localize("LESS_THAN_OR_EQUAL")},{value:"GREATER_THAN",label:t.localize("GREATER_THAN")},{value:"GREATER_THAN_OR_EQUAL",label:t.localize("GREATER_THAN_OR_EQUAL")},{value:"NULL",label:t.localize("NULL")},{value:"NOT_NULL",label:t.localize("NOT_NULL")}]}_createFilterRow(t){const e=this;if(!e.filtering||!e.filterRow)return;if(t)return void e.$.tableContainer.children[1].insertBefore(t,e.$.tableContainer.children[1].firstElementChild);const n=document.createElement("tr"),a=e._columns.filter(r=>r.visible);let i="";n.className="smart-table-filter-row",e.selection&&(i+='<td style="left: 0px; z-index: 99; position: sticky; background: var(--smart-background);"></td>');for(let r=0;r<a.length;r++)i+=e._createFilterRowInput(a[r]);n.innerHTML=i,e.$.tableContainer.children[1].insertBefore(n,e.$.tableContainer.children[1].firstElementChild)}_createFilterRowInput(t){const e=this,n=` animation="${e.animation}" `,a=e.rightToLeft?" right-to-left":"",i=[];let r,o,s,d;return"string"===t.dataType?(r=e._filterInfo.stringConditions,o="string",s="string-filter",d=e.localize("CONTAINS")):(r=e._filterInfo.numberAndDateConditions,o=t.dataType,s="num-date-filter",d=e.localize("EQUAL")),t.freeze&&i.push("freeze-"+("far"===t.freeze?"far":"near")),t.responsivePriority&&i.push("priority-"+t.responsivePriority),!1===t.allowFilter&&i.push("no-filter"),`<td${i.length?' class="'+i.join(" ")+'"':""} filter-for="${t.dataField}">\n                            <div>\n                                <input type="${o}" class="filter-value" aria-label="Filter value" />\n                                <smart-input class="${s}${n}data-source='${JSON.stringify(r)}' drop-down-button-position="right" drop-down-width="auto" readonly${a} value="${d}" title="${e.localize("filterCondition")}" aria-label="Filter condition"></smart-input>\n                                <smart-button class="smart-hidden" title="${e.localize("clearFilter")}"${n}${a} aria-label="Clear filter"></smart-button>\n                            </div>\n                        </td>`}_tableContainerChangeHandler(t){const e=this,n=e.isInShadowDOM?t.composedPath()[0]:t.target;n.classList.contains("filter-value")&&("date"===n.type||n instanceof Smart.Input&&(""!==n.previousElementSibling.value||-1!==["EMPTY","NOT_EMPTY","NULL","NOT_NULL"].indexOf(t.detail.value)))&&e._applyRowFilters(),(n.classList.contains("string-filter")||n.classList.contains("num-date-filter"))&&n instanceof Smart.Input&&(""!==n.previousElementSibling.value||-1!==["EMPTY","NOT_EMPTY","NULL","NOT_NULL"].indexOf(t.detail.value))&&e._applyRowFilters()}_tableContainerClickHandler(t){const e=this;if(e._editing)return;const n=e.isInShadowDOM?t.composedPath()[0]:t.target;if(!e.$.tableContainer.contains(n))return;const a=n.closest("tbody tr[row-id], tfoot tr.grand-total");if(a){e.closeColumnMenu();const o=n.closest("td");if(n.classList.contains("hierarchy-arrow")){const m=e.animation;return e.virtualization&&(e._animation="none"),e._hierarchyArrowClickHandler(a,o),void(e.virtualization&&(e._animation=m))}const s=a.getAttribute("row-id");let d;s&&(d=e.rowById?e.rowById[s].data:e.rows.dataItemById[s]);const c=d?d.$.id:void 0,u=o?o.getAttribute("data-field"):void 0;if(!d&&a.classList.contains("grand-total")&&(d=a.data),void 0!==u){const m={};for(let h=0;h<e.columns.length;h++){const y=e.columns[h];m[y.dataField]=d[y.dataField]}e.$.fireEvent("cellClick",{id:s,row:m,dataField:u,value:d[u],originalEvent:t})}if(e._toggleSelection(a,d,t,n),e.editing||e.drillDown){if(!u||o.classList.contains("no-edit"))return;clearTimeout(e._dblclickObject.timeout),e._dblclickObject.numberOfClicks++,2===e._dblclickObject.numberOfClicks?(e._dblclickObject.numberOfClicks=0,e._beginEdit({rowElement:a,cell:o,dataField:u})):e._dblclickObject.timeout=setTimeout(function(){e._dblclickObject.numberOfClicks=0},300)}return void(e.rowDetailTemplate&&e._toggleRowDetail(a,c))}const i=n.closest(".smart-table-select-all");if(i)return"one"===e.selectionMode?void 0:void e._selectAllCheckboxClickHandler(i);const r=n.closest(".smart-table-filter-row smart-button")||n.closest(".smart-table-column-menu smart-button");if(r){const o=r.parentElement.firstElementChild,s=r.parentElement.children[1];return o.value="",-1!==["EMPTY","NOT_EMPTY","NULL","NOT_NULL"].indexOf(s.$.input.dataValue)&&(s.value=e.localize("text"===o.type?"CONTAINS":"EQUAL"),delete s.$.input.dataValue),void e._applyRowFilters()}}_toggleSelection(t,e,n,a){const i=this;if(!i.selection||"cell"===i.selectionMode||t.classList.contains("disable-select")||t.classList.contains("grand-total"))return;function r(){i._selectedIds=[],Array.from(i.$.tableContainer.querySelectorAll(".smart-table-select-row.selected")).forEach(d=>{d.parentElement.classList.contains("disable-select")||d.parentElement.setAttribute("aria-selected",!1),d.classList.remove("selected","indeterminate"),d.firstElementChild.setAttribute("aria-checked",!1)})}const o=e.$.id;let s=-1!==i._selectedIds.indexOf(o);if(i._interaction=!0,"one"===i.selectionMode){if(s)return;r(),i.select(o)}if("many"===i.selectionMode)if(s)i.unselect(o);else{if(i._disabledSelection.length>0&&e.children&&e.children.length>0){let d=0,c=0,u=[];if(e.children.forEach(m=>{const h=m.$.id;-1===i._selectedIds.indexOf(h)?d++:u.push(h),-1!==i._disabledSelection.indexOf(h)&&c++}),d===c)return i.unselect(u),void delete i._interaction}i.select(o),i._selectionStart={data:e,element:t}}else{if(i._selectionStart&&n.shiftKey){let u,m,h;if(i.virtualization?(u=i.rows,m=u.findIndex(y=>y.data.$.id===o),h=u.findIndex(y=>y.data.$.id===i._selectionStart.data.$.id)):(u=Array.from(i.$.tableContainer.querySelectorAll("tr[row-id]:not([unused])")),m=u.indexOf(t),h=u.indexOf(i._selectionStart.element)),m!==h){const y=JSON.stringify(i._selectedIds.slice(0).sort()),_=Math.min(m,h),C=Math.max(m,h);r();const x=[];for(let E=_;E<=C;E++)x.push(u[E].data.$.id);return i._changeSelectionOfMultiple(x,"select","interaction",y),getSelection().removeAllRanges(),void delete i._interaction}if(1===i._selectedIds.length)return void delete i._interaction}const d=!!a&&(a.classList.contains("selection-checkbox")||a.classList.contains("smart-table-select-row"));let c=!1;if(1===i._selectedIds.length)c=!0;else if(i.hasAttribute("hierarchy")&&i.selectionByHierarchy){const u=[];(function m(h,y){const _=h.$.id;-1!==i._selectedIds.indexOf(_)&&y.push(_),h.children&&h.children.forEach(C=>m(C,y))})(e,u),i._selectedIds.length===u.length&&(c=!0),e&&e.leaf&&(c=!0),s=i._getChildCheckState(e).maxSelected}else i.hasAttribute("hierarchy")&&!i.selectionByHierarchy&&(c=!0);if(s&&(d||c||n.ctrlKey||n.metaKey))return delete i._selectionStart,i.unselect(o),void delete i._interaction;d||n.ctrlKey||n.metaKey||r(),i.select(o),i._selectionStart={data:e,element:t}}delete i._interaction}_selectAllCheckboxClickHandler(t,e){const n=this;if(void 0===e){const o=n._filterInfo;if(o.inputFilters||o.rowFilters||o.appliedFilters)return void n._selectAllCheckboxClickHandlerFiltering(t);if(e=n.dataSource,n.hasAttribute("hierarchy")&&n._disabledSelection.length>0){const s=e.boundHierarchy,d=n._getChildCheckState({children:s}).maxSelected;return void n._changeSelectionOfMultiple(s.map(c=>c.$.id),d?"unselect":"select","interaction")}}const a=e.length,i=n._selectedIds.length===a-n._disabledSelection.length+n._selectableGroupRecords.length,r=n._selectedIds.slice(0);if(n._selectedIds=[],i)n._updateCSSOnUnselectAll(t);else{let o,s=0;for(let d=0;d<a;d++){const c=e[d].$.id;-1===n._disabledSelection.indexOf(c)&&(n._selectedIds.push(c),s++)}s===a?o=!0:0===s&&(o=!1),n._updateCSSOnSelectAll(t,o),n._selectableGroupRecords.length>0&&(n._selectedIds=n._selectedIds.concat(n._selectableGroupRecords))}r.length!==n._selectedIds.length&&(n._updateState("selected"),n.$.fireEvent("change",{type:"interaction"}))}_selectAllCheckboxClickHandlerFiltering(t){const e=this,n=e.dataSource,a=e._selectedIds.slice(0),i=[],r=[];let o=0;for(let d=0;d<n.length;d++){const c=n[d];if(!1===c.$.filtered)continue;const u=c.$.id;o++,-1!==a.indexOf(u)&&i.push(u),-1===e._disabledSelection.indexOf(u)&&r.push(u)}const s=i.length===r.length;if(e._selectedIds=e._selectedIds.filter(d=>-1===r.indexOf(d)),s)e._updateCSSOnUnselectAll(t);else{let d;e._selectedIds=e._selectedIds.concat(r),r.length===o?d=!0:0===r.length&&(d=!1),e._updateCSSOnSelectAll(t,d)}a.length!==e._selectedIds.length&&(e._updateState("selected"),e.$.fireEvent("change",{type:"interaction"}))}_updateCSSOnUnselectAll(t){t.classList.remove("indeterminate","selected"),t.firstElementChild.setAttribute("aria-checked",!1),Array.from(this.$.tableContainer.querySelectorAll(".smart-table-select-row")).forEach(e=>{e.parentElement.classList.contains("disable-select")||e.parentElement.setAttribute("aria-selected",!1),e.classList.remove("selected","indeterminate"),e.firstElementChild.setAttribute("aria-checked",!1)})}_updateCSSOnSelectAll(t,e){e?(t.classList.remove("indeterminate"),t.classList.add("selected"),t.firstElementChild.setAttribute("aria-checked",!0)):!1===e?(t.classList.remove("indeterminate","selected"),t.firstElementChild.setAttribute("aria-checked",!1)):(t.classList.remove("selected"),t.classList.add("indeterminate"),t.firstElementChild.setAttribute("aria-checked","mixed")),Array.from(this.$.tableContainer.querySelectorAll(".smart-table-select-row")).forEach(n=>{n.parentElement.classList.contains("disable-select")||(n.parentElement.setAttribute("aria-selected",!0),n.classList.remove("indeterminate"),n.classList.add("selected"),n.firstElementChild.setAttribute("aria-checked",!0))})}_beginEdit(t){const e=this,n=e.editMode,a=t.dataField;let i=t.rowId,r=t.rowElement,o=t.rowObject,s=t.cell,d=[],c=[];if(e.editing){r||(r=e.$.tableContainer.querySelector(`tr[row-id="${i}"]:not([unused])`)),o||(i=r.getAttribute("row-id"),o=e.rowById[i],i=o.data.$.id),"row"===n?(d=r.querySelectorAll("td[data-field]"),c=e._columns.filter(u=>u.visible).map(u=>u.dataField),s||(s=a?r.querySelector(`td[data-field="${a}"`):d[0])):(s||(s=r.querySelector(`td[data-field="${a}"`)),d=[s],c=[a]),e._editing={row:o,cells:[]};for(let u=0;u<c.length;u++){const m=d[u];let h=c[u];const y=e.columnByDataField[h];if(!1===y.allowEdit)continue;y.transform&&(h=y.originalDataField);const _=o.data[h],C=e._initEditor(y,i,h,_);let x=C instanceof HTMLInputElement&&"date"===C.type;if(y.editor&&y.editor.template)y.editor.onRender&&y.editor.onRender(i,h,C,_);else if(x)if(_ instanceof Date&&!isNaN(_.getTime())){const E=(_.getMonth()+1).toString(),A=_.getDate().toString();C.value=`${_.getFullYear()}-${"0".repeat(2-E.length)}${E}-${"0".repeat(2-A.length)}${A}`}else C.value="";else C.value=void 0===_?"":_;m.classList.add("editing"),m.innerHTML="",m.appendChild(C),m===s&&C.focus&&(C.focus(),y.editor&&y.editor.template||x||!C.select||C.select()),e._editing.cells.push({dataField:h,editor:C,element:m}),e.$.fireEvent("cellBeginEdit",{id:o.data.$.id,row:o.data,value:o.data[h],dataField:h})}"row"===n&&e.$.fireEvent("rowBeginEdit",{id:o.data.$.id,row:o.data})}}_initEditor(t,e,n,a){let i=this._editors[n];if(i)return i;if(t.editor&&t.editor.template){const r=document.createElement("div");return r.innerHTML=t.editor.template,i=r.firstElementChild,i.className="smart-table-editor",t.editor.onInit&&t.editor.onInit(e,n,i,a),i}return i=document.createElement("input"),i.className="smart-table-editor standard",i.type="number"===t.dataType?"number":"date"===t.dataType?"date":"text",this._editors[n]=i,i}_toggleRowDetail(t,e){const n=this;if(n.virtualization)return void n._toggleRowDetailVirtualization(t,e);const a=t.nextElementSibling;a.classList.toggle("collapsed"),a.classList.contains("collapsed")?(a.setAttribute("aria-hidden",!0),n._expandedRowDetailIds=n._expandedRowDetailIds.filter(i=>i!==e)):(a.removeAttribute("aria-hidden"),n._expandedRowDetailIds.push(e))}_toggleRowDetailVirtualization(t,e){const n=this;let a=t.nextElementSibling;function i(){let o=n.$.virtualizationContainer.$.verticalScrollBar,s=n.$.virtualizationContainer.$.verticalScrollBar.value;n._ignoreVerticalChange=!0,n._refreshDataRows(),s=Math.min(o.max,s),o.value=s,delete n._ignoreVerticalChange,n._onVerticalChange({detail:{value:s}},!0)}if(a&&a.classList.contains("smart-table-row-detail")&&!a.classList.contains("collapsed"))return a.setAttribute("aria-hidden",!0),n._expandedRowDetailIds=n._expandedRowDetailIds.filter(o=>o!==e),a.classList.add("collapsed"),a.remove(),void i();const r=t.data;a=document.createElement("tr"),a.classList.add("collapsed"),n._createRowDetailOnDemand(a,{data:r},r),t.parentElement.insertBefore(a,t.nextElementSibling),n._expandedRowDetailIds.push(e),a.classList.remove("collapsed"),i()}_setFocusable(){const t=this,e="smart-table"===t.nodeName.toLowerCase();if(!t.keyboardNavigation||t.disabled||t.unfocusable||t.hasAttribute("modal"))return t.$.tableContainer.removeAttribute("tabindex"),e&&(t.$.filterInput.unfocusable=!0,t.$.pager.unfocusable=!0),void(t.$.conditionalFormattingButton.unfocusable=!0);const n=t.$.tableContainer.getAttribute("tabindex");(null===n||n<0)&&t.$.tableContainer.setAttribute("tabindex",0),e&&(t.$.filterInput.unfocusable=!1,t.$.pager.unfocusable=!1),t.$.conditionalFormattingButton.unfocusable=!1}_tableContainerFocusHandler(){const t=this;t._focusedCell&&t.$.tableContainer.contains(t._focusedCell)||t._focusCell(t.$.tableContainer.children[1].querySelector("tr:not([unused]) td[data-field], tr:not([unused]) td.group-header"))}_tableContainerDownHandler(t){const e=this.isInShadowDOM?t.originalEvent.composedPath()[0]:t.originalEvent.target;this._focusCell(e.closest("td[data-field], td.group-header")),t.stopPropagation()}_focusCell(t,e){const n=this;if(!t||!t.hasAttribute("data-field")&&!t.classList.contains("group-header")||t.parentElement.classList.contains("grand-total"))return!1;if(n._focusedCell){if(n._focusedCell===t)return!1;n._focusedCell.removeAttribute("focus")}if(n._focusedCell=t,t.setAttribute("focus",""),!e)return;const a=n.$.tableContainer.parentElement,i=n.$.header.offsetHeight,r=n.freezeHeader?n.$.tableContainer.firstElementChild.offsetHeight:0,o=a.scrollTop;let s=t.offsetTop-i-r;if(s<o)a.scrollTop=s;else{const _=a.clientHeight-(i+r+(n.footerRow&&n.freezeFooter?n.$.tableContainer.lastElementChild.offsetHeight:0)+n.$.pager.offsetHeight);s+=t.offsetHeight,s>o+_&&(a.scrollTop=s-_)}if(t.classList.contains("freeze-near")||t.classList.contains("freeze-far"))return;const d=a.scrollLeft,c=n.$.tableContainer.querySelector("tr[row-id]:not([unused])");let u,m=0;if(Array.from(c.children).forEach(h=>{h.classList.contains("freeze-near")&&(m+=h.offsetWidth)}),n.rightToLeft){let h=t.previousElementSibling;for(u=0;h;)h.classList.contains("freeze-near")||(u-=h.offsetWidth),h=h.previousElementSibling;if(u>d)a.scrollLeft=u;else{const y=a.clientWidth;u-=t.offsetWidth,u<d-y&&(a.scrollLeft=u+y-m)}}else if(u=t.offsetLeft-m,u<d)a.scrollLeft=u;else{const h=a.clientWidth;u+=t.offsetWidth+m,u>d+h&&(a.scrollLeft=u-h)}}focus(){const t=this;!t.keyboardNavigation||t.disabled||t.unfocusable||t.hasAttribute("modal")||t.$.tableContainer.focus()}blur(){this.$.tableContainer.blur()}_tableContainerKeydownHandler(t){const e=this,n=e.isInShadowDOM?t.composedPath()[0]:t.target,a=t.key;if("Shift"===a)return void("extended"===e.selectionMode&&e.$.tableContainer.classList.add("smart-unselectable"));if(!e.contains(n)||n&&"INPUT"===n.nodeName&&!e._editing)return;const i=e._focusedCell;if(!i)return;const r=e.virtualization,o=i.classList.contains("group-header");if(o&&-1!==["ArrowRight","ArrowLeft","Home","End","Escape","F2"].indexOf(a))return void t.preventDefault();if(e._editing){switch(a){case"Enter":e.endEdit();break;case"Escape":e.cancelEdit();break;default:return}return e.$.tableContainer.focus(),void t.preventDefault()}const s=i.parentElement;if(r&&s){const u=e.$.virtualizationContainer.$.verticalScrollBar,m=u.value,h=s.data.$.id;if("ArrowUp"===a&&0===m&&h===e._rowsVirtual[0].data.$.id||"ArrowDown"===a&&m===u.max&&h===e._rowsVirtual[e._rowsVirtual.length-1].data.$.id)return}let d="ArrowRight",c="ArrowLeft";switch(e.rightToLeft&&(d="ArrowLeft",c="ArrowRight"),a){case d:case c:{const u=a===d?"nextElementSibling":"previousElementSibling";let m=i[u];for(;m&&m.classList.contains("smart-hidden");)m=m[u];e._focusCell(m,!r,t),e._scrollToVirtualization(a===d?"nextArrow":"prevArrow",m);break}case"ArrowUp":case"ArrowDown":{const u="ArrowUp"===a?"previousElementSibling":"nextElementSibling";let m=s[u];for(;m&&(m.classList.contains("smart-table-row-detail")||m.classList.contains("collapsed"));)m=m[u];m&&(e._focusCell(m.querySelector(o?"td[data-field], .group-header":`td[data-field="${i.getAttribute("data-field")}"], .group-header`),!r,t),e._scrollToVirtualization(a,m));break}case"Home":e._focusCell(s.querySelector("td[data-field]"),!r,t),e._scrollToVirtualization(a);break;case"End":{const u=s.querySelectorAll("td[data-field]");let m=u.length-1,h=u[m];for(;h.classList.contains("smart-hidden");)m--,h=u[m];e._focusCell(h,!r,t),e._scrollToVirtualization(a);break}case"PageDown":e._pageDownHandler(i,t);break;case"PageUp":e._pageUpHandler(i,t);break;case"Enter":{const u=s.data;e.dataSource.boundHierarchy&&e._areChildrenFiltered(u)?e._hierarchyArrowClickHandler(s,i,t):e.rowDetailTemplate&&e._toggleRowDetail(s,u.$.id);break}case" ":e._toggleSelection(s,s.data,t);break;case"F2":e.beginEdit(s.data.$.id,i.getAttribute("data-field"));break;default:return}if(t.preventDefault(),e.onKeyboardScroll){const u=r?e.$.virtualizationContainer:e.$.container;e.onKeyboardScroll(a,u.scrollTop,u.scrollLeft)}}_pageDownHandler(t,e){const n=this,a=n.paging;if(!a&&t.parentElement===t.parentElement.parentElement.lastElementChild)return;const i=n.virtualization,r=n.$.tableContainer,o=r.parentElement,s=i?n.$.virtualizationContainer:o;let d=t.getAttribute("data-field");function c(){const m=r.querySelectorAll("tr[row-id]:not([unused])");let h=i?0:n.$.header.offsetHeight+n.$.pager.offsetHeight;n.footerRow&&n.freezeFooter&&(h+=r.lastElementChild.offsetHeight);for(let y=m.length-1;y>=0;y--){const _=m[y];if(!_.classList.contains("collapsed")&&_.offsetTop+_.offsetHeight<=(i?-o.offsetTop:o.scrollTop)+s.clientHeight-h)return _.querySelector(`td[data-field${d}], .group-header`)}}d=d?`="${d}"`:"";let u=c();if(u)if(t===u){const m=(n.freezeHeader?r.firstElementChild.offsetHeight:0)+n._rowHeight;let h;if(i?(h=s.$.verticalScrollBar.value,s.$.verticalScrollBar.value+=s.clientHeight-m):o.scrollTop+=o.clientHeight-m,u=c(),a&&(i&&h===s.$.verticalScrollBar.value||!i&&t===u)){const y=n.pageIndex;n.navigateTo(n.pageIndex+1),n.pageIndex!==y&&(i&&(s.$.verticalScrollBar.value=0),n._focusCell(r.querySelector(`tr[row-id]:not([unused]) td[data-field${d}], tr[row-id]:not([unused]) .group-header`),!i,e))}else n._focusCell(u,void 0,e)}else n._focusCell(u,void 0,e)}_pageUpHandler(t,e){const n=this,a=n.virtualization,i=n.$.tableContainer,r=i.parentElement,o=a?n.$.virtualizationContainer:r;let s=t.getAttribute("data-field");function d(){const u=i.querySelectorAll("tr[row-id]:not([unused])");let m=0;n.freezeHeader&&(m=i.firstElementChild.offsetHeight);for(let h=0;h<u.length;h++){const y=u[h];if(!y.classList.contains("collapsed")&&y.offsetTop>=(a?-r.offsetTop:r.scrollTop)+m)return y.querySelector(`td[data-field${s}], .group-header`)}}s=s?`="${s}"`:"";let c=d();if(c)if(t===c){const u=(n.freezeHeader?i.firstElementChild.offsetHeight:0)+n._rowHeight;let m;if(a?(m=o.$.verticalScrollBar.value,o.$.verticalScrollBar.value-=o.clientHeight-u):r.scrollTop-=r.clientHeight-u,c=d(),n.paging&&(a&&m===o.$.verticalScrollBar.value||!a&&t===c)){const h=n.pageIndex;if(n.navigateTo(n.pageIndex-1),n.pageIndex!==h){a&&(o.$.verticalScrollBar.value=o.$.verticalScrollBar.max);const y=i.querySelectorAll(`tr[row-id]:not([aria-hidden="true"]) td[data-field${s}], tr[row-id]:not([aria-hidden="true"]) .group-header`);n._focusCell(y[y.length-1],!a,e)}}else n._focusCell(c,void 0,e)}else n._focusCell(c,void 0,e)}_tableContainerKeyupHandler(t){const e=this,n=e.isInShadowDOM?t.composedPath()[0]:t.target;if("Shift"===t.key&&"extended"===e.selectionMode&&e.$.tableContainer.classList.remove("smart-unselectable"),e.contains(n))return n.classList.contains("filter-value")&&"date"!==n.type?(clearTimeout(e._filterRowTimeout),void(e._filterRowTimeout=setTimeout(function(){const a=e.context;e.context=e,e._applyRowFilters(),e.context=a},500))):void 0}_tableContainerPointeroverHandler(t){const e=this;if(!e.tooltip)return;const n=(e.isInShadowDOM?t.composedPath()[0]:t.target).closest("tbody td[data-field], thead th[data-field]");if(!n)return;const a=e.$.tableContainer.querySelector(".tooltip"),i=e.columnByDataField[n.getAttribute("data-field")],r=e.virtualization;if(a&&(a.classList.remove("tooltip"),a.removeAttribute("title")),"th"!==n.tagName.toLowerCase())(n.classList.contains("tree-cell")&&n.firstElementChild&&n.firstElementChild.children[1].scrollWidth>n.firstElementChild.children[1].offsetWidth||n.scrollWidth>n.offsetWidth)&&(n.classList.add("tooltip"),n.title=r&&i&&i.templateElement?"":n.innerText);else{const o=n.querySelector(".label");o&&o.scrollWidth>o.offsetWidth&&(n.classList.add("tooltip"),n.title=r&&i&&i.templateElement?"":o.innerText)}}_documentDownHandler(t){const e=this,n=e.isInShadowDOM?t.originalEvent.composedPath()[0]:t.originalEvent.target;function a(){"default"!==e.columnSizeMode&&(e._preventClickSort=!0,clearTimeout(e._dblclickObject.timeout),e._dblclickObject.numberOfClicks++,2===e._dblclickObject.numberOfClicks?(e._dblclickObject.numberOfClicks=0,e._autoResizeColumnOnDblclick()):e._dblclickObject.timeout=setTimeout(function(){e._dblclickObject.numberOfClicks=0},300))}if(delete e._preventClickSort,e._editing&&!n.closest(".smart-table-editor")){const o=n.closest(".smart-drop-down")||n.closest(".smart-input-drop-down-menu");if(!o)return void e.endEdit();const s=o.ownerElement;return s&&e.$.container.contains(s)&&s.classList.contains("smart-table-editor")?void 0:void e.endEdit()}const i=e.columnReorder,r=e.columnResize;if(i&&!e.columnTotals||r){const o=n.closest("th[data-field]:not(.smart-pivot-table-total-header)");if(o&&e.$.tableContainer.contains(o)){if(e.$.tableContainer.classList.add("smart-unselectable"),r&&e._columns.length>1&&!e.hasAttribute("resize-max-reached")){const s=e.rightToLeft,d=o.getBoundingClientRect();let c=null;if(!s&&t.clientX<=d.left+5||s&&t.clientX>=d.right-5){const u=o.previousElementSibling;if(u&&u.hasAttribute("data-field")){if(u.hasAttribute("locked"))return;for(let y=0;y<e.columns.length;y++){const _=e.columns[y];if(_.headerCellElement===u){c=_;break}}const m=u.getBoundingClientRect(),h=c&&c.minWidth||e._getNumericMinWidth();return e._resizeDetails={FeedbackShown:!1,Item:u,ItemStart:m[s?"right":"left"]+window.scrollX,Min:h,StartPosition:{left:t.pageX,top:t.pageY},StartTime:new Date},e._resizeDetails.Max=e._getCurrentResizeMax(),void a()}}if(!s&&t.clientX>=d.right-5||s&&t.clientX<=d.left+5){if(o.hasAttribute("locked"))return;for(let m=0;m<e.columns.length;m++){const h=e.columns[m];if(h.headerCellElement===o){c=h;break}}const u=c&&c.minWidth||e._getNumericMinWidth();return e._resizeDetails={FeedbackShown:!1,Item:o,ItemStart:d[s?"right":"left"]+window.scrollX,Min:u,StartPosition:{left:t.pageX,top:t.pageY},StartTime:new Date},e._resizeDetails.Max=e._getCurrentResizeMax(),void a()}}i&&(e._dragDetails={FeedbackShown:!1,Item:o,StartPosition:{left:t.pageX,top:t.pageY},StartTime:new Date})}}}_documentMoveHandler(t){const e=this,n=e._dragDetails;if(!n)return void(e._resizeDetails&&e._handleResizeOnMove(t));if(!n.FeedbackShown){const r=(new Date).getTime()-n.StartTime.getTime()>500,o=Math.abs(n.StartPosition.left-t.pageX)>5||Math.abs(n.StartPosition.top-t.pageY)>5;if(!o||!(!e._isMobile||e._isMobile&&r))return void(e._isMobile&&o&&!r&&(delete e._dragDetails,e.$.tableContainer.classList.remove("smart-unselectable")));e._hideBodyOverflow(),n.Feedback=e._addDragFeedback(),n.FeedbackShown=!0,n.Item.classList.add("dragged"),e.classList.add("smart-unselectable")}const a=e.$.tableContainer.parentElement;n.Feedback.style.left=t.pageX+10+"px",n.Feedback.style.top=t.pageY+10+"px",n.HoveredItem&&(n.HoveredItem.classList.remove("drop-column","left","right"),delete n.HoveredItem),a.offsetWidth<a.scrollWidth&&(clearInterval(e._dragInterval),e._dragInterval=setInterval(function(){const r=a.getBoundingClientRect();r.left<=t.clientX&&r.left+r.width>=t.clientX?t.clientX>=r.left&&t.clientX<=r.left+25?a.scrollLeft-=e._autoScrollCoefficient:t.clientX>=r.left+r.width-25&&t.clientX<=r.left+r.width?a.scrollLeft+=e._autoScrollCoefficient:clearInterval(e._dragInterval):clearInterval(e._dragInterval)},10));const i=e._getClosestThToHover(t);i&&(i.classList.add("drop-column"),n.HoveredItem=i)}_hideBodyOverflow(){const t=(document.scrollingElement||document.documentElement).scrollHeight>document.documentElement.clientHeight,e=(document.scrollingElement||document.documentElement).scrollWidth>document.documentElement.clientWidth;this._originalBodyOverflow={overflowX:document.body.style.overflowX,overflowY:document.body.style.overflowY,overflow:document.body.style.overflow},document.body.classList.add("smart-dragging"),document.body.style.overflow=document.body.style.overflowX=document.body.style.overflowY="",t&&!e?document.body.style.overflowX="hidden":e&&!t?document.body.style.overflowY="hidden":e||t||(document.body.style.overflow="hidden")}_addDragFeedback(){const t=this,e=t._dragDetails.Item,n=document.createElement("div");return n.className="smart-table-feedback",n.setAttribute("parent-table-id",t.id),n.innerHTML=t.columnByDataField[e.getAttribute("data-field")].label,t.theme&&n.setAttribute("theme",t.theme),document.body.appendChild(n),n}_getClosestThToHover(t){const e=t.clientX,n=Array.from(this.$.tableContainer.querySelectorAll("th[data-field]:not(.smart-pivot-table-total-header)"));let a,i,r;for(let o=0;o<n.length;o++){const s=n[o];if(!s||this._dragDetails.Item===s)continue;const d=s.getBoundingClientRect(),c=Math.abs(e-d.left),u=Math.abs(e-d.right),m=Math.min(c,u);if(!(void 0===i||m<i))break;a=s,i=m,r=c<u?"left":"right"}return a&&a.classList.add(r),a}_handleResizeOnMove(t){const e=this,n=e._resizeDetails;if(!n.FeedbackShown){const o=(new Date).getTime()-n.StartTime.getTime()>500,s=Math.abs(n.StartPosition.left-t.pageX)>=1||Math.abs(n.StartPosition.top-t.pageY)>=1;if(!s||!(!e._isMobile||e._isMobile&&o))return void(e._isMobile&&s&&!o&&(delete e._resizeDetails,e.$.tableContainer.classList.remove("smart-unselectable","resizing"),document.body.style.cursor=null));n.Feedback=e._addResizeFeedbacks(),n.FeedbackShown=!0,e.classList.add("smart-unselectable","resizing"),document.body.style.cursor="col-resize"}const a=n.Feedback,i=n.ItemStart;let r;e.rightToLeft?(r=Math.min(n.Max,Math.max(n.Min,Math.round(i-t.pageX))),a.style.left=i-r+"px"):(r=Math.min(n.Max,Math.max(n.Min,Math.round(t.pageX-i))),a.style.left=i+r+"px"),a.classList.toggle("min",r===n.Min),a.classList.toggle("max",r===n.Max),e.columnResizeFeedback&&(a.innerHTML=r+"px"),n.Width=r}_addResizeFeedbacks(){const t=this,e=t._resizeDetails,n=t.$.container.getBoundingClientRect(),a=n.top+window.scrollY+"px",i=n.height+"px",r=document.createElement("div"),o=document.createElement("div");return o.className="smart-table-resize-feedback static",o.setAttribute("parent-table-id",t.id),o.style.top=a,o.style.left=e.ItemStart+"px",o.style.height=i,t._resizeDetails.StaticFeedback=o,r.className="smart-table-resize-feedback",r.setAttribute("parent-table-id",t.id),r.style.top=a,r.style.height=i,t.theme&&(o.setAttribute("theme",t.theme),r.setAttribute("theme",t.theme)),document.body.appendChild(r),document.body.appendChild(o),r}_resolveResize(t){const e=this,n=e._resizeDetails;if(delete e._resizeDetails,e.$.tableContainer.classList.remove("smart-unselectable","resizing"),t){if(!n.FeedbackShown)return;n.StaticFeedback.remove(),n.Feedback.remove()}const a=e._columns.find(s=>s.headerCellElement===n.Item);e.classList.remove("smart-unselectable","resizing"),document.body.style.cursor=null;let i=n.Width;i<parseInt(e.columnMinWidth)&&(i=parseInt(e.columnMinWidth));const r=e._getTableRemainingWidth();if(a){const s=a._isResponsive||!!(a.width&&a.width.toString().indexOf("%")>=0);if(delete a.width,a.minWidth&&i<a.minWidth&&(i=a.minWidth),a._manualWidth=i,a._manualPercentageWidth=parseFloat(i/r*100),a._isResponsive=s,n.Item.style.width=a._isResponsive?parseFloat(i/r*100)+"%":i+"px",a._isFillRemainingWidth){let d=!0;for(let c=0;c<e._columns.length;c++){const u=e._columns[c];if(!u.width&&!u._manualWidth){d=!1;break}}!e.columnResizeNormalize&&d&&(e.columns.push({dataField:"",label:"",visible:!0,allowResize:!1,allowFilter:!1,allowSort:!1}),e._initColumns(!0),e.refresh())}}else n.Item.style.width=i+"px";e._handleAutoSizeMode(a),e._handleFrozenColumnPositions(),e._refreshHorizontalScrollbar();const o=parseFloat(i/r*100);a&&e.$.fireEvent("columnResize",{dataField:a.dataField,headerCellElement:n.Item,widthInPercentages:o,width:i})}openColumnMenu(t){const e=this,n=e.columnByDataField[t];if(!n)return;const a=n.headerCellElement;if(!a||n&&!1===n.allowMenu)return;const i=a.querySelector(".column-menu");if(!i)return;const r=()=>{const I=u.getBoundingClientRect(),L=e.activeColumnMenu;e._columnsSettingsMenu.style.top=I.top+window.scrollY+"px",e._columnsSettingsMenu.style.left=I.right+window.scrollX+"px",I.right-i.offsetWidth+window.scrollX+L.offsetWidth>e.getBoundingClientRect().right&&(e._columnsSettingsMenu.style.left=10+I.right-L.offsetWidth-e._columnsSettingsMenu.offsetWidth+window.scrollX+"px")},o=()=>{const I=n.headerCellElement;I.hasAttribute("column-menu-button")||I.setAttribute("column-menu-button","");const L=I.querySelector(".column-menu"),k=L.getBoundingClientRect();s.style.top=k.bottom+10+window.scrollY+"px",s.style.left=k.right-L.offsetWidth+window.scrollX+"px",k.right-L.offsetWidth+window.scrollX+s.offsetWidth>e.getBoundingClientRect().right&&(s.style.left=k.right-s.offsetWidth+window.scrollX+"px");const B=s.querySelector("input");B&&B.focus()};n.columnMenu&&n.columnMenu.remove(),e.closeColumnMenu();const s=document.createElement("div");s.classList.add("smart-table-column-menu","wrapper"),s.owner=a,s.dataField=t;const d=document.createElement("div");d.innerHTML=`<span class='menu-icon sort-asc'></span><span class="label">${e.localize("columnMenuItemSortAsc")}</span>`,d.classList.add("smart-table-menu-item");const c=document.createElement("div");c.innerHTML=`<span class='menu-icon sort-desc'></span><span class="label">${e.localize("columnMenuItemSortDesc")}</span>`,c.classList.add("smart-table-menu-item");const u=document.createElement("div");u.innerHTML=`<span class='menu-icon columns'></span><span class="label">${e.localize("columnMenuItemColumns")}</span>`,u.classList.add("smart-table-menu-item","columns-item");const m=document.createElement("div");m.innerHTML=`<span class='menu-icon filter-by'></span><span class="label">${e.localize("columnMenuItemFilter")}</span>`,m.classList.add("smart-table-menu-item","filter-item");const h=document.createElement("div");h.innerHTML=`<span class='menu-icon filter-by-remove'></span><span class="label">${e.localize("columnMenuItemRemoveFilter")}</span>`,h.classList.add("smart-table-menu-item","remove-filter-item","smart-hidden");const y=document.createElement("div");y.innerHTML=`<span class='menu-icon sort-remove'></span><span class="label">${e.localize("columnMenuItemRemoveSort")}</span>`,y.classList.add("smart-table-menu-item","remove-sort-item","smart-hidden");const _=document.createElement("div");_.innerHTML=`<span class='menu-icon reset'></span><span class="label">${e.localize("columnMenuItemReset")}</span>`,_.classList.add("smart-table-menu-item","reset-item"),u.onmouseleave=I=>{const L=e._columnsSettingsMenu.getBoundingClientRect();I.pageX>=L.left-20&&I.pageX<=L.right+20&&I.pageY>=L.top-20&&I.pageY<=L.bottom+20||e._columnsSettingsMenu&&e._columnsSettingsMenu.remove()},u.onmouseenter=()=>{e._columnsSettingsMenu=(()=>{e._columnsSettingsMenu&&e._columnsSettingsMenu.remove();const I=document.createElement("div");I.classList.add("smart-table-column-menu","wrapper","smart-table-columns-menu");let L=0,k=null;for(let B=0;B<e.columns.length;B++){const O=document.createElement("div");O.innerHTML=`<span class='column-item menu-icon'></span><span class="label">${e.columns[B].label}</span>`,O.classList.add("smart-table-menu-item"),O.column=e.columns[B],t!==O.column.dataField&&!1!==O.column.allowHide&&(O.column.visible?(L++,k=O):O.firstElementChild.classList.add("off"),O.onpointerdown=P=>{O.column.visible=!O.column.visible,O.column.visible?O.firstElementChild.classList.remove("off"):O.firstElementChild.classList.add("off"),o(),r(),P.stopPropagation(),P.preventDefault()},I.appendChild(O))}return 1===L&&k&&k.classList.add("smart-disabled"),document.body.appendChild(I),I})(),r()};const C=e._createFilterRowInput(n);if(e.filtering&&!1!==n.allowFilter)if(e.filterRow)s.insertBefore(h,s.firstElementChild);else{s.innerHTML=C,s.insertBefore(m,s.firstElementChild);const I=s.querySelector(".filter-value");I.onkeyup=L=>{"Enter"===L.key&&e.closeColumnMenu(),"Escape"===L.key&&(I.value="")},I.nextElementSibling.onchange=()=>{e._applyRowFilters()}}s.insertBefore(_,s.firstElementChild),s.insertBefore(u,s.firstElementChild),s.insertBefore(y,s.firstElementChild),!1!==n.allowSort&&"none"!==e.sortMode&&(s.insertBefore(c,s.firstElementChild),s.insertBefore(d,s.firstElementChild),n.headerCellElement.hasAttribute("aria-sort")&&(y.classList.remove("smart-hidden"),"ascending"===n.headerCellElement.getAttribute("aria-sort")?d.classList.add("smart-disabled"):c.classList.add("smart-disabled")),y.onclick=()=>{e.sortBy(n.dataField,null),e.closeColumnMenu()},d.onclick=()=>{e.sortBy(n.dataField,"asc"),e.closeColumnMenu()},c.onclick=()=>{e.sortBy(n.dataField,"desc"),e.closeColumnMenu()}),_.onclick=()=>{if(e._initialState){if(e.loadState(e._initialState),e._filterInfo.filterRowValues&&delete e._filterInfo.filterRowValues,e.clearFilters(),e.filterRow){const I=e.$.tableContainer.querySelector(".smart-table-filter-row");I&&I.remove()}e._initRows(),e.refresh()}e.closeColumnMenu()};const x=e.columns.findIndex(I=>I.dataField===n.dataField);e.appendChild(s);const E=s.lastElementChild.children[2];E&&(E.onclick=()=>{const I=E.parentElement.firstElementChild,L=E.parentElement.children[1];I.value="",-1!==["EMPTY","NOT_EMPTY","NULL","NOT_NULL"].indexOf(L.$.input.dataValue)&&(L.value=e.localize("text"===I.type?"CONTAINS":"EQUAL"),delete L.$.input.dataValue),e._applyRowFilters()});const A=e._filterInfo&&e._filterInfo.filterRowValues?e._filterInfo.filterRowValues[x]:null;if(A&&!e.filterRow){const I=s.lastElementChild,L=n.dataType,k=e._filterInfo["string"===L?"stringConditions":"numberAndDateConditions"].find(B=>B.value===A.condition);if(-1===["EMPTY","NOT_EMPTY","NULL","NOT_NULL"].indexOf(k.value))if("date"===L){const B=new Date(A.value),O=(B.getMonth()+1).toString(),P=B.getDate().toString();I.children[0].value=`${B.getFullYear()}-${"0".repeat(2-O.length)}${O}-${"0".repeat(2-P.length)}${P}`}else I.children[0].value=A.value;I.children[1].value=k.label,I.children[1].$.input.dataValue=k.value,I.children[2].classList.remove("smart-hidden")}n.headerCellElement.hasAttribute("filter")&&h.classList.remove("smart-hidden"),h.onclick=()=>{e.removeFilter(n.dataField),e.closeColumnMenu()},o(),n.columnMenu=e.activeColumnMenu=s,e.$.fireEvent("openColumnMenu",{dataField:t})}closeColumnMenu(){const t=this;t.activeColumnMenu&&(t.activeColumnMenu.owner.hasAttribute("column-menu-button")&&t.activeColumnMenu.owner.removeAttribute("column-menu-button"),t._columnsSettingsMenu&&t._columnsSettingsMenu.remove(),t.$.fireEvent("closeColumnMenu",{dataField:t.activeColumnMenu.dataField}),t.activeColumnMenu.remove(),delete t.activeColumnMenu)}_documentUpHandler(t){const e=this,n=e._dragDetails;if(e.activeColumnMenu){const i=t.originalEvent?t.originalEvent:t;if(i){let r=!1,o=i.target;for(;o;)if(o=o.parentNode,o===e){r=!0;break}(e.activeColumnMenu.contains(i.target)||e._columnsSettingsMenu&&e._columnsSettingsMenu.contains(i.target))&&(r=!0);const s=e.activeColumnMenu.querySelector("smart-input");s&&s.$.scrollView.contains(i.target)&&(r=!0),r||e.closeColumnMenu()}}if(e._selectDrag)return e.$.main.classList.remove("prevent-scroll"),void delete e._selectDrag;if(!n)return e._resizeDetails&&e._resolveResize(!0),void e.$.tableContainer.classList.remove("smart-unselectable");if(delete e._dragDetails,e.$.tableContainer.classList.remove("smart-unselectable"),!n.FeedbackShown)return;const a=n.HoveredItem;document.body.classList.remove("smart-dragging"),document.body.style.overflow=e._originalBodyOverflow.overflow,document.body.style.eoverflowX=e._originalBodyOverflow.overflowX,document.body.style.overflowY=e._originalBodyOverflow.overflowY,delete e._originalBodyOverflow,e.classList.remove("smart-unselectable"),n.Item.classList.remove("dragged"),document.body.removeChild(n.Feedback),clearInterval(e._dragInterval),delete e._dragInterval,a&&e._applyColumnReorder(n,a),e._preventClickSort=!0,requestAnimationFrame(()=>delete e._preventClickSort)}_applyColumnReorder(t,e){const n=this,a=n.rightToLeft,i=n._columns,r=t.Item.getAttribute("data-field"),o=i.find(m=>m.dataField===r),s=e.getAttribute("data-field"),d=e.classList.contains("right"),c=n._columns.filter(m=>m.dataField!==r),u=c.findIndex(m=>m.dataField===s);e.classList.remove("drop-column","left","right"),c.splice(d&&!a||!d&&a?u+1:u,0,o),i.map(m=>m.dataField).join(",")!==c.map(m=>m.dataField).join(",")&&(n.columns=c,n._initColumns(),n.refresh())}_applyRowFilters(){const t=this;if(!t.filtering||!t.filterRow&&!t.columnMenu)return;const e=t.filterRow?t.$.tableContainer.querySelector(".smart-table-filter-row"):null,n=Number(t.selection),a=t._columns.filter(o=>o.visible),i=[],r=[];for(let o=0;o<a.length;o++){const s=a[o].dataField,d=a[o].dataType;if(a[o].headerCellElement&&a[o].headerCellElement.hasAttribute("filter")&&a[o].headerCellElement.removeAttribute("filter"),!t.filterRow&&!a[o].columnMenu){r.push(null);continue}const c=t.filterRow?e.children[o+n].firstElementChild:a[o].columnMenu.lastElementChild,u=c.children[2];let m=c.firstElementChild.value,h=c.children[1].value;"string"===d?h=t._filterInfo.stringConditions.find(_=>_.label===h).value:(h=t._filterInfo.numberAndDateConditions.find(_=>_.label===h).value,""!==m&&("number"===d?(m=parseFloat(m),isNaN(m)&&(c.firstElementChild.value="",m="")):"date"===d&&(m=new Date(m),m.setHours(0,0,0))));const y=-1!==["EMPTY","NOT_EMPTY","NULL","NOT_NULL"].indexOf(h);if(""!==m||y){const _=new Smart.Utilities.FilterGroup,C=_.createFilter(d,m,h);_.addFilter("or",C),i.push([s,_]),u.classList.remove("smart-hidden"),r.push({condition:h,value:m}),a[o].headerCellElement&&a[o].headerCellElement.setAttribute("filter","")}else u.classList.add("smart-hidden"),r.push(null),a[o].headerCellElement&&a[o].headerCellElement.hasAttribute("filter")&&a[o].headerCellElement.removeAttribute("filter");y?c.firstElementChild.setAttribute("disabled",!0):c.firstElementChild.removeAttribute("disabled")}i.length>0?(t.dataSource.virtualDataSource||t.dataSource._filter(i,t.filterOperator),t._filterInfo.rowFilters=i,t._filterInfo.filterRowValues=r,delete t._filterInfo.appliedFilters,t._fullRefresh("filter"),t._updateState("filtered"),t._doNotFireEvent||t.$.fireEvent("filter",{action:"add",filters:i})):t._filterInfo.rowFilters?(t._filterInfo.filterRowValues&&delete t._filterInfo.filterRowValues,t.clearFilters()):t._filterInfo.filterRowValues&&delete t._filterInfo.filterRowValues}_clearFilterInput(){const t=this;t._filterInfo.query="",delete t._filterInfo.inputFilters,t.$.filterInput.value=""}_clearRowFilters(t){const e=this;if(!e._filterInfo.rowFilters)return;const n=e.$.tableContainer.querySelector(".smart-table-filter-row"),a=e.selection?1:0;let i=e._columns.filter(r=>r.visible);if(t&&(i=e._columns.filter(r=>r.dataField===t)),n)for(let r=0;r<i.length;r++){const o=n.children[r+a]?n.children[r+a].firstElementChild:null;o&&(o.firstElementChild.value="",o.children[2].classList.add("smart-hidden")),i[r].headerCellElement&&i[r].headerCellElement.hasAttribute("filter")&&i[r].headerCellElement.removeAttribute("filter")}delete e._filterInfo.rowFilters}_createFooterRow(t){const e=this,n=e.footerRow;if(!n)return;if(t)return void e.$.tableContainer.appendChild(t);const a=document.getElementById(n);if(a&&a instanceof HTMLTemplateElement){const i=document.createElement("tfoot"),r=document.importNode(a.content,!0);i.appendChild(r),e.$.tableContainer.appendChild(i)}else e.footerRow=null}_createCustomHeaderRow(){const t=this,e=t.$.tableContainer.firstElementChild;let n=t.headerRow;if(n){if("function"==typeof n)n.call(t,e);else if("string"==typeof n){const a=document.getElementById(n);if(!a)return void(e.innerHTML=`<tr><th>${n}</th></tr>`);n=a}n instanceof HTMLTemplateElement?e.appendChild(document.importNode(n.content,!0)):n.nodeName?e.appendChild(n):t.headerRow=null}}_updateSelectAllState(t){const e=this;if(!e.selection||"cell"===e.selectionMode)return;const n=e.$.tableContainer.querySelector(".smart-table-select-all");let a;if(void 0===t){const i=e.dataSource,r=e._filterInfo;if(r.inputFilters||r.rowFilters||r.appliedFilters){const o=e._selectedIds;t=0,a=0;for(let s=0;s<i.length;s++){const d=i[s];!1!==d.$.filtered&&(t++,-1!==o.indexOf(d.$.id)&&a++)}}else t=e.dataSource.length}void 0===a&&(a=e._selectedIds.length),0===a||0===t?(n.classList.remove("selected","indeterminate"),n.firstElementChild.setAttribute("aria-checked",!1)):a===t+e._selectableGroupRecords.length?(n.classList.remove("indeterminate"),n.classList.add("selected"),n.firstElementChild.setAttribute("aria-checked",!0)):(n.classList.remove("selected"),n.classList.add("indeterminate"),n.firstElementChild.setAttribute("aria-checked","mixed"))}_resizeHandler(){const t=this;clearTimeout(t._resizeTimeout);const e=()=>{Smart.Utilities.Core.Browser.Firefox&&t.virtualization&&t._onVerticalChange({detail:{value:t.$.virtualizationContainer.$.verticalScrollBar.value}},!0)};e(),"default"===t.columnSizeMode&&t._handleAutoSizeMode(),t._resizeTimeout=setTimeout(function(){if(t.columnGroups&&t._columns.some(i=>i.responsivePriority&&i.responsivePriority>1))return void t.refresh();const n=t.offsetWidth,a=t.offsetHeight;if(t.virtualization&&t._cachedHeight!==a){const i=t._getFractionOfMax();return t._refreshDataRows(),t._setFractionOfMax(i),t._cachedWidth=n,t._cachedHeight=a,void e()}t._handleAutoSizeMode(),t._handleFrozenColumnPositions(),t._refreshHorizontalScrollbar(),t._cachedWidth=n,t._cachedHeight=a,e()},75)}_hierarchyArrowClickHandler(t,e){const n=this,a=!n.grouping,i=t.data;if(n.animation=n._animation,n.expandHierarchy&&(n._collapsedIds||(n._collapsedIds=[]),!0===i.expanded?n._collapsedIds[i.$.id]=!0:delete n._collapsedIds[i.$.id],n.dataSource&&n.expandHierarchy&&(n.dataSource._collapsedIds=n._collapsedIds)),a&&n.dataSource.virtualDataSource&&!i.expanded&&i.children&&0===i.children.length)return n._requestVirtualDataSource("expand",void 0,i),void n.$.fireEvent("expand",{id:i.$.id,record:i});if(n.virtualization)return void n._hierarchyArrowClickHandlerVirtualization(t,e);const r=n.$.tableContainer,o=i.$.id;function s(d){d.forEach(c=>{n._expandSingleChildRow(r.querySelector(`tr[row-id="${c.$.id}"]:not([unused])`)),c.children&&c.expanded&&requestAnimationFrame(()=>s(c.children))})}if(i.expanded?function d(c){c.forEach(u=>{n._collapseSingleChildRow(r.querySelector(`tr[row-id="${u.$.id}"]:not([unused])`)),u.children&&d(u.children)})}(i.children):requestAnimationFrame(()=>s(i.children)),i.expanded=!i.expanded,t.setAttribute("aria-expanded",i.expanded),t.classList.toggle("expanded",i.expanded),a)i.expanded?(-1===n._expandedIds.indexOf(o)&&n._expandedIds.push(o),n.$.fireEvent("expand",{id:i.$.id,record:i})):(n._expandedIds=n._expandedIds.filter(d=>d!==o),n.$.fireEvent("collapse",{id:i.$.id,record:i})),n._updateState("expanded");else if(!0!==e){let d=""+i.$.id;d=d.replace("Item","").replace(/_/gi,"."),n.$.fireEvent("group",i.expanded?{action:"expand",path:d,dataField:i.groupDataField,label:i.label}:{action:"collapse",path:d,dataField:i.groupDataField,label:i.label})}}_expandSingleChildRow(t,e=[]){t&&(e.push(!1),"none"!==this.animation?(t.classList.remove("smart-hidden"),requestAnimationFrame(()=>{t.classList.add("no-height"),t.ontransitionend=function(){t.classList.remove("no-height"),t.ontransitionend=null,e.pop()},t.removeAttribute("aria-hidden"),t.classList.remove("collapsed")})):(t.removeAttribute("aria-hidden"),t.classList.remove("collapsed","smart-hidden"),e.pop()))}_collapseSingleChildRow(t,e=[]){t&&(e.push(!1),"none"!==this.animation?t.ontransitionend=function(){t.classList.add("smart-hidden"),t.ontransitionend=null,e.pop()}:(t.classList.add("smart-hidden"),e.pop()),t.setAttribute("aria-hidden",!0),t.classList.add("collapsed"))}_getGroupByIndex(t){"number"==typeof t&&(t=t.toString());const e=this.dataSource.boundHierarchy,n=t.split(".");let a=e[n[0]];if(a){for(let i=1;i<n.length;i++)if(a=a.children[n[i]],!a||a.leaf)return;return a}}getGroupChildren(t){"number"==typeof t&&(t=t.toString());const e=this.dataSource.boundHierarchy,n=t.split(".");let a=e[n[0]];if(!a)return[];for(let i=1;i<n.length;i++)if(a=a.children[n[i]],!a||a.leaf)return[];return a.children}_createDialog(){const t=this,e=document.createElement("smart-window"),n=document.createElement("template"),a=` animation=${t.animation} theme="${t.theme}"${t.rightToLeft?" right-to-left":""}${!t.keyboardNavigation||t.unfocusable?" unfocusable":""}`;n.innerHTML=`<smart-button class="ok primary"${a}>${t.localize("ok")}</smart-button>\n<smart-button class="cancel"${a}>${t.localize("cancel")}</smart-button>`,e.animation=t.animation,e.footerTemplate=n,e.headerButtons=["close"],e.rightToLeft=t.rightToLeft,e.theme=t.theme,e.unfocusable=!t.keyboardNavigation||t.unfocusable,e.className="smart-table-window",e.ownerElement=t,t._dialog=e,t._addDialogHandlers(),t.getShadowRootOrBody().appendChild(e),t.setAttribute("aria-owns",e.id)}_addDialogHandlers(){const t=this,e=t._dialog;e.addEventListener("close",t._dialogEventHandler),e.addEventListener("click",t._dialogEventHandler)}_dialogEventHandler(t){const e=this,n=e.ownerElement,a=e.isInShadowDOM?t.composedPath()[0]:t.target,i=t.type,r=n.context;if(n.context=n,"close"===i){if(a!==e)return void(n.context=r);const o=e.classList.contains("conditional-formatting"),s=e.classList.contains("fields");e.ok?(o&&n._applyConditionalFormatting(),delete e.ok):o&&JSON.stringify(n._formattingPanel.items)!==JSON.stringify(n._formattingPanel.getItems())&&(n._formattingPanel.$.itemsContainer.innerHTML="",n._formattingPanel._addDefaultItems()),e.content.innerHTML="",e.classList.remove("conditional-formatting","drill-down","fields"),!n.keyboardNavigation||n.disabled||n.unfocusable||(n.$.tableContainer.setAttribute("tabindex",0),"smart-table"===n.nodeName.toLowerCase()&&(n.$.filterInput.unfocusable=!1,n.$.pager.unfocusable=!1),n.$.conditionalFormattingButton.unfocusable=!1),n.removeAttribute("modal"),o?n.$.conditionalFormattingButton.focus():s&&n.$.fieldsButton?n.$.fieldsButton.focus():n.$.tableContainer.focus()}else"click"===i&&e.$.footer.contains(a)&&(a.closest(".ok")?(e.ok=!0,e.close()):a.closest(".cancel")&&e.close());n.context=r}_openDialog(t,e,n){const a=this;a._dialog||a._createDialog();const i=a._dialog;i.label=t,i.classList.add(n),i.appendChild(e),a.$.tableContainer.removeAttribute("tabindex"),"smart-table"===a.nodeName.toLowerCase()&&(a.$.filterInput.unfocusable=!0,a.$.pager.unfocusable=!0),"drill-down"!==n?i.setAttribute("aria-controls",a.$.tableContainer.id):i.removeAttribute("aria-controls"),a.$.conditionalFormattingButton.unfocusable=!0,a.setAttribute("modal",""),i.open()}_conditionalFormattingButtonClickHandler(t,e,n){const a=this;let i;a._formattingPanel?i=a._formattingPanel:(i=document.createElement("smart-formatting-panel"),i.animation=a.animation,i.columns=e||a._columns,i.dataSource=n||a.dataSource,i.locale=a.locale,i.messages=a.messages,i.rightToLeft=a.rightToLeft,i.theme=a.theme,i.unfocusable=!a.keyboardNavigation||a.unfocusable,i.ownerElement=a,a._formattingPanel=i),a.conditionalFormatting&&(i.items=a.conditionalFormatting.slice(0)),a._openDialog(a.localize("conditionalFormatting"),i,"conditional-formatting")}_transformDataSource(){const t=this;if(!t.isRendered&&t.dataTransform){const e=t.dataSource;for(let n=0;n<e.length;n++)t.dataTransform(e[n])}}_applyInitialConditionalFormatting(t){const e=this,n=e.conditionalFormatting;if(!n||0===n.length)return void(e._conditionalFormatting=null);const a=e._defaults,i=new Smart.Utilities.ConditionalFormatter(t),r=[];let o;if("smart-pivot-table"===e.nodeName.toLowerCase()){const d=e._dynamicColumns;o=function(c){return"all"===c?d.map(u=>u.id):d.filter(u=>u.dataFields[u.dataFields.length-1].dataField===c).map(u=>u.id)}}else o=function(d){return"all"===d?e._columns.map(c=>c.value):[d]};for(let d=0;d<n.length;d++){n[d]=Object.assign({column:"all",condition:"lessThan",firstValue:0,secondValue:1,fontFamily:a.fontFamily,fontSize:a.fontSize,text:a.text,highlight:a.highlight},n[d]);const c=n[d],u=o(c.column),m=c.condition;i.color=c.highlight,i.comparator=c.firstValue,i.min=c.firstValue,i.max=c.secondValue;const h=i.format(m,u);for(let y in h){const _=h[y];for(let C in _){const x=_[C];x.color=c.text,x.fontFamily=c.fontFamily,x.fontSize=c.fontSize}}r.push(h)}if(e._formattingPanel&&(e._formattingPanel.items=n.slice(0)),0===r.length)return r[0];const s={};for(let d=0;d<r.length;d++){const c=r[d];for(let u in c){const m=c[u];s[u]||(s[u]={});for(let h in m)s[u][h]=Object.assign({},s[u][h],m[h])}}e._conditionalFormatting=s}_toHex(t){if(-1!==t.indexOf("#"))return t;const e=/rgb\((\d+), (\d+), (\d+)\)/g.exec(t);return e?"#"+(parseFloat(e[1]).toString(16).padStart(2,"0")+parseFloat(e[2]).toString(16).padStart(2,"0")+parseFloat(e[3]).toString(16).padStart(2,"0")).toUpperCase():"#FFFFFF"}_applyConditionalFormatting(){const t=this,e=t._conditionalFormatting;t._conditionalFormatting=t._formattingPanel.apply(),t.conditionalFormatting=t._formattingPanel.getItems(),t._conditionalFormatting!==e&&t._refreshDataRows()}_updateState(t,e){const n=this;let a;if("selected"===t&&(a=n.getSelection(),n.selected=a),-1===n.stateSettings.indexOf(t))return;const i=n._state;switch(t){case"columns":i.columns=n._columns;break;case"expanded":i.expanded=n._expandedIds;break;case"filtered":i.filtered=n._filterInfo;break;case"grouped":i.grouped=n.dataSource.groupBy._array.slice(0);break;case"selected":i.selected=a;break;case"sorted":i.sorted=n._sortColumns||[]}n.autoSaveState&&n.isRendered&&!1!==e&&window.localStorage.setItem("smartTable"+n.id,n._stringifyState())}_stringifyState(){const t=this,e=JSON.parse(JSON.stringify(t._state));return["columns","expanded","filtered","grouped","selected","sorted"].forEach(n=>{-1===t.stateSettings.indexOf(n)&&delete e[n]}),JSON.stringify(e,function(n,a){if(!("function"==typeof a||a instanceof HTMLElement||"sortOrder"===n||"thHierarchy"===n))return a})}_handleAutoSizeMode(){const t=this;if("default"===t.columnSizeMode){const m=t._columns.filter(_=>_.visible),h=[],y=_=>{const C=_.headerCellElement;if(!C)return;const x=parseInt(_.minWidth||t.columnMinWidth);C.offsetWidth<x?C.style.width=x+"px":(C.style.width="",C.offsetWidth<x&&(C.style.width=x+"px"))};m.forEach(_=>{if(_.width||_._manualWidth||(y(_),h.push(_)),_.width&&"string"==typeof _.width&&_.width.endsWith("%")){const C=t._getColumnWidth(_.width,!1,_);!1===_.autoWidth?_.headerCellElement.style.width=_.width:(_.headerCellElement.setAttribute("responsive-width",_.width),_.headerCellElement.style.width=C+"px")}else if(_._manualPercentageWidth)if(_._isResponsive){const C=t._getColumnWidth(_._manualPercentageWidth+"%",!1,_);!1===_.autoWidth?_.headerCellElement.style.width=_.width:(_.headerCellElement.setAttribute("responsive-width",_._manualPercentageWidth+"%"),_.headerCellElement.style.width=C+"px")}else _.headerCellElement.style.width=_._manualWidth+"px"});for(let _=0;_<h.length;_++)y(h[_]);if(t.columnResizeNormalize&&""===t._columns[t._columns.length-1].dataField){const _=t._columns[t._columns.length-1].headerCellElement.offsetWidth;if(_){let C=[];t._columns.forEach(E=>{E.width&&E.width.indexOf&&E.width.indexOf("%")>=0&&C.push(E)});let x=_/C.length;C.forEach(E=>{E.width&&E.width.indexOf&&E.width.indexOf("%")>=0&&(E.headerCellElement.style.width=parseInt(E.headerCellElement.style.width)+x+"px")})}}return}const e=t._columns.filter(m=>m.visible),n=t._getNumericMinWidth();let a,i;e.forEach(m=>{m.width||m._manualWidth||(a||(a=m),i=m,m.headerCellElement.style.width=null)});const r=t.$.tableContainer.offsetWidth-(t.selection?t.$.tableContainer.querySelector(".smart-table-select-all").offsetWidth:0);let o=new Map,s=0,d=0,c=0;t.removeAttribute("resize-max-reached"),t.setAttribute("auto-size",""),a&&(a.headerCellElement.style.width="100%");for(let m=0;m<e.length;m++){const h=e[m];if(h===a){c++;continue}const y=h.headerCellElement;let _,C;h.width?(_=C=t._getColumnWidth(h.width,!1,h),h.minWidth&&_<C&&(_=h.minWidth,C=h.minWidth)):h._manualWidth?(_=h._manualWidth,C=h.minWidth||n,_<C&&(_=C)):(_=Math.max(y.offsetWidth,n),C=h.minWidth||n,c++),s+=_,d+=C,h._isResponsive&&(_=t._getColumnWidth(h._manualPercentageWidth+"%",!1,h),_<C&&(_=C)),o.set(h,{width:_,minWidth:C})}function u(){a.headerCellElement.style.width=null;const m=Math.max(a.headerCellElement.offsetWidth,n),h=a.minWidth||n;o.set(a,{width:m,minWidth:h}),s+=Math.max(m,h),d+=h}if(a)if(a!==i)i.headerCellElement.style.width="100%",u(),i.headerCellElement.style.width=null;else if(e.length>1){const m=e.find(h=>h!==a);m.headerCellElement.style.width="100%",u(),m.headerCellElement.style.width=m._isResponsive?o.get(m).width+"%":o.get(m).width+"px"}else u();if(r<=d||0===c)e.forEach(m=>{if(m._isResponsive){if(m.headerCellElement.style.width=(m._manualPercentageWidth?m._manualPercentageWidth+"%":o.get(m).minWidth)+"px",m._manualPercentageWidth){const h=t._getColumnWidth(m._manualPercentageWidth+"%",!1,m),y=m.minWidth||t.columnMinWidth;h===y&&(m.headerCellElement.style.width=y+"px")}}else m.headerCellElement.style.width=(m._manualWidth?m._manualWidth:o.get(m).minWidth)+"px"}),r<=d&&t.setAttribute("resize-max-reached","");else if(r>d)if(r<s){const m=[];let h,y=s-r,_=c;for(;y>0&&_>0;)h=Math.ceil(y/_),e.forEach(C=>{if(C.width||C._manualWidth||-1!==m.indexOf(C))return;const x=o.get(C);let E=Math.max(x.width-h,x.minWidth);y-=x.width-E,E===x.minWidth&&(_--,m.push(C)),x.width=E});e.forEach(C=>{if(C._isResponsive){if(C.headerCellElement.style.width=o.get(C).width+"%",C._manualPercentageWidth){const x=t._getColumnWidth(C._manualPercentageWidth+"%",!1,C),E=C.minWidth||t.columnMinWidth;x===E&&(C.headerCellElement.style.width=E+"px")}}else C.headerCellElement.style.width=o.get(C).width+"px"})}else e.forEach(r===s?m=>{m.headerCellElement.style.width=m._isResponsive?o.get(m).width+"%":o.get(m).width+"px"}:m=>{const h=o.get(m).width;m.headerCellElement.style.width=m===a?r-s+h+"px":h+"px"});t.removeAttribute("auto-size")}_getNumericMinWidth(){const e=this.columnMinWidth;return"string"==typeof e&&-1!==e.indexOf("%")?this.offsetWidth*(parseFloat(e)/100):parseFloat(e)}_getCurrentResizeMax(){const t=this;if("default"===t.columnSizeMode)return 1/0;const e=t._resizeDetails,n=t._columns,a=n.find(s=>s.headerCellElement===e.Item),i=n.indexOf(a);let r,o=n.length-1;for(let s=n.length-1;s>=0;s--)if(n[s].visible){o=s;break}if(i===o)return e.Item.offsetWidth;for(let s=i+1;s<n.length;s++){const d=n[s];s===o&&d.headerCellElement&&(r=d.headerCellElement.getBoundingClientRect()[t.rightToLeft?"left":"right"]+window.scrollX)}return r}_autoResizeColumnOnDblclick(){const t=this,e=t._resizeDetails,n=e.Item,a=t._columns.find(o=>o.headerCellElement!==n).headerCellElement,i=a.style.width;t.setAttribute("auto-size",""),n.style.width=null,a.style.width="100%";let r=n.offsetWidth;a.style.width=i,t.removeAttribute("auto-size",""),r=Math.min(e.Max,Math.max(e.Min,r)),e.Width=r,t._resolveResize()}_isExpandCollapseForbidden(){const t=this;return(!t.hasAttribute("hierarchy")||t.grouping)&&"smart-pivot-table"!==t.nodeName.toLowerCase()}_selectSingle(t){const e=this,n=e.rowById?e.rowById[t]||e.dataSource.dataItemById[t]:e.rows.dataItemById[t];if(!n)return;const a=n.data?n.data.$.id:n.$.id;if(-1!==e._selectedIds.indexOf(a)||-1!==e._disabledSelection.indexOf(a))return;const i=e.$.tableContainer.querySelector(`tr[row-id="${a}"]:not([unused])`);if("one"===e.selectionMode&&(e._clearSelection(),e._selectedIds=[]),e._selectedIds.push(a),i){const r=i.firstElementChild;r.classList.remove("indeterminate"),r.classList.add("selected"),r.firstElementChild.setAttribute("aria-checked",!0),i.setAttribute("aria-selected",!0)}return e._handleHierarchicalSelection(n,!0),!0}_unselectSingle(t){const e=this,n=e.rowById?e.rowById[t]||e.dataSource.dataItemById[t]:e.rows.dataItemById[t];if(!n)return;const a=n.data?n.data.$.id:n.$.id,i=e._selectedIds.indexOf(a),r=e.$.tableContainer.querySelector(`tr[row-id="${a}"]:not([unused])`);if(-1!==i&&e._selectedIds.splice(i,1),r){const o=r.firstElementChild;o.classList.remove("selected","indeterminate"),o.firstElementChild.setAttribute("aria-checked",!1),r.setAttribute("aria-selected",!1)}return e._handleHierarchicalSelection(n,!1),!0}_changeSelectionOfMultiple(t,e,n="programmatic",a){const i=this;a||(a=JSON.stringify(i._selectedIds.slice(0).sort()));for(let r=0;r<t.length;r++)i[`_${e}Single`](t[r]);a!==JSON.stringify(i._selectedIds.slice(0).sort())&&(i._updateSelectAllState(),i._updateState("selected"),i.$.fireEvent("change",{type:n}))}_handleHierarchicalSelection(t,e){const n=this;if(!n.hasAttribute("hierarchy")||!1===n.selectionByHierarchy)return;const a=t.data;let i=a;for(a&&a.children&&function r(o,s){const d=o.children;let c=0;for(let u=0;u<d.length;u++){const m=d[u];if(!1===m.$.filtered)continue;let h=n._setThreeStateCheckbox(m,s);m.children&&m.children.length>0&&(h=r(m,s)),s&&!1===h&&c++}if(s&&c>0)return n._setThreeStateCheckbox(o,c!==d.length&&null)}(a,e);i&&i.parent;){const r=i.parent,o=n._getChildCheckState(r).state;n._setThreeStateCheckbox(r,o),i=r}}_getChildCheckState(t){const e=this,a=e._disabledSelection,i=t.children;if(!i||0===i.length||!e.selectionByHierarchy){const c=t.$.id,u=-1!==e._selectedIds.indexOf(c);return{state:u,maxSelected:!!u||-1!==a.indexOf(c)}}let r=!0,o=0,s=0,d=0;for(let c=0;c<i.length;c++){const u=i[c];if(!1===u.$.filtered)continue;const m=e._getChildCheckState(u);o++,m.state?s++:null===m.state?d++:!1===m.maxSelected&&(r=!1)}return 0!==s&&s===o?{state:!0,maxSelected:!0}:0===s&&0===d?{state:!1,maxSelected:r}:{state:null,maxSelected:r}}_setThreeStateCheckbox(t,e){const n=this,a=t.$.id,i=n._selectedIds,r=i.indexOf(a);e&&(-1!==n._disabledSelection.indexOf(a)?e=!1:-1===r&&i.push(a)),e||-1===r||i.splice(r,1);const o=n.$.tableContainer.querySelector(`tr[row-id="${a}"]:not([unused])`);if(!o)return e;const s=o.firstElementChild,d=s.firstElementChild;return e?(s.classList.remove("indeterminate"),s.classList.add("selected"),d.setAttribute("aria-checked",!0),o.setAttribute("aria-selected",!0)):!1===e?(s.classList.remove("selected","indeterminate"),d.setAttribute("aria-checked",!1),o.setAttribute("aria-selected",!1)):(s.classList.remove("selected"),s.classList.add("indeterminate"),d.setAttribute("aria-checked","mixed"),o.setAttribute("aria-selected",!1)),e}_getSelectableGroupRecords(){const t=this,e=t.dataSource,n=e.boundHierarchy;t._selectableGroupRecords=[],n?(function a(i){i.forEach(r=>{r.groupDataField&&(t._selectableGroupRecords.push(r.$.id),a(r.children))})}(n),t._selectedIds=t._selectedIds.filter(a=>void 0!==e.dataItemById[a]||-1!==t._selectableGroupRecords.indexOf(a))):t._selectedIds=t._selectedIds.filter(a=>void 0!==e.dataItemById[a])}_clearSelection(t){const e=this;if(0===e._selectedIds.length)return;const n=e.$.tableContainer.querySelector(".smart-table-select-all");Array.from(e.$.tableContainer.querySelectorAll(".smart-table-select-row")).forEach(a=>{a.parentElement.classList.contains("disable-select")||a.parentElement.setAttribute("aria-selected",!1),a.classList.remove("selected","indeterminate"),a.firstElementChild.setAttribute("aria-checked",!1)}),n&&(n.classList.remove("indeterminate","selected"),n.firstElementChild.setAttribute("aria-checked",!1)),e._selectedIds=[],t&&(e._updateState("selected"),e.$.fireEvent("change",{type:"programmatic"}))}_updateCellsWithFormulas(t){const e=this,a=e._cellsWithFormulas;if(e.formulas||t)for(let i in a){const r=/(.+):(.+)/.exec(i),o=e.columnByDataField[r[1]],s=e.rowById[r[2]];if(!o||!s)continue;const d=e.$.tableContainer.querySelector(`tr[row-id="${s.data.$.id}"]:not([unused]) td[data-field="${o.dataField}"]`);d&&e._setCellContent(d,e._formatCellValue(s,o,d),d.classList.contains("tree-cell"))}}_createVirtualDataRows(t){const e=this,n=e.rowDetailTemplate,a=e.selection,i=e.hasAttribute("hierarchy"),r=document.createDocumentFragment(),o=e.$.virtualizationContainer,s=e.$.tableContainer,d=e._rowHeight;e.isRendered&&(o.scrollWidth=0,o.scrollHeight=0,o.$.scrollViewerContainer.classList.remove("hscroll","vscroll"));const c=o.$.scrollViewerContainer.offsetHeight-s.firstElementChild.offsetHeight-(e.filtering&&e.filterRow?d:0)-(e.footerRow?s.lastElementChild.offsetHeight:0),u=c<5,m=e._getVirtualRecords(i,u),h=m.length;let y=i?2*c:c+3*d,_=d*h,C=0;e._rowsVirtual=m,e._rowsInDOM=[];for(let E=0;E<h;E++){const A=m[E],I=A.data;if(!A.detail){if(I.groupDataField)e._rowsInDOM.push(e._createGroupHeader(I,r));else{const L=e._createDataRow(A,r,{hierarchical:i,rowDetailTemplate:n,selection:a,virtualization:!0});e._rowsInDOM.push(L.row),L.detail&&(e._rowsInDOM.push(L.detail),C+=e._rowDetailHeight,y+=e._rowDetailHeight)}if(C+=d,!u&&C>y)break}}t.appendChild(r),e._updateState("expanded"),t.parentElement||e.$.tableContainer.insertBefore(t,e.$.tableContainer.querySelector("tfoot")),o.refresh(),n&&(_+=e._expandedRowDetailIds.length*(e._rowDetailHeight-d));let x=Math.max(0,_-c);x>0&&o.computedHorizontalScrollBarVisibility&&(x+=o.$.horizontalScrollBar.offsetHeight),o.$.scrollViewerContentContainer.style.top=0,o.$.verticalScrollBar.max=x,e._scrollHeight=_,e._start={view:0,data:0},!u&&e._rowsInDOM.length>0&&o.$.scrollViewerContentContainer.offsetHeight<o.$.scrollViewerContainer.offsetHeight&&e._rowsInDOM[e._rowsInDOM.length-1].classList.add("last-row"),e._fixFrozenHeaderFirefox(),e._focusEquivalentCell()}_getVirtualRecords(t,e){const n=this,a=t&&!e?n.rows.filter(r=>0===r.data.level||!n._isCollapsed(r.data)):n.rows;if(t||!n.rowDetailTemplate)return a;const i=[];return a.forEach(r=>{i.push(r),-1!==n._expandedRowDetailIds.indexOf(r.data.$.id)&&i.push({detail:!0,data:r.data})}),i}_onVerticalChange(t,e){const n=this;if(n._ignoreVerticalChange)return;const a=n.rows,i=n._rowHeight,r=n.$.virtualizationContainer;let o,s,d=t.detail.value;if(Smart.Utilities.Core.Browser.Firefox&&n.virtualization&&(r.$.scrollViewerContentContainer.style.top=null),n.setAttribute("ignore-detail-animation",""),n._rowsInDOM.length===a.length||0===r.$.verticalScrollBar.max){const c=Math.floor(d/i);return n._start={view:c,data:c},r.$.scrollViewerContentContainer.style.top=-d+"px",requestAnimationFrame(()=>n.removeAttribute("ignore-detail-animation")),void n._fixFrozenHeaderFirefox()}if(n._expandedRowDetailIds.length>0){let c,u=0;o=1;for(let m=0;m<n._rowsVirtual.length;m++){const h=u;if(u+=n._rowsVirtual[m].detail?n._rowDetailHeight:n._rowHeight,void 0===s&&d<=u){s=m,c=d-h;break}}r.computedVerticalScrollBarVisibility?d=c+n._rowHeight:o=0}else{for(d=d%(2*i)+i,d<i&&(d+=i);d+r.$.scrollViewerContainer.offsetHeight>n.$.tableContainer.offsetHeight;)d-=i;o=Math.floor(d/i),s=Math.floor(t.detail.value/i),o<0&&(s-=o,o=0)}r.$.scrollViewerContentContainer.style.top=-d+"px",n._updateVisibleRows(o,s,e||n._expandedRowDetailIds.length>0),n._fixFrozenHeaderFirefox(),requestAnimationFrame(()=>n.removeAttribute("ignore-detail-animation"))}_fixFrozenHeaderFirefox(){const t=this;t.virtualization&&t.$.virtualizationContainer&&t.$.virtualizationContainer.$.scrollViewerContentContainer&&(t._tableHeader.style.top=-parseFloat(t.$.virtualizationContainer.$.scrollViewerContentContainer.style.top)+"px"),Smart}_focusEquivalentCell(t){const e=this,n=e._focusedCell;if(!t&&!n)return;let a;if(!t){if(!n.parentElement)return;t={rowId:n.parentElement.data.$.id,dataField:n.getAttribute("data-field")}}a=e.$.tableContainer.querySelector(t.dataField?`tr[row-id="${t.rowId}"]:not([unused]) td[data-field="${t.dataField}"]`:`tr[row-id="${t.rowId}"]:not([unused]) td.group-header`),e._focusCell(a)}_detachCachedTemplates(){const t=this;t._cachedTemplates&&(delete t._cachedTemplates,t._tableCachedTemplates&&(t._tableCachedTemplates.remove(),delete t._tableCachedTemplates))}_clearCachedTemplates(){const t=this;if(t._cachedTemplates&&Object.keys(t._cachedTemplates).length>0){t._tableCachedTemplates||(t._tableCachedTemplates=document.createElement("div"),t._tableCachedTemplates.style.display="none",document.body.appendChild(t._tableCachedTemplates));const e=document.createDocumentFragment();for(let n in t._cachedTemplates)e.appendChild(t._cachedTemplates[n]);t._tableCachedTemplates.appendChild(e)}}_updateVisibleRows(t,e,n){const a=this,i=e-t,r=a._rowsVirtual.length,o={hierarchical:a.hasAttribute("hierarchy"),selection:a.selection};let s;if(n=n&&(o.hierarchical||!!a.rowDetailTemplate),o.hierarchical&&!a.grouping&&(n=!0),a._sortColumns&&a._sortColumns.length>0&&(n=!0),a._focusedCell){const d=a._focusedCell.parentElement;d&&(s={rowId:d.data.$.id,dataField:a._focusedCell.getAttribute("data-field")})}for(let d=0;d<t;d++){const c=a._rowsInDOM[d];let u=i+d;u>=0&&(n||c.data.$.index!==u||c.data.detail)&&a._updateVisibleRow(c,u,o),c.setAttribute("unused",""),c.setAttribute("aria-hidden",!0),c.classList.remove("smart-table-row-detail")}for(let d=t;d<a._rowsInDOM.length;d++){const c=a._rowsInDOM[d],u=i+d;u<r?(c.removeAttribute("unused"),c.removeAttribute("aria-hidden"),(n||c.data.$.index!==u||c.data.parent)&&a._updateVisibleRow(c,u,o)):c.setAttribute("aria-hidden",!0)}a._start={view:t,data:e},a._focusEquivalentCell(s)}_updateVisibleRow(t,e,n){const a=this,i=a._columns.filter(u=>u.visible);if(!i.length)return;const r=a._rowsVirtual[e],o=r.data,s=o.$.id,d=Number(n.selection),c=!o.groupDataField&&!t.firstElementChild.classList.contains("group-header")&&!r.detail&&!t.classList.contains("smart-table-row-detail")&&t.childElementCount>1;if(t.className="",c){const u=t.attributes;for(;u.length>0;)t.removeAttribute(u[0].name)}else t.innerHTML="";if(o.groupDataField)a._createGroupHeader(o,void 0,t);else if(r.detail)a._createRowDetailOnDemand(t,r,o);else{t.setAttribute("aria-rowindex",o.$.index+1),a._processAndRenderSelection(o,t,n.hierarchical,c);for(let u=0;u<i.length;u++){const m=i[u];let h=c?t.children[u+d]:document.createElement("td"),y=!1;if(h&&(a.grouping&&!o.groupDataField||a.dataSource&&a.dataSource.groupBy&&a.dataSource.groupBy.length>0)&&h.removeAttribute("colspan"),!h){if(!c)continue;h=document.createElement("td"),y=!0,t.appendChild(h)}c&&(h.className=""),h.setAttribute("data-field",m.dataField),h.setAttribute("aria-colindex",u+1+d);let _,C=a._formatCellValue(r,m,h);if(y&&a._setCellContent(h,C,_),m.freeze&&h.classList.add("freeze-"+("far"===m.freeze?"far":"near")),m.responsivePriority&&h.classList.add("priority-"+m.responsivePriority),!1===m.allowEdit?(h.classList.add("no-edit"),h.setAttribute("aria-readonly",!0)):h.removeAttribute("aria-readonly"),0===u&&n.hierarchical){const x=a._areChildrenFiltered(o);o.leaf||(h.classList.add("tree-cell"),_=x),o.level&&(h.classList.add("outline-level-"+Math.min(o.level,10)),!o.leaf&&x||h.classList.add("tree-leaf"))}if(m.templateElement){if(y&&a.grouping){const E=m.templateElement+"";h.innerHTML=E.indexOf("{{value}}")>=0?E.replace(/{{value}}/gi,'<div class="smart-table-cell-template">'+o[m.dataField]+"</div>"):E}else if(n.hierarchical&&a.grouping&&o.leaf){const E=m.templateElement+"",A=h;if((!A.firstElementChild||!(A.firstElementChild.hasAttribute("ng-version")||A.innerHTML.indexOf("ng-version")>=0))&&A.firstElementChild&&!A.firstElementChild.classList.contains(".smart-table-cell-template")){const I=A.innerHTML;E.substring(E.lastIndexOf("</"))!==I.substring(I.lastIndexOf("</"))&&(A.innerHTML=E.indexOf("{{value}}")>=0?E.replace(/{{value}}/gi,'<div class="smart-table-cell-template">'+o[m.dataField]+"</div>"):E)}}if(_&&!h.querySelector(".hierarchy-arrow")){a._setCellContent(h,C,_);const A=m.templateElement+"";h.children[0].children[1].innerHTML=A.indexOf("{{value}}")>=0?A.replace(/{{value}}/gi,'<div class="smart-table-cell-template">'+o[m.dataField]+"</div>"):A}else if(n.hierarchical&&!a.grouping&&o.leaf){const E=h;if(!E.firstElementChild||!(E.firstElementChild.hasAttribute("ng-version")||E.innerHTML.indexOf("ng-version")>=0)){a._setCellContent(h,C,!1);const A=m.templateElement+"";E.innerHTML=A.indexOf("{{value}}")>=0?A.replace(/{{value}}/gi,'<div class="smart-table-cell-template">'+o[m.dataField]+"</div>"):A}}if(!c){const E=m.templateElement+"";(_?h.children[0].children[1]:h).innerHTML=E.indexOf("{{value}}")>=0?E.replace(/{{value}}/gi,'<div class="smart-table-cell-template">'+o[m.dataField]+"</div>"):E}let x=_?h.children[0].children[1].firstElementChild:h.firstElementChild;if(!x&&n.hierarchical){a._setCellContent(h,C,!1);const A=m.templateElement+"";h.innerHTML=A.indexOf("{{value}}")>=0?A.replace(/{{value}}/gi,'<div class="smart-table-cell-template">'+o[m.dataField]+"</div>"):A,x=_?h.children[0].children[1].firstElementChild:h.firstElementChild}m.templateElementSettings?m.templateElementSettings(o[m.dataField],s,x):m.templateElement.indexOf("{{value}}")>=0&&(h.querySelector(".smart-table-cell-template").textContent=o[m.dataField])}else a._setCellContent(h,C,_);a.onCellRender&&a.onCellRender(o,m.dataField,o[m.dataField],h),a._applyConditionalFormattingToCell(h,m.dataField,o.$.index),c||t.appendChild(h)}t.data=o,t.setAttribute("row-id",s),-1!==a._disabledSelection.indexOf(s)&&(t.removeAttribute("aria-selected"),t.classList.add("disable-select"),n.selection&&t.firstElementChild.firstElementChild.setAttribute("aria-disabled",!0)),o.expanded?(-1===a._expandedIds.indexOf(s)&&a._expandedIds.push(s),t.setAttribute("aria-expanded",!0),t.classList.add("expanded")):!1===o.expanded&&t.setAttribute("aria-expanded",!1),o.level&&a._isCollapsed(o)&&(t.setAttribute("aria-hidden",!0),t.classList.add("collapsed","smart-hidden"))}}_createRowDetailOnDemand(t,e,n){const a=this,i=Number(a.selection)+a._columns.filter(r=>r.visible).length;t.data=Object.assign(n,{detail:!0}),t.classList.add("smart-table-row-detail"),t.removeAttribute("aria-rowindex"),t.removeAttribute("row-id"),t.innerHTML=`<td colspan="${i}"><div class="smart-table-detail-container">${a._applyRowDetailTemplate(e)}</div></td>`}_hierarchyArrowClickHandlerVirtualization(t,e){const n=this,a=!n.grouping,i=n.$.tableContainer,r={nextRow:t.nextElementSibling,tbody:i.children[1]},o=t.data,s=[],d=[],c=Math.ceil((n.$.virtualizationContainer.$.scrollViewerContainer.offsetHeight-i.firstElementChild.offsetHeight)/n._rowHeight);function u(){0===s.length?function(){if(n._ignoreVerticalChange=!0,o.expanded=!o.expanded,a)o.expanded?(-1===n._expandedIds.indexOf(o.$.id)&&n._expandedIds.push(o.$.id),n.$.fireEvent("expand",{id:o.$.id,record:o})):(n._expandedIds=n._expandedIds.filter(_=>_!==o.$.id),n.$.fireEvent("collapse",{id:o.$.id,record:o})),n._updateState("expanded");else if(!0!==e){const _=E=>{for(let A=0;A<E.length;A++){const I=E[A];if(I.$.id===o.$.id)return I;if(I.children){let L=_(I.children);if(L)return L}}return null},C=_(n.dataSource.boundHierarchy);C&&(C.expanded=o.expanded);let x=""+o.$.id;x=x.replace("Item","").replace(/_/gi,"."),n.$.fireEvent("group",o.expanded?{action:"expand",path:x,dataField:o.groupDataField,label:o.label}:{action:"collapse",path:x,dataField:o.groupDataField,label:o.label})}for(const _ of d)_.remove();let h=n.$.virtualizationContainer.$.verticalScrollBar,y=n.$.virtualizationContainer.$.verticalScrollBar.value;n._refreshDataRows(),y=Math.min(h.max,y),h.value=y,delete n._ignoreVerticalChange,n._onVerticalChange({detail:{value:y}},!0)}():requestAnimationFrame(()=>u())}function m(h){for(const y of h){if(d.length>=c)break;!1!==y.$.filtered&&(d.push(n._expandSingleChildRowVirtualization(y,r,s)),y.children&&y.expanded&&m(y.children))}}o.expanded?function h(y){y.forEach(_=>{n._collapseSingleChildRow(i.querySelector(`tr[row-id="${_.$.id}"]:not([unused])`),s),_.children&&h(_.children)})}(o.children):requestAnimationFrame(()=>m(o.children)),t.setAttribute("aria-expanded",!o.expanded),t.classList.toggle("expanded",!o.expanded),requestAnimationFrame(()=>u())}_expandSingleChildRowVirtualization(t,e,n){const a=this,i=a.rowById[t.$.id],r=document.createDocumentFragment();let o;if(i){if(o=i.data.groupDataField?a._createGroupHeader(i.data,r):a._createDataRow(i,r,{virtualization:!0,hierarchical:!0,selection:a.selection}).row,-1===[...e.tbody.children].indexOf(e.nextRow)){let s=!1;t.children&&0===t.children.length&&(s=!0),t.children||(s=!0),a._rowsInDOM&&a._rowsInDOM.length===a.rows.length&&(s=!0),s||e.tbody.appendChild(r)}else e.tbody.insertBefore(r,e.nextRow);return a._expandSingleChildRow(o,n),o}}_getFractionOfMax(){const t=this;return t.isRendered&&t.virtualization?{vertical:function(){const e=t.$.virtualizationContainer.$.verticalScrollBar,n=e.max;return 0===n?0:e.value/n}(),horizontal:function(){const e=t.$.virtualizationContainer.$.horizontalScrollBar,n=e.max;return 0===n?0:e.value/n}()}:null}_setFractionOfMax(t){if(!this.virtualization||null===t)return;const e=this.$.virtualizationContainer,n=e.$.verticalScrollBar,a=e.$.horizontalScrollBar;n.value=n.max*t.vertical,a.value=a.max*t.horizontal}_refreshHorizontalScrollbar(){const t=this.$.virtualizationContainer;if(!t)return;const e=t.$.scrollViewerContainer,n=t.$.horizontalScrollBar,a=t.$.verticalScrollBar,i=t.$.scrollViewerContentContainer.offsetWidth-e.offsetWidth;let r,o;i>0&&!e.classList.contains("hscroll")?(e.classList.add("hscroll"),r="add"):i<=0&&e.classList.contains("hscroll")&&(o=n.offsetHeight,e.classList.remove("hscroll"),r="subtract"),t.scrollWidth!==i&&(t.scrollWidth=i),t.computedVerticalScrollBarVisibility&&("add"===r?(o=n.offsetHeight,a.max+=o):"subtract"===r&&(a.max-=o))}_scrollToVirtualization(t,e){const n=this;if(!n.virtualization)return;const a=n.$.virtualizationContainer,i=a.$.scrollViewerContentContainer,r=a.$.verticalScrollBar,o=a.$.horizontalScrollBar,s=n.$.tableContainer,d=i.offsetLeft,c=i.offsetTop,u=r.value;let m,h;switch(e&&(m=e.offsetLeft,h=e.offsetTop),t){case"nextArrow":{if(!e||!a.computedHorizontalScrollBarVisibility)return;const y=d+m+e.offsetWidth-a.offsetWidth;y>0&&(o.value+=y+r.offsetWidth);break}case"prevArrow":if(!e||!a.computedHorizontalScrollBarVisibility||m>=-d)return;o.value=m-d-o.value;break;case"ArrowUp":{const y=s.firstElementChild.offsetHeight-c-h;if(y<=0)return;let _;if(n._focusedCell){const x=n._focusedCell.parentElement;x&&(_={rowId:x.data.$.id,dataField:n._focusedCell.getAttribute("data-field")})}const C=Math.max(0,u-y);C!==u&&(r.value=C,n._focusEquivalentCell(_));break}case"ArrowDown":{const y=c+h+e.offsetHeight-a.offsetHeight;if(y<=0)return;const _=Math.min(r.max,u+y);_!==u&&(r.value=_);break}case"Home":case"End":if(!a.computedHorizontalScrollBarVisibility)return;o.value="Home"===t?0:o.max}}_getExpandedGroups(t){const e=this,n=[];return t?(function a(i){i.forEach(r=>{r.expanded&&n.push({groupDataField:r.groupDataField,label:r.label,ancestorSignature:e._getGroupAncestorSignature(r)}),r.children&&r.children.length>0&&!1===r.children[0].leaf&&a(r.children)})}(t),n):[]}_getGroupAncestorSignature(t){const e=[];let n=t.parent;for(;n;)e.push({groupDataField:n.groupDataField,label:n.label}),n=n.parent;return JSON.stringify(e)}_restoreExpandedGroups(t){if(0===t.length)return;const e=this,a=[];!function r(o){o&&o.forEach((s,d)=>{if(t.some(c=>c.groupDataField===s.groupDataField&&c.label===s.label&&c.ancestorSignature===e._getGroupAncestorSignature(s))){let c=s.$.id;"string"==typeof c&&(c=c.replace("Item","").replace(/_/g,".")),a.push(0===s.level?d:c)}s.children&&s.children.length>0&&!1===s.children[0].leaf&&r(s.children)})}(e.dataSource.boundHierarchy);const i=e._doNotFireEvent;e._doNotFireEvent=!0,a.forEach(r=>e.expandGroup(r)),e._doNotFireEvent=i}})},84782:()=>{Smart("smart-window",class extends Smart.ContentElement{static get properties(){return{collapsed:{value:!1,type:"boolean"},closeOnMaskClick:{value:!1,type:"boolean"},disableEscape:{value:!1,type:"boolean"},disableSnap:{value:!1,type:"boolean"},footerPosition:{value:"bottom",allowedValues:["bottom","none"],type:"string"},footerTemplate:{value:null,type:"any"},headerButtons:{value:["close","maximize","minimize"],type:"array"},headerPosition:{value:"top",allowedValues:["top","bottom","left","right","none"],type:"string"},headerTemplate:{value:null,type:"any"},disableKeyboard:{value:!1,type:"boolean"},label:{value:"",type:"string"},liveResize:{value:!1,type:"boolean"},maximized:{value:!1,type:"boolean"},modal:{value:!1,type:"boolean"},minimized:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},pinned:{value:!1,type:"boolean"},resizeIndicator:{value:!1,type:"boolean"},resizeMode:{allowedValues:["none","horizontal","vertical","both","top","bottom","left","right"],value:"none",type:"string"},windowParent:{value:null,type:"any"}}}static get listeners(){return{"document.dragstart":"_dragStartHandler","document.focusin":"_documentFocusInEventHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.wheel":"_mouseWheelHandler","document.selectstart":"_documentSelectStartHandler",down:"_downHandler",focus:"_focusHandler",blur:"_focusHandler",move:"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler"}}get hasStyleObserver(){return!1}static get styleUrls(){return["smart.button.css","smart.window.css"]}template(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header" role="presentation">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container" role="presentation">\n                                <button id="pinButton" class="smart-button smart-element smart-pin-button" aria-label="Pin"></button>\n                                <button id="collapseButton" class="smart-button smart-element smart-collapse-button" aria-label="Collapse"></button>\n                                <button id="minimizeButton" class="smart-button smart-element smart-minimize-button"aria-label="Minimize"></button>\n                                <button id="maximizeButton" class="smart-button smart-element smart-maximize-button" aria-label="Maximize"></button>\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content" inner-h-t-m-l="[[innerHTML]]"><content></content></div>\n                        <div id="footer" class="smart-footer"></div>\n                    </div>\n                </div>'}propertyChangedHandler(t,e,n){const a=this;switch(t){case"collapsed":n?a.collapse(!0):a.expand(!0);break;case"disabled":case"unfocusable":a._setFocusable();break;case"headerTemplate":case"footerTemplate":a._applyLayoutTemplate(a.$[t.split(/[T]/)[0]],n);break;case"headerButtons":a._setHeaderButtons();break;case"headerPosition":{const i=a.minimized;a._preventEventFiring=!0,a.restore(),delete a._preventEventFiring,i&&a.minimize();break}case"label":a.$.header.innerHTML=a.label;break;case"maximized":n?a.maximize(!0):a.restore(t);break;case"modal":a._setModal(),a.setAttribute("aria-modal",n);break;case"minimized":n?a.minimize(!0):a.restore(t);break;case"opened":n?a.open(!0):a.close(!0);break;case"resizeMode":a.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right");break;case"windowParent":a._setElementParent(n);break;default:super.propertyChangedHandler(t,e,n)}}ready(){super.ready(),this._windowParent={initialParent:this.parentElement}}render(){const t=this,e=t.animation;t.$.header.id||(t.$.header.id=t.id+"Header"),t.$.content.id||(t.$.content.id=t.id+"Content"),t.opened||(t.animation="none"),t._windowParent={initialParent:t.parentElement},t.$.addClass("smart-window"),t._createElement(),t._setElementParent(t.windowParent),t._setHeaderButtons(),t.headerTemplate&&t._applyLayoutTemplate(t.$.header,t.headerTemplate),t.footerTemplate&&t._applyLayoutTemplate(t.$.footer,t.footerTemplate),t.opened?t.open():t.close(),t.maximized&&t.maximize(!0),t.minimized&&t.minimize(!0),t.collapsed&&t.collapse(!0),t.pinned?t.pin():t.unpin(),t._setFocusable(),t.animation=e,t.setAttribute("aria-modal",t.modal),t.setAttribute("aria-labelledby",t.$.header.id),t._setupDismissTargets(),super.render()}refresh(){const t=this;t.headerTemplate&&t._applyLayoutTemplate(t.$.header,t.headerTemplate),t.footerTemplate&&t._applyLayoutTemplate(t.$.footer,t.footerTemplate),t.opened?t.open():t.close(),t.maximized&&t.maximize(!0),t.minimized&&t.minimize(!0),t.collapsed&&t.collapse(!0),t.pinned?t.pin():t.unpin()}static get requires(){return{"Smart.Button":"smart.button.js"}}_setFocusable(){const t=this;t.disabled||t.unfocusable?t.removeAttribute("tabindex"):t.setAttribute("tabindex",t.tabIndex>0?t.tabIndex:0)}appendChild(t){const e=this;if(!e.isCompleted||t instanceof HTMLElement&&t.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t?e.$.content.appendChild(t):e.error(e.localize("invalidNode",{elementType:e.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}updateLabel(t){this.label=t}updateContent(t){this.content=t}move(t,e){const a=i=>"number"==typeof i?i+"px":"string"==typeof i?i:void 0;void 0!==t&&(this.style.left=a(t)),void 0!==e&&(this.style.top=a(e))}collapse(t){const e=this;!t&&e.collapsed||(e.collapsed=!0,e.$.fireEvent("collapse"),"left"===e.headerPosition||"right"===e.headerPosition?e.style.width="":e.style.height="")}close(t){const e=this;if(t||!e.$.hasClass("smart-visibility-hidden")){if(e.isCompleted){if(e.$.fireEvent("closing").defaultPrevented)return;e.$.addClass("smart-visibility-hidden"),e.opened=!1,e.isRendered&&e.$.fireEvent("close")}else e.$.addClass("smart-visibility-hidden"),e.opened=!1;e._setModal(),e.removeAttribute("ontop")}}attached(){super.attached();const t=this;t._windowParent.parent&&t._windowParent.parent!==t.getShadowRootOrBody()&&t._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&"static"===window.getComputedStyle(t._windowParent.parent).getPropertyValue("position")&&(t._windowParent.parent.style.position="relative"),t.opened&&t._modal&&t.parentElement.insertBefore(t._modal,t)}bringToFront(){const t=this;if(!t.parentElement)return;const e=t.parentElement.closest(".smart-window");if(e)return void e.bringToFront();const n=document.body.getElementsByClassName("smart-window");let a=[];for(let i=0;i<n.length;i++){const r=n[i];r.removeAttribute("ontop"),r.opened&&a.push(r)}1===a.length&&a[0]===t||t.setAttribute("ontop","")}clear(){const t=this;t.isCompleted&&"Smart-WINDOW"===t.nodeName&&(t.innerHTML=t.$.content.innerHTML="")}detached(){super.detached();const t=this;t._windowParent.parent&&!t._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&(t._windowParent.parent.style.position=""),t._modal&&t._modal.parentElement&&t._modal.parentElement.removeChild(t._modal),t._resizeDummy&&t._resizeDummy.parentElement&&t._handleWindowResizeDummy(),t._refreshMinimizedWindowsPosition()}expand(t){const e=this;(t||e.collapsed)&&(e.collapsed=!1,e.$.fireEvent("expand"),e.maximized?"left"===e.headerPosition||"right"===e.headerPosition?e.style.width=Math.max(e._windowParent.scrollElement.scrollWidth,e._windowParent.element.clientWidth)-e._windowParent.borderWidth+"px":e.style.height=Math.max(e._windowParent.scrollElement.scrollHeight,e._windowParent.element.clientHeight)-e._windowParent.borderWidth+"px":"left"===e.headerPosition||"right"===e.headerPosition?e.style.width=e.className.indexOf("smart-window-snapped-")<0&&e._dragDetails?e._dragDetails.width+"px":"":e.style.height=e.className.indexOf("smart-window-snapped-")<0&&e._dragDetails?e._dragDetails.height+"px":"")}maximize(t){const e=this;if(!t&&e.maximized)return;e.minimized&&e._restoreFromMinimization(t),e._setDragDetails("minimize"),"none"!==e.resizeMode&&e.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right"),e._snapDummy&&e.$.hasClass("smart-window-snapped-"+e._snapDummy._position)&&e.classList.remove("smart-window-snapped-"+e._snapDummy._position),e.maximized=!0,e.$.fireEvent("maximize"),e.style.left=e.style.top=0,e.style.maxWidth=e.style.maxHeight="none";const n=e._windowParent.scrollElement.scrollHeight,a=e._windowParent.scrollElement.scrollWidth,i=e._windowParent.element.clientHeight,r=e._windowParent.element.clientWidth,o=Math.max(n,i),s=Math.max(a,r);"top"===e.headerPosition||"bottom"===e.headerPosition?(e.style.width=a>r?s-e._windowParent.borderWidth+"px":"100%",e.collapsed||(e.style.height=n>i?o-e._windowParent.borderWidth+"px":"100%")):(e.collapsed||(e.style.width=a>r?s-e._windowParent.borderWidth+"px":"100%"),e.style.height=n>i?o-e._windowParent.borderWidth+"px":"100%"),"100%"!==e.style.height&&e.addEventListener("transitionend",function d(){if(!e.maximized||!e.hasAnimation)return;const c=e._windowParent.scrollElement.scrollHeight,u=e._windowParent.element.clientHeight,m=Math.max(c,u);("top"===e.headerPosition||"bottom"===e.headerPosition)&&e.collapsed||(e.style.height=c>u?m-e._windowParent.borderWidth+"px":"100%"),e.removeEventListener("transitionend",d)})}minimize(t){const e=this;if(!t&&e.minimized)return;e.maximized&&(e._preventEventFiring=!0,e.restore(),delete e._preventEventFiring),e._setDragDetails(),e.minimized=!0,e.$.fireEvent("minimize"),e._snapDummy&&e.$.hasClass("smart-window-snapped-"+e._snapDummy._position)&&(e.$.removeClass("smart-window-snapped-"+e._snapDummy._position),e.style.right=e.style.top=e.style.left="");const n=e._getAllMinimizedWindows(e._windowParent.element);if(n.length>0){const a=n[n.length-1];e.style.left=(a.offsetLeft+a.offsetWidth+e._dragDetails.minWidth+10>e._windowParent.element.clientWidth?a.offsetLeft:a.offsetLeft+a.offsetWidth+5)+"px",e.style.top=a.offsetTop+"px"}else e.style.left="5px",e.style.top=e._windowParent.element.clientHeight+e._windowParent.scrollElement.scrollTop-e.$.headerSection.offsetHeight-5+"px";e.style.width="",e.style.height=e.$.headerSection.offsetHeight+"px"}_createElement(){this.setAttribute("role","dialog")}removeChild(t){const e=this;if(!e.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t?e.$.content.removeChild(t):e.error(e.localize("invalidNode",{elementType:e.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}restore(t){const e=this;if("maximized"===t||e.maximized?(e.maximized=!1,e.style.width=e.style.height=e.style.top=e.style.left=""):("minimized"===t||e.minimized)&&e._restoreFromMinimization(t),e._preventEventFiring||e.$.fireEvent("restore"),e.style.maxWidth=e.style.maxHeight="",e._dragDetails){if(e.style.left=Math.max(0,Math.min(e._dragDetails.windowX,e._windowParent.element.clientWidth-e._dragDetails.width))+"px",e.style.top=Math.max(0,Math.min(e._dragDetails.windowY,e._windowParent.scrollElement.scrollHeight-e._dragDetails.height))+"px",e.collapsed)return void("top"===e.headerPosition||"bottom"===e.headerPosition?e.style.width=e._dragDetails.width+"px":e.style.height=e._dragDetails.height+"px");e._dragDetails.resized&&(e.style.width=e._dragDetails.width+"px",e.style.height=e._dragDetails.height+"px")}}toggle(){const t=this;t.opened?t.close():t.open()}openModal(){this.modal=!0,this.open()}open(t){const e=this;if(t||e.$.hasClass("smart-visibility-hidden")){if(e.isCompleted){if(e.$.fireEvent("opening").defaultPrevented)return;e.$.removeClass("smart-visibility-hidden"),e.opened=!0,e.$.fireEvent("open")}else e.$.removeClass("smart-visibility-hidden"),e.opened=!0;e.bringToFront(),e._setModal(),e._handleActiveState(),e.hasAnimation?e.addEventListener("transitionend",n):n()}function n(a){if(!e.hasAnimation||a&&a.target===e){if(e.removeEventListener("transitionend",n),e._onOpenCallback)return void e._onOpenCallback();e.focus()}}}_setupDismissTargets(){const t=this;if(t.querySelector('[data-dismiss="modal"]')){const e=t.querySelectorAll('[data-dismiss="modal"]'),n=()=>{t.close()};for(let a=0;a<e.length;a++)e[a].removeEventListener("click",n,null),e[a].addEventListener("click",n)}}pin(){this.pinned=!0}unpin(){this.pinned=!1}_applyLayoutTemplate(t,e){const n=this;if(!e)return t.innerHTML="",void(t===n.$.header&&n.label&&(t.innerHTML=n.label));"content"in document.createElement("template")?(e instanceof HTMLTemplateElement||(e=document.getElementById(e)),null!==e&&"content"in e?(t.innerHTML="",t.appendChild(document.importNode(e.content,!0))):n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:t===n.$.footer?"footerTemplate":"headerTemplate"}))):n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()}))}_cancelDragging(t){const e=this;if(e._dragDetails&&e._dragDetails.started&&"drag"===e._dragDetails.type){if(!t){const n=e.getBoundingClientRect();t={pageX:n.left,pageY:n.top}}e.$.fireEvent("dragEnd",{left:t.pageX,top:t.pageY}),e.removeAttribute("dragged"),e._dragDetails.started=!1,delete e._mouseManipulation}}_documentFocusInEventHandler(t){const e=this;e._changingFocus&&(e.contains(t.target)||e.contains(t.composedPath()[0])||e.focus(),delete e._changingFocus)}_downHandler(t){const e=this;let n=Smart.Utilities.Core.isMobile?document.elementFromPoint(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset):t.originalEvent.target;if((e.shadowRoot||e.isInShadowDOM)&&(n=t.originalEvent.composedPath()[0]),t.stopPropagation(),e.disabled||!Smart.Utilities.Core.isMobile&&1!==t.which)return;if(e._tabsWindow&&(e._tabsWindow._isAutoHideWindowClicked=!0),e.hasAttribute("ontop")||e.bringToFront(),n.closest&&n.closest(".smart-buttons-container")===e.$.buttonsContainer){if(e._buttonPressed=n.closest(".smart-button"),e._buttonPressed)return}else if(n.getRootNode()&&n.getRootNode().host&&(e._buttonPressed=n.getRootNode().host,e._buttonPressed.closest(".smart-buttons-container")===e.$.buttonsContainer))return;e._isWindowContentClicked=n.closest(".smart-content");let a=e.closest("smart-docking-layout");if(e.isInShadowDOM&&!a){let i=e.getRootNode().host;for(;i&&(a=i.closest("smart-docking-layout"),!a)&&i.getRootNode();)i=i.getRootNode().host}if(!(e instanceof Smart.TabsWindow&&a&&a.disabled)){if(e._handleActiveState(),!(e instanceof Smart.TabsWindow&&a))return n.closest(".smart-header-section")===e.$.headerSection&&(void 0===e._dblClickDetails&&(e._dblClickDetails={clicks:0}),clearTimeout(e._dblClickDetails.timeOut),e._dblClickDetails.clicks++,e._dblClickDetails.timeOut=setTimeout(function(){e._dblClickDetails&&(e._dblClickDetails.clicks=0)},300),2===e._dblClickDetails.clicks)?(e._headerDblCickHandler(t),void(e._dblClickDetails.clicks=0)):void(e.maximized||(Smart.Utilities.Core.isMobile&&e._moveHandler(t),!e.pinned&&!e.minimized&&e.$.container.className.indexOf("smart-window-resizing")<0&&(n=n.closest(".smart-header-section"),n&&n===e.$.headerSection&&(e._mouseManipulation=!0,e._setDragDetails("drag",t))),"none"!==e.resizeMode&&e.$.container.className.indexOf("smart-window-resizing")>-1&&(e._mouseManipulation=!0,e._setDragDetails("resize",t))));e.$.hasClass("smart-docking-layout-auto-hide-window")&&(Smart.Utilities.Core.isMobile&&e._moveHandler(t),"none"!==e.resizeMode&&e.$.container.className.indexOf("smart-window-resizing")>-1&&(e._mouseManipulation=!0,e._setDragDetails("resize",t)))}}_documentMoveHandler(t){const e=this;!e._dragDetails||!e._dragDetails.started||e.minimized||!e._mouseManipulation||Math.abs(t.pageX-e._dragDetails.x)<=5&&Math.abs(t.pageY-e._dragDetails.y)<=5||(e.hasAttribute("dragged")||e.hasAttribute("resized")||e.$.fireEvent(e._dragDetails.type+"Start",{left:t.pageX,top:t.pageY,width:e.offsetWidth,height:e.offsetHeight}),t.stopPropagation(),"drag"!==e._dragDetails.type||e.pinned?(e._dragDetails.resized=!0,e._resize(e._dragDetails.side,t),e._dragDetails.x=Math.max(e._windowParent.offsetLeft+e._dragDetails.left,Math.min(e._windowParent.offsetLeft+e._dragDetails.left+(e._dragDetails.side.toLowerCase().indexOf("left")>-1?0:e._dragDetails.newWidth),t.pageX)),e._dragDetails.y=Math.max(e._windowParent.offsetTop+e._dragDetails.top,Math.min(e._windowParent.offsetTop+e._dragDetails.top+(e._dragDetails.side.toLowerCase().indexOf("top")>-1?0:e._dragDetails.newHeight),t.pageY))):(e.setAttribute("dragged",""),e._snapDummy&&e.$.hasClass("smart-window-snapped-"+e._snapDummy._position)&&(e.$.removeClass("smart-window-snapped-"+e._snapDummy._position),e.style.right=e.style.top=e.style.left="",e.collapsed||(e.style.height=e._dragDetails.height+"px",e.style.width=e._dragDetails.width+"px")),e._drag(t,"both"),e._dragDetails.x=Math.max(e._windowParent.offsetLeft+e._dragDetails.offsetX-e._windowParent.scrollElement.scrollLeft,Math.min(e._windowParent.offsetLeft+e._windowParent.element.offsetWidth-(e._windowParent.element.offsetWidth-e.offsetLeft)+e._dragDetails.offsetX,t.pageX)),e._dragDetails.y=Math.max(e._windowParent.offsetTop+e._dragDetails.offsetY-e._windowParent.scrollElement.scrollTop,Math.min(e._windowParent.offsetTop+e._windowParent.element.offsetHeight-(e._windowParent.element.offsetHeight-e.offsetTop)+e._dragDetails.offsetY,t.pageY)),t.pageX>=e._windowParent.offsetLeft+e._windowParent.scrollElement.scrollWidth-1?e._handleSnapping("right"):t.pageY<=e._windowParent.offsetTop?e._handleSnapping("top"):t.pageX<=e._windowParent.offsetLeft?e._handleSnapping("left"):e._handleSnapping()))}_documentUpHandler(t){const e=this,n=e.shadowRoot||e.isInShadowDOM?t.originalEvent.composedPath()[0]:t.originalEvent.target;if(e.disabled)return e.removeAttribute("active"),delete e._buttonPressed,void delete e._isWindowContentClicked;if(e._dragDetails&&e._dragDetails.started&&(e.hasAttribute("resized")&&(e.$.fireEvent(e._dragDetails.type+"End",{left:t.pageX,top:t.pageY,width:e._dragDetails.newWidth,height:e._dragDetails.newHeight}),e.removeAttribute("resized"),e._handleWindowResizeDummy(),e.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right")),setTimeout(function(){e.$.removeClass("no-transition")},20),e.hasAttribute("dragged")&&(e.$.fireEvent(e._dragDetails.type+"End",{left:t.pageX,top:t.pageY}),e.removeAttribute("dragged")),e._dragDetails.started=!1,delete e._mouseManipulation),e._snapDummy&&!e._snapDummy.classList.contains("smart-visibility-hidden")){switch(e._snapDummy._position){case"left":case"top":e.style.left=e.style.top="0",e.style.right="auto";break;case"right":e.style.left="auto",e.style.top=e.style.right="0"}e.style.width="top"===e._snapDummy._position?"100%":"50%",e.style.height="100%",e.$.addClass("smart-window-snapped-"+e._snapDummy._position),e._handleSnapping()}e._modal&&n===e._modal&&!e._isWindowContentClicked&&(e.closeOnMaskClick?e.close():e.focus()),e._isWindowButton(n)&&e.focus(),delete e._isWindowContentClicked,delete e._buttonPressed;const a=e.shadowRoot&&e._windowParent.element&&e._windowParent.element.getRootNode()?e._windowParent.element.getRootNode().activeElement:document.activeElement;if(!e.hasAttribute("active")||a===e||!n.closest)return;let i=n.closest(".smart-window");for(;i&&i!==e;)i=i.parentElement,i&&(i=i.closest(".smart-window"));e.opened&&i!==e&&e.removeAttribute("active")}_documentSelectStartHandler(t){this._dragDetails&&this._dragDetails.started&&t.preventDefault()}_drag(t,e){const n=this;if(!t||n.pinned||n.maximized)return;let a,i;n._dragDetails&&n._dragDetails.started||n._setDragDetails("drag",t),n.$.addClass("no-transition"),"object"==typeof t?(a=t.pageX-n._dragDetails.x,i=t.pageY-n._dragDetails.y):a=i=t;const r=Math.max(n._windowParent.element.clientHeight,n._windowParent.scrollElement.scrollHeight),o=Math.max(n._windowParent.element.clientWidth,n._windowParent.scrollElement.scrollWidth);switch(e){case"horizontal":n._dragDetails.windowX=Math.max(0,Math.min(n._dragDetails.windowX+a,o-n.offsetWidth)),n.style.left=n._dragDetails.windowX+"px";break;case"vertical":n._dragDetails.windowY=Math.max(0,Math.min(n._dragDetails.windowY+i,r-n.offsetHeight)),n.style.top=n._dragDetails.windowY+"px";break;case"both":n._dragDetails.windowX=Math.max(0,Math.min(n._dragDetails.windowX+a,o-n.offsetWidth)),n._dragDetails.windowY=Math.max(0,Math.min(n._dragDetails.windowY+i,r-n.offsetHeight)),n.style.left=n._dragDetails.windowX+"px",n.style.top=n._dragDetails.windowY+"px"}n._dragDetails.top=n.offsetTop,n._dragDetails.left=n.offsetLeft}_dragStartHandler(t){this._dragDetails&&this._dragDetails.started&&t.preventDefault()}_focusHandler(t){const e=this;"focus"===t.type?(e.setAttribute("focus",""),e.bringToFront()):e._buttonPressed||(e.removeAttribute("focus"),e._dragDetails&&e._dragDetails.started&&e._handleWindowResizeDummy())}_getAllMinimizedWindows(t){const e=this;let n=[];t||(t=e._windowParent.element);const a=t.querySelectorAll("smart-window");for(let i=0;i<a.length;i++)a[i]!==e&&a[i].hasAttribute("minimized")&&n.push(a[i]);return n.sort(function(i,r){let o=i.getBoundingClientRect(),s=r.getBoundingClientRect();return o.right-s.right}),n}_handleSnapping(t){const e=this;t?e.disableSnap||e.collapsed||(e._snapDummy||(e._snapDummy=document.createElement("div"),e._snapDummy.addEventListener("transitionend",function(){e._snapDummy.classList.contains("smart-visibility-hidden")&&e._snapDummy.parentElement&&e._snapDummy.parentElement.removeChild(e._snapDummy)})),e._snapDummy.className="smart-window-snap-"+t+"-feedback",e._snapDummy._position=t,e._snapDummy.parentElement||e._windowParent.element.appendChild(e._snapDummy)):e._snapDummy&&e._snapDummy.parentElement&&e._snapDummy.classList.add("smart-visibility-hidden")}_headerDblCickHandler(t){const e=this,n=e.shadowRoot||e.isInShadowDOM?t.originalEvent.composedPath()[0]:t.originalEvent.target;n!==e.$.headerSection&&n!==e.$.header||e.$.maximizeButton&&0===e.$.maximizeButton.offsetHeight||(e.maximized?e.restore():e.maximize())}_isWindowButton(t){const e=this;for(;t&&(t.closest&&t.closest(".smart-buttons-container"))!==e.$.buttonsContainer;)t=t.getRootNode().host;if(!t)return;const n=/smart-(\w+[-]*\w*)-button/gi;if((t=t.closest(".smart-button"))&&t===e._buttonPressed)switch(t){case e.$.closeButton:return e.close(),!0;case e.$.collapseButton:return e.collapsed?e.expand():e.collapse(),!0;case e.$.maximizeButton:return e.maximized?e.restore():e.maximize(),!0;case e.$.minimizeButton:return e.minimized?e.restore():e.minimize(),!0;case e.$.pinButton:return e.pinned?e.unpin():e.pin(),!0;default:return n.test(t.className)?(e.$.fireEvent(Smart.Utilities.Core.toCamelCase(t.className.match(n).toString().replace("smart-","").replace("-button","")),{button:t}),!0):void 0}}_keyDownHandler(t){const e=this;if(delete e._changingFocus,e.disabled||(e.hasAttribute("dragged")||e.hasAttribute("resized"))&&e._mouseManipulation)return;const n="ArrowDown"===t.key||"ArrowRight"===t.key?10:-10,a=e.enableShadowDOM&&e._windowParent.element.getRootNode()?e._windowParent.element.getRootNode().activeElement:document.activeElement;if(!e.disableKeyboard)switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{if(e.minimized||a!==e)return;let i=t.key.indexOf("Right")>-1||t.key.indexOf("Left")>-1;t.preventDefault();const r=(e.isInShadowDOM?e.getRootNode().host:e).closest("smart-docking-layout");if(!i&&t.altKey&&!(e instanceof Smart.TabsWindow&&r))return void("ArrowUp"===t.key?e.maximize():e.restore());if(e.maximized)return;if(e.$.addClass("no-transition"),t.ctrlKey&&"none"!==e.resizeMode&&!e.collapsed)return i=-1===["horizontal","vertical","both"].indexOf(e.resizeMode)?e.resizeMode:i?"right":"bottom",e.hasAttribute("dragged")&&e._cancelDragging(t),e.hasAttribute("resized")||e.$.fireEvent("resizeStart",{position:{x:t.pageX,y:t.pageY}}),void e._resize(i,n);e.pinned||(e.hasAttribute("dragged")||(e.setAttribute("dragged",""),e.$.fireEvent("dragStart",{left:t.pageX,top:t.pageY})),e._drag(n,i?"horizontal":"vertical")),e.$.removeClass("no-transition");break}case"Escape":e.disableEscape||e.headerButtons.indexOf("close")>-1&&e.close();break;case"p":t.altKey&&e.headerButtons.indexOf("pin")>-1&&(e.pinned?e.unpin():e.pin());break;case"c":t.altKey&&e.headerButtons.indexOf("collapse")>-1&&(e.collapsed?e.expand():e.collapse());break;case"m":t.altKey&&e.headerButtons.indexOf("minimize")>-1&&(e.minimized?e.restore():e.minimize());break;case"Tab":e.opened&&e.modal&&(e._changingFocus=!0);break;case"Enter":case" ":{let i;if(e.shadowRoot||e.isInShadowDOM?(i=t.composedPath()[0],e._buttonPressed=i.getRootNode().host):(i=t.target.closest&&t.target.closest(".smart-button"),e._buttonPressed=i),!i)return;e._isWindowButton(i),delete e._buttonPressed;break}}}_keyUpHandler(t){const e=this;if(t.key&&!e.disableKeyboard){if("Control"===t.key&&e._dragDetails&&e.hasAttribute("resized")&&!e._mouseManipulation){if(!e._dragDetails.started)return;"drag"!==e._dragDetails.type&&(e.removeAttribute("resized"),e.$.fireEvent("resizeEnd",{left:t.pageX,top:t.pageY,width:e._dragDetails.newWidth,height:e._dragDetails.newHeight}),e._handleWindowResizeDummy()),e._dragDetails.started=!1}t.key.indexOf("Arrow")>-1&&e.hasAttribute("dragged")&&!e._mouseManipulation&&e._cancelDragging(t)}}_mouseWheelHandler(t){const e=this;!e.disabled&&e._dragDetails&&e._dragDetails.started&&(t.deltaY<0&&e._windowParent.scrollElement.scrollTop+t.deltaY<=0?e.style.top=Math.max(0,e._dragDetails.windowY)+"px":t.deltaY>0&&(e._dragDetails.windowY+e.offsetHeight+t.deltaY>=e._windowParent.scrollElement.scrollHeight||e._windowParent.scrollElement.scrollTop+e._windowParent.element.clientHeight===e._windowParent.scrollElement.scrollHeight)||("drag"===e._dragDetails.type?(e._dragDetails.windowY+=t.deltaY,e.style.top=e._dragDetails.windowY+"px"):(e._dragDetails.height+=t.deltaY,e.style.height=e._dragDetails.height+"px")))}_moveHandler(t){const e=this;if(!(e.disabled||e.collapsed||e.maximized||e.minimized||(Smart.Utilities.Core.isMobile&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&e.hasAttribute("dragged")&&t.originalEvent.preventDefault(),e._mouseManipulation||(e.$.container.className.indexOf("smart-window-resizing")>-1&&e.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right"),"none"===e.resizeMode)))){const n=e.getBoundingClientRect(),a=t.clientY<n.top+10,i=t.clientY>n.bottom-10,r=t.clientX>n.right-10,o=t.clientX<n.left+10;switch(e.resizeMode){case"none":break;case"both":if(e.resizeIndicator)return void(i&&r&&e.$.container.classList.add("smart-window-resizing-bottom-right"));if(o||r)return a?void e.$.container.classList.add("smart-window-resizing-top-"+(o?"left":"right")):i?void e.$.container.classList.add("smart-window-resizing-bottom-"+(o?"left":"right")):void e.$.container.classList.add("smart-window-resizing-"+(o?"left":"right"));if(a||i){if(r)return void e.$.container.classList.add("smart-window-resizing-"+(a?"top-right":"bottom-right"));if(o)return void e.$.container.classList.add("smart-window-resizing-"+(a?"top-left":"bottom-left"));e.$.container.classList.add("smart-window-resizing-"+(a?"top":"bottom"))}break;case"horizontal":if(e.resizeIndicator)return void(i&&r&&e.$.container.classList.add("smart-window-resizing-right"));if(o)return void e.$.container.classList.add("smart-window-resizing-left");r&&e.$.container.classList.add("smart-window-resizing-right");break;case"vertical":if(e.resizeIndicator)return void(i&&r&&e.$.container.classList.add("smart-window-resizing-bottom"));if(a)return void e.$.container.classList.add("smart-window-resizing-top");i&&e.$.container.classList.add("smart-window-resizing-bottom");break;case"top":if(a){if(e.resizeIndicator&&!o)return;e.$.container.classList.add("smart-window-resizing-top")}break;case"bottom":if(i){if(e.resizeIndicator&&!r)return;e.$.container.classList.add("smart-window-resizing-bottom")}break;case"left":if(o){if(e.resizeIndicator&&!a)return;e.$.container.classList.add("smart-window-resizing-left")}break;case"right":if(r){if(e.resizeIndicator&&!i)return;e.$.container.classList.add("smart-window-resizing-right")}}}}_handleActiveState(){const t=this,e=document.querySelectorAll(".smart-window");for(let n=0;n<e.length;n++)e[n].contains(t)||t.contains(e[n])||(e[n].removeAttribute("active"),e[n].removeAttribute("focus"));t.setAttribute("active","")}_handleWindowResizeDummy(){const t=this;if(t._resizeDummy||(t._resizeDummy=document.createElement("div"),t._resizeDummy.classList.add("smart-window-resize-feedback")),!t.hasAttribute("resized"))return t._resizeDummy&&t._resizeDummy.remove(),void(!t.liveResize&&"resize"===t._dragDetails.type&&t._dragDetails.started&&(t.style.top=t._dragDetails.top+"px",t.style.left=t._dragDetails.left+"px",t.style.width=t._dragDetails.newWidth+"px",t.style.height=t._dragDetails.newHeight+"px"));t._resizeDummy.parentElement||t._resizeDummy.getRootNode().host||(t._resizeDummy.style.width=t.offsetWidth+"px",t._resizeDummy.style.height=t.offsetHeight+"px",t._resizeDummy.style.top=t.offsetTop+"px",t._resizeDummy.style.left=t.offsetLeft+"px",t._windowParent.element.appendChild(t._resizeDummy))}_resize(t,e){const n=this;let a;if((!n._dragDetails||n._dragDetails&&"drag"===n._dragDetails.type)&&n._setDragDetails("resize"),!n._dragDetails)return;n._dragDetails.started=!0,n.hasAttribute("resized")||(n.setAttribute("resized",""),n.hasAnimation&&n.$.addClass("no-transition")),n.liveResize||n._handleWindowResizeDummy();const i=n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)?"snapWindowWidth":"width";switch(t){case"left":a="object"==typeof e?e.pageX-n._dragDetails.x:e,a=a>0?Math.min(a,n._dragDetails[i]-n._dragDetails.minWidth):-1*Math.min(n._dragDetails.maxWidth?n._dragDetails.maxWidth-n._dragDetails[i]:n._dragDetails.left,Math.abs(a)),n._dragDetails[i]=Math.min(n._dragDetails[i]+n._dragDetails.left-n._windowParent.scrollElement.scrollLeft,n._dragDetails[i]-a),n._dragDetails.windowX=Math.max(n._windowParent.scrollElement.scrollLeft,n._dragDetails.windowX+a),"object"!=typeof e&&(n._dragDetails[i]=Math.max(n._dragDetails[i],n._dragDetails.minWidth)),n._dragDetails[i]>=n._dragDetails.minWidth&&(n._dragDetails.left=n._dragDetails.windowX,n._dragDetails.newWidth=n._dragDetails[i]);break;case"right":{const o=n._windowParent.element.clientWidth!==n._windowParent.element.offsetWidth?n._windowParent.borderWidth:0,s=n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)?"snapWindowWidth":"width";a="object"==typeof e?e.pageX-n._dragDetails.x:e,a>0&&n._dragDetails.maxWidth&&(a=Math.min(n._dragDetails.maxWidth-n._dragDetails[s],a)),n._dragDetails[s]=Math.min(n._windowParent.element.clientWidth+n._windowParent.scrollElement.scrollLeft-n._dragDetails.left-o,Math.max(0,n._dragDetails[s]+a)),"object"!=typeof e&&(n._dragDetails[s]=Math.max(n._dragDetails[s],n._dragDetails.minWidth)),n._dragDetails.left=n.offsetLeft,n._dragDetails.newWidth=Math.max(n._dragDetails.minWidth,n._dragDetails[s]);break}case"top":n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)&&(n._dragDetails.height=n._dragDetails.snapWindowHeight),a="object"==typeof e?e.pageY-n._dragDetails.y:e,a=a>0?Math.min(a,n._dragDetails.height-n._dragDetails.minHeight):-1*Math.min(n._dragDetails.maxHeight?n._dragDetails.maxHeight-n._dragDetails.height:n._dragDetails.top,Math.abs(a)),n._dragDetails.snapWindowHeight=n._dragDetails.height=Math.min(n._dragDetails.height+n._dragDetails.top-n._windowParent.scrollElement.scrollTop,n._dragDetails.height-a),n._dragDetails.windowY=Math.max(n._windowParent.scrollElement.scrollTop,n._dragDetails.windowY+a),"object"!=typeof e&&(n._dragDetails.snapWindowHeight=n._dragDetails.height=Math.max(n._dragDetails.height,n._dragDetails.minHeight)),n._dragDetails.height>=n._dragDetails.minHeight&&(n._dragDetails.top=n._dragDetails.windowY,n._dragDetails.newHeight=n._dragDetails.height),n._dragDetails.newWidth=Math.max(n._dragDetails[i],n._dragDetails.newWidth);break;case"bottom":n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)&&(n._dragDetails.height=n._dragDetails.snapWindowHeight),a="object"==typeof e?e.pageY-n._dragDetails.y:e,a>0&&n._dragDetails.maxHeight&&(a=Math.min(n._dragDetails.maxHeight-n._dragDetails.height,a)),n._dragDetails.snapWindowHeight=n._dragDetails.height=Math.min(n._windowParent.element.clientHeight+n._windowParent.scrollElement.scrollTop-n._dragDetails.top-n._windowParent.borderWidth,Math.max(0,n._dragDetails.height+a)),"object"!=typeof e&&(n._dragDetails.snapWindowHeight=n._dragDetails.height=Math.max(n._dragDetails.height,n._dragDetails.minHeight)),n._dragDetails.newHeight=Math.max(n._dragDetails.minHeight,n._dragDetails.height),n._dragDetails.newWidth=Math.max(n._dragDetails[i],n._dragDetails.newWidth);break;case"bottomLeftCorner":n._resize("bottom",e),n._resize("left",e);break;case"bottomRightCorner":n._resize("bottom",e),n._resize("right",e);break;case"topLeftCorner":n._resize("top",e),n._resize("left",e);break;case"topRightCorner":n._resize("top",e),n._resize("right",e)}const r=n.liveResize?n:n._resizeDummy;n._dragDetails.newHeight=Math.max(n._dragDetails.snapWindowHeight,n._dragDetails.newHeight),r.style.top=n._dragDetails.top+"px",r.style.left=n._dragDetails.left+"px",r.style.width=n._dragDetails.newWidth+"px",r.style.height=n._dragDetails.newHeight+"px"}_restoreFromMinimization(){const t=this;t.minimized=!1,t.style.width=t.style.height=t.style.top=t.style.left="",t._refreshMinimizedWindowsPosition()}_refreshMinimizedWindowsPosition(){const t=this,e=t._getAllMinimizedWindows();if(0===e.length)return;let n;e[0].style.left="5px";for(let a=1;a<e.length;a++)parseFloat(e[a-1].style.left)+e[a-1].offsetWidth+e[a].offsetWidth+10<t._windowParent.element.clientWidth?(e[a].style.left=parseFloat(e[a-1].style.left)+e[a-1].offsetWidth+5+"px",e[a].style.top=e[a-1].offsetTop+"px",n=e[a]):(e[a].style.left=parseFloat(n.style.left)+"px",e[a].style.top=n.offsetTop+"px")}_setHeaderButtons(){const t=this,e=t.headerButtons,n=t.$.buttonsContainer.children,a=function(i){const r=t.$.buttonsContainer.getElementsByClassName("smart-"+(i+"").split(/(?=[A-Z])/).join("-").toLowerCase()+"-button")[0];return r&&r.classList.remove("smart-hidden"),r};for(let i=0;i<n.length;i++)n[i].classList.add("smart-hidden");if(e.length>0)for(let i=0;i<e.length;i++){let r=a(e[i]);if(!r){const o=(e[i]+"").split(/(?=[A-Z])/);r=document.createElement("button"),r.setAttribute("aria-label",o.map(s=>s.slice(0,1).toUpperCase()+s.slice(1)).join(" ")),r.classList.add("smart-"+o.join("-").toLowerCase()+"-button","smart-button","smart-element")}t.$.buttonsContainer.insertBefore(r,t.$.buttonsContainer.firstElementChild)}}_setDragDetails(t,e){const n=this;if(n._dragDetails||(n._dragDetails={}),void 0===n._dragDetails.minWidth||void 0===n._dragDetails.minHeight||void 0===n._dragDetails.maxWidth||void 0===n._dragDetails.maxHeight){const i=getComputedStyle(n);n._dragDetails.minWidth=parseFloat(i.getPropertyValue("min-width"))||0,n._dragDetails.minHeight=parseFloat(i.getPropertyValue("min-height"))||0,n._dragDetails.maxWidth=parseFloat(i.getPropertyValue("max-width"))||0,n._dragDetails.maxHeight=parseFloat(i.getPropertyValue("max-height"))||0}n._dragDetails.windowX=n.offsetLeft,n._dragDetails.windowY=n.offsetTop;const a=n.getBoundingClientRect();if(n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position))"right"===n.headerPosition&&n.collapsed&&(n._dragDetails.offsetX=a.left+n.offsetWidth-e.clientX);else{const i=n.parentElement===document.body?document.documentElement.getBoundingClientRect():n.parentElement?n.parentElement.getBoundingClientRect():document.documentElement.getBoundingClientRect(),r=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset;n._windowParent.offsetLeft=i.left+r,n._windowParent.offsetTop=i.top+o,e&&"object"==typeof e&&(n._dragDetails.offsetX=e.clientX-a.left,n._dragDetails.offsetY=e.clientY-a.top),n.collapsed||(n.hasAnimation&&"minimize"===t?(n._dragDetails.width=n._dragDetails.width?n._dragDetails.width:n.offsetWidth,n._dragDetails.height=n._dragDetails.height?n._dragDetails.height:n.offsetHeight):(n._dragDetails.width=n.offsetWidth,n._dragDetails.height=n.offsetHeight),(n.style.width||n.style.height)&&(n._dragDetails.resized=!0))}if("minimize"!==t&&t&&(n._dragDetails.type=t,n._dragDetails.started=!0,n._dragDetails.snapWindowWidth=n.offsetWidth,n._dragDetails.snapWindowHeight=n.offsetHeight,e&&"object"==typeof e?(n._dragDetails.x=e.pageX,n._dragDetails.y=e.pageY):(n._dragDetails.x=n.offsetLeft,n._dragDetails.y=n.offsetTop),"resize"===t)){if("none"===n.resizeMode)return void delete n._dragDetails;n._dragDetails.top=n.offsetTop,n._dragDetails.left=n.offsetLeft,n._dragDetails.newWidth=n._dragDetails.width,n._dragDetails.newHeight=n._dragDetails.height,n.$container.hasClass("smart-window-resizing-right")?n._dragDetails.side="right":n.$container.hasClass("smart-window-resizing-left")?n._dragDetails.side="left":n.$container.hasClass("smart-window-resizing-top")?n._dragDetails.side="top":n.$container.hasClass("smart-window-resizing-bottom")?n._dragDetails.side="bottom":n.$container.hasClass("smart-window-resizing-top-left")?n._dragDetails.side="topLeftCorner":n.$container.hasClass("smart-window-resizing-bottom-left")?n._dragDetails.side="bottomLeftCorner":n.$container.hasClass("smart-window-resizing-top-right")?n._dragDetails.side="topRightCorner":n.$container.hasClass("smart-window-resizing-bottom-right")&&(n._dragDetails.side="bottomRightCorner")}}_setElementParent(t){const e=this;if(e._windowParent.element=void 0,e._windowParent.parent&&!e._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&(e._windowParent.parent.style.position=""),t instanceof HTMLElement)e._windowParent.element=t;else if("string"==typeof t)if("body"===t){const n=e.getRootNode();e._windowParent.element=n&&n.host?e.getShadowRootOrBody():document.body}else e._windowParent.element=document.getElementById(t);if(e._windowParent.element||(e._windowParent.element=e._windowParent.initialParent&&e._windowParent.initialParent.parentElement?e._windowParent.initialParent:e.getShadowRootOrBody()),e.parentElement!==e._windowParent.element&&e._windowParent.element.appendChild(e),e._windowParent.element===document.body)e._windowParent.element=document.documentElement,e._windowParent.scrollElement=document.scrollingElement,e._windowParent.parent=document.body,e._windowParent.borderWidth=0;else{if(e.parentElement instanceof Smart.Window&&!e.parentElement.isCompleted)return void e.parentElement.whenRendered(function(){e.parentElement.appendChild(e),e._setElementParent(e.windowParent)});e._windowParent.element instanceof Smart.Window&&(e._windowParent.element=e._windowParent.element.$.content);const n=getComputedStyle(e.parentElement),a=n.getPropertyValue("position");e._windowParent.borderWidth=2*parseInt(n.getPropertyValue("border-width")||0),e._windowParent.parent=e.parentElement,e._windowParent.scrollElement=e._windowParent.element,"static"===a&&(e.parentElement.style.position="relative")}e._setModal(),e.style.left&&e.offsetLeft>e._windowParent.scrollElement.scrollWidth&&(e.style.left=e._windowParent.scrollElement.scrollWidth-e.offsetWidth+"px"),e.style.top&&e.offsetTop>e._windowParent.scrollElement.scrollHeight&&(e.style.top=e._windowParent.scrollElement.scrollHeight-e.offsetHeight+"px")}_setModal(){const t=this;if(t._windowParent&&(delete t._changingFocus,t._windowParent.element))if(t.modal)if(t._modal||(t._modal=document.createElement("div"),t._modal.classList.add("smart-modal")),t._windowParent.parent!==document.body?t._modal.setAttribute("nested-modal",""):t._modal.removeAttribute("nested-modal"),t._modal._window=t,t.opened&&!t._modal.parentElement){const e=parseInt(getComputedStyle(t).getPropertyValue("z-index"));isNaN(e)||(t._modal.style.zIndex=e-1),t.parentElement.insertBefore(t._modal,t)}else t._modal.parentElement&&t._modal.parentElement.removeChild(t._modal);else t._modal&&t._modal.parentElement&&(t._modal.parentElement.removeChild(t._modal),delete t._modal)}}),Smart("smart-dialog-window",class extends Smart.Window{static get properties(){return{cancelLabel:{value:"Cancel",type:"string"},confirmLabel:{value:"Ok",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0}}}static get listeners(){return{"footer.click":"_footerClickHandler"}}template(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="pinButton" class="smart-pin-button" aria-label="Pin"></button>\n                                <button id="collapseButton" class="smart-button smart-element smart-collapse-button" aria-label="Collapse"></button>\n                                <button id="minimizeButton" class="smart-button smart-element smart-minimize-button" aria-label="Minimize"></button>\n                                <button id="maximizeButton" class="smart-button smart-element smart-maximize-button" aria-label="Maximize"></button>\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content">\n                            <content></content>\n                        </div>\n                        <div id="footer" class="smart-footer">\n                            <button id="confirmButton" class="smart-button smart-element smart-confirm-button">[[confirmLabel]]</button>\n                            <button id="cancelButton" class="smart-button smart-element smart-cancel-button">[[cancelLabel]]</button>\n                        </div>\n                    </div>\n                </div>'}_createElement(){const t=this;t.setAttribute("role","alertdialog"),t.setAttribute("aria-describedby",t.$.content.id)}_footerClickHandler(t){const n=t.target;n.closest(".smart-confirm-button")?this.$.fireEvent("confirm"):n.closest(".smart-cancel-button")&&this.$.fireEvent("cancel")}_keyDownHandler(t){const e=this;if(delete e._changingFocus,e.disabled||(e.hasAttribute("dragged")||e.hasAttribute("resized"))&&e._mouseManipulation||e.disableKeyboard)return;t.stopPropagation();const n="ArrowDown"===t.key||"ArrowRight"===t.key?10:-10,a=e.enableShadowDOM&&e._windowParent.element.getRootNode()?e._windowParent.element.getRootNode().activeElement:document.activeElement;switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{if(e.minimized||a!==e)return;const i=t.key.indexOf("Right")>-1||t.key.indexOf("Left")>-1;if(t.preventDefault(),!i&&t.altKey)return void("ArrowUp"===t.key?e.maximize():e.restore());if(e.$.addClass("no-transition"),e.maximized)return;if(t.ctrlKey&&"none"!==e.resizeMode)return e.hasAttribute("dragged")&&e._cancelDragging(t),e.hasAttribute("resized")||e.$.fireEvent("resizeStart",{position:{x:t.pageX,y:t.pageY}}),void e._resize(i?"right":"bottom",n);e.pinned||(e.hasAttribute("dragged")||(e.setAttribute("dragged",""),e.$.fireEvent("dragStart",{left:t.pageX,top:t.pageY})),e._drag(n,i?"horizontal":"vertical")),e.$.removeClass("no-transition");break}case"Escape":e.disableEscape||e.headerButtons.indexOf("close")>-1&&e.close();break;case"Tab":e.opened&&e.modal&&(e._changingFocus=!0);break;case"Enter":case" ":{let i;if(e.shadowRoot||e.isInShadowDOM?(i=t.composedPath()[0],e._buttonPressed=i.getRootNode().host):(i=t.target.closest&&t.target.closest(".smart-button"),e._buttonPressed=i),!i)return;e._isWindowButton(i),delete e._buttonPressed;break}}}}),Smart("smart-alert-window",class extends Smart.DialogWindow{static get properties(){return{headerButtons:{value:[],type:"array"}}}_createElement(){const t=this;t.setAttribute("role","alertdialog"),t.setAttribute("aria-describedby",t.$.content.id)}}),Smart("smart-prompt-window",class extends Smart.DialogWindow{static get properties(){return{autoComplete:{allowedValues:["none","manual","auto","inline"],type:"string",value:"manual"},confirmLabel:{value:"Ok",type:"string"},cancelLabel:{value:"Cancel",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},displayMode:{value:"default",allowedValues:["default","escaped"],type:"string"},headerButtons:{value:["close"],type:"array"},form:{value:"",type:"string"},hint:{value:null,type:"any?"},maxLength:{value:null,type:"number?"},minLength:{value:2,type:"number"},messages:{extend:!0,value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}."}},type:"object"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},name:{value:"",type:"string"},placeholder:{value:"",type:"string"},promptLabel:{value:"",type:"string?"},required:{value:!1,type:"boolean"},requiredMessage:{value:"",type:"string"},selectAllOnFocus:{value:!1,type:"boolean"},value:{value:"",type:"string"}}}template(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content">\n                            <content></content>\n                            <smart-text-box id="textBox"\n                                animation="[[animation]]"\n                                auto-complete="[[autoComplete]]"\n                                max-length="[[maxLength]]"\n                                value="{{value}}"\n                                form="[[form]]"\n                                label="[[promptLabel]]"\n                                hint="[[hint]]"\n                                display-mode="[[displayMode]]"\n                                max-length="[[maxLength]]"\n                                placeholder="[[placeholder]]"\n                                required="[[required]]"\n                                required-message="[[requiredMessage]]"\n                                select-all-on-focus="[[selectAllOnFocus]]"\n                                theme="[[theme]]"\n                                right-to-left="[[rightToLeft]]">\n                            </smart-text-box>\n                        </div>\n                        <div id="footer" class="smart-footer">\n                            <button id="confirmButton" class="smart-button smart-element smart-confirm-button flat">[[confirmLabel]]</button>\n                            <button id="cancelButton" class="smart-button smart-element smart-cancel-button flat">[[cancelLabel]]</button>\n                        </div>\n                    </div>\n                </div>'}static get listeners(){return{"footer.click":"_footerClickHandler"}}static get requires(){return{"Smart.TextBox":"smart.textbox.js"}}_footerClickHandler(t){const e=this,n=t.target;n.closest(".smart-confirm-button")?e.$.fireEvent("confirm",{value:e.$.textBox.value}):n.closest(".smart-cancel-button")&&e.$.fireEvent("cancel",{value:e.$.textBox.value})}_keyDownHandler(t){const e=this;function n(){e._dragDetails&&(e._dragDetails.started=!1),e.$.removeClass("no-transition")}if(delete e._changingFocus,e.disabled||e._dragDetails&&e._dragDetails.started||e.disableKeyboard)return;t.stopPropagation();const a="ArrowDown"===t.key||"ArrowRight"===t.key?10:-10,i=e.enableShadowDOM&&e._windowParent.element.getRootNode()?e._windowParent.element.getRootNode().activeElement:document.activeElement;switch(e.$.removeClass("no-transition"),t.key){case"ArrowUp":case"ArrowDown":if(i!==e)return;if(t.preventDefault(),t.altKey)return"ArrowUp"===t.key?e.maximize():e.restore(),void n();if(e.$.addClass("no-transition"),t.ctrlKey)return e._resize("bottom",a),void n();e._drag(a,"vertical");break;case"ArrowLeft":case"ArrowRight":if(i!==e)return;if(t.preventDefault(),e.$.addClass("no-transition"),t.ctrlKey)return e._resize("right",a),void n();e._drag(a,"horizontal"),e.$.removeClass("no-transition");break;case"Escape":e.disableEscape||e.headerButtons.indexOf("close")>-1&&e.close();break;case"Tab":e.opened&&e.modal&&(e._changingFocus=!0);break;case"Enter":case" ":{let r;if(e.shadowRoot||e.isInShadowDOM?(r=t.composedPath()[0],e._buttonPressed=r.getRootNode().host):(r=t.target.closest&&t.target.closest(".smart-button"),e._buttonPressed=r),!r)return;e._isWindowButton(r),delete e._buttonPressed;break}}n()}}),Smart("smart-multiline-prompt-window",class extends Smart.PromptWindow{static get properties(){return{autoCapitalize:{value:"none",allowedValues:["none","words","characters"],type:"string"},autoExpand:{value:!1,type:"boolean"},headerButtons:{value:["close"],type:"array"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},selectionDirection:{value:"none",allowedValues:["forward","backward","none"],type:"string"},selectionEnd:{value:0,reflectToAttribute:!1,type:"number"},selectionStart:{value:0,reflectToAttribute:!1,type:"number"},spellCheck:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},wrap:{value:"soft",allowedValues:["hard","soft","off"],type:"string"}}}template(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content">\n                            <content></content>\n                           <smart-multiline-text-box id="textBox"\n                                animation="[[animation]]"\n                                horizontal-scroll-bar-visibility= "[[horizontalScrollBarVisibility]]"\n                                vertical-scroll-bar-visibility= "[[verticalScrollBarVisibility]]"\n                                auto-capitalize="[[autoCapitalize]]"\n                                auto-expand = "[[autoExpand]]"\n                                selection-direction= "[[selectionDirection]]"\n                                selection-end= "[[selectionEnd]]"\n                                selection-start="[[selectionStart]]"\n                                spell-check= "[[spellCheck]]"\n                                wrap="[[wrap]]"\n                                max-length="[[maxLength]]"\n                                value="{{value}}"\n                                form="[[form]]"\n                                label="[[promptLabel]]"\n                                hint="[[hint]]"\n                                display-mode="[[displayMode]]"\n                                max-length="[[maxLength]]"\n                                placeholder="[[placeholder]]"\n                                required="[[required]]"\n                                required-message="[[requiredMessage]]"\n                                select-all-on-focus="[[selectAllOnFocus]]"\n                                theme="[[theme]]"\n                                right-to-left="[[rightToLeft]]">\n                           </smart-multiline-text-box>\n                        </div>\n                        <div id="footer" class="smart-footer">\n                            <button id="confirmButton" class="smart-button smart-element smart-confirm-button flat">[[confirmLabel]]</button>\n                            <button id="cancelButton" class="smart-button smart-element smart-cancel-button flat">[[cancelLabel]]</button>\n                        </div>\n                    </div>\n                </div>'}static get listeners(){return{"footer.click":"_footerClickHandler"}}static get requires(){return{"Smart.MultilineTextBox":"smart.multilinetextbox.js"}}_footerClickHandler(t){const e=this,n=t.target;n.closest(".smart-confirm-button")?e.$.fireEvent("confirm",{value:e.$.textBox.value}):n.closest(".smart-cancel-button")&&e.$.fireEvent("cancel",{value:e.$.textBox.value})}}),Smart("smart-progress-window",class extends Smart.Window{static get properties(){return{completeLabel:{value:"Continue",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},indeterminate:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function"},max:{value:100,type:"number"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},min:{value:0,type:"number"},showProgressValue:{value:!1,type:"boolean"},value:{value:0,type:"number?"}}}template(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content" inner-h-t-m-l="[[innerHTML]]">\n                            <content></content>\n                        </div>\n                        <div id="footer" class="smart-footer">\n                            <smart-progress-bar id="progressBar"\n                                animation="[[animation]]"\n                                min="[[min]]"\n                                max="[[max]]"\n                                indeterminate="[[inditerminate]]"\n                                inverted="[[inverted]]"\n                                format-function="[[formatFunction]]"\n                                show-progress-value="[[showProgressValue]]"\n                                theme="[[theme]]"\n                                right-to-left="[[rightToLeft]]"\n                                value="{{value}}">\n                            </smart-progress-bar>\n                            <button id="completeButton" class="smart-button smart-element smart-complete-button smart-visibility-hidden">[[completeLabel]]</button>\n                        </div>\n                    </div>\n                </div>'}static get requires(){return{"Smart.ProgressBar":"smart.progressbar.js"}}propertyChangedHandler(t,e,n){"value"===t?this._handleCompletion():super.propertyChangedHandler(t,e,n)}_createElement(){this.setAttribute("role","dialog"),this._handleCompletion()}_handleCompletion(){const t=this;t.$.completeButton&&(t.value>=t.max?(t.$completeButton.removeClass("smart-visibility-hidden"),t.$progressBar.addClass("smart-visibility-hidden")):(t.$completeButton.addClass("smart-visibility-hidden"),t.$progressBar.removeClass("smart-visibility-hidden")))}_keyDownHandler(t){const e=this;function n(){e._dragDetails&&(e._dragDetails.started=!1),e.$.removeClass("no-transition")}if(delete e._changingFocus,e.disabled||e._dragDetails&&e._dragDetails.started||e.disableKeyboard)return;t.stopPropagation();const a="ArrowDown"===t.key||"ArrowRight"===t.key?10:-10,i=e.enableShadowDOM&&e._windowParent.element.getRootNode()?e._windowParent.element.getRootNode().activeElement:document.activeElement;switch(e.$.removeClass("no-transition"),t.key){case"ArrowUp":case"ArrowDown":if(i!==e)return;if(t.preventDefault(),t.altKey)return"ArrowUp"===t.key?e.maximize():e.restore(),void n();if(e.$.addClass("no-transition"),t.ctrlKey)return e._resize("bottom",a),void n();e._drag(a,"vertical"),e.$.removeClass("no-transition");break;case"ArrowLeft":case"ArrowRight":if(i!==e)return;if(t.preventDefault(),e.$.addClass("no-transition"),t.ctrlKey)return e._resize("right",a),void n();e._drag(a,"horizontal"),e.$.removeClass("no-transition");break;case"Escape":e.disableEscape||e.headerButtons.indexOf("close")>-1&&e.close();break;case"Tab":e.opened&&e.modal&&(e._changingFocus=!0);break;case"Enter":case" ":{let r;if(e.shadowRoot||e.isInShadowDOM?(r=t.composedPath()[0],e._buttonPressed=r.getRootNode().host):(r=t.target.closest&&t.target.closest(".smart-button"),e._buttonPressed=r),!r)return;e._isWindowButton(r),delete e._buttonPressed;break}}n()}}),Smart("smart-tabs-window",class extends Smart.Window{static get properties(){return{disableSnap:{value:!0,readOnly:!0,type:"boolean"},dropPosition:{value:["all"],type:"array"},addNewTab:{value:!1,type:"boolean"},allowToggle:{value:!1,type:"boolean"},autoHide:{value:!1,type:"boolean"},autoHideWindow:{value:null,type:"any"},dataSource:{value:null,type:"array?",reflectToAttribute:!1},tabCloseButtonMode:{value:"default",allowedValues:["default","selected"],type:"string"},tabCloseButtons:{value:!1,type:"boolean"},draggable:{value:!0,type:"boolean",reflectToAttribute:!1},messages:{value:{en:{ambiguousIndexes:"smart-tabs: Initially set smart-tab-item indexes are ambiguous and are ignored in favour of the HTML structure.",detailsObjectRequired:'smart-tabs: The method "insert" requires a details Object to be passed as a second argument.',invalidIndex:'smart-tabs: "{{method}}" method accepts an index of type number.',referenceNodeNotChild:"smart-tabs: Passed {{argument}} is not part of this smart-tabs element.",tabItemRequired:'smart-tabs: The method "{{method}}" requires a "smart-tab-item" element to be passed as an argument.'}},type:"object",extend:!0},tabOverflow:{value:"auto",allowedValues:["auto","hidden","scroll"],type:"string"},tabReorder:{value:!1,type:"boolean"},tabResize:{value:!1,type:"boolean"},tabScrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedIndex:{value:null,type:"number?"},selectionMode:{value:"click",allowedValues:["click","dblclick","mouseenter","none"],type:"string"},collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"},max:{value:"",type:"any"},min:{value:"",type:"any"},size:{value:"",type:"any"},tabLayout:{value:"scroll",allowedValues:["scroll","dropdown","wrap","shrink"],type:"string",defaultReflectToAttribute:!0},tabPosition:{value:"top",allowedValues:["top","bottom","left","right","hidden"],type:"string"},tabTextOrientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},layout:{value:null,type:"any"}}}static get listeners(){return{"tabsElement.blur":"_tabsFocusHandler","tabsElement.change":"_tabsChangeHandler","tabsElement.focus":"_tabsFocusHandler","autoHideWindow.close":"_autoHideWindowCloseHandler","autoHideWindow.open":"_autoHideWindowOpenHandler"}}template(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="minimizeButton" class="smart-button smart-element smart-minimize-button" aria-label="Minimize"></button>\n                                <button id="maximizeButton" class="smart-button smart-element smart-maximize-button" aria-label="Maximize"></button>\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div id="contentSection" class="smart-content">\n                           <smart-tabs id="tabsElement"\n                                animation="[[animation]]"\n                                add-new-tab="[[addNewTab]]"\n                                allow-toggle="[[allowToggle]]"\n                                close-button-mode="[[tabCloseButtonMode]]"\n                                close-buttons="[[tabCloseButtons]]"\n                                disabled="[[disabled]]"\n                                overflow="[[tabOverflow]]"\n                                reorder="[[tabReorder]]"\n                                resize="[[tabResize]]"\n                                scroll-buttons-position="[[tabScrollButtonsPosition]]"\n                                selected-index="{{selectedIndex}}"\n                                selection-mode="[[selectionMode]]"\n                                tab-layout="[[tabLayout]]"\n                                tab-position="[[tabPosition]]"\n                                tab-text-orientation="[[tabTextOrientation]]"\n                                theme="[[theme]]"\n                                right-to-left="[[rightToLeft]]">\n                                <content></content>\n                            </smart-tabs>\n                        </div>\n                        <div id="footer" class="smart-footer smart-hidden"></div>\n                    </div>\n                </div>'}static get requires(){return{"Smart.Tabs":"smart.tabs.js"}}appendChild(t){const e=this;if(!e.isCompleted||t instanceof HTMLElement&&t.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t?(t instanceof Smart.TabItem||e.error(e.localize("tabItemRequired",{method:"removeChild"})),e.$.tabsElement.appendChild(t)):e.error(e.localize("invalidNode",{elementType:e.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}insert(t,e){this.$.tabsElement.insert(t,e);const n=this.$.tabsElement._tabs[t];n&&(n.draggable=void 0===e.draggable||e.draggable,n.floatable=void 0===e.floatable||e.floatable)}insertBefore(t,e){this.$.tabsElement.insertBefore(t,e)}removeAt(t){this.$.tabsElement.removeAt(t)}removeChild(t){const e=this;if(!e.isCompleted||t instanceof HTMLElement&&t.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t?(t instanceof Smart.TabItem||e.error(e.localize("tabItemRequired",{method:"removeChild"})),(e.shadowRoot||e).contains(t)||e.error(e.localize("referenceNodeNotChild",{argument:"node"})),e.$.tabsElement.removeChild(t)):e.error(e.localize("invalidNode",{elementType:e.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}refreshTabHeader(){const t=this;t.$.tabsElement&&t.$.tabsElement.isCompleted&&t.$.tabsElement.refreshTabHeader()}refreshTabs(){const t=this;t.$.tabsElement&&t.$.tabsElement.isCompleted&&t.$.tabsElement._applyTabOverflow()}select(t){this.$.tabsElement.select(t)}update(t,e,n){this.$.tabsElement.update(t,e,n)}get items(){return this.isCompleted&&this.$.tabsElement?this.$.tabsElement._tabs:null}get itemLabels(){return this.$?this.$.tabsElement._tabLabelContainers:null}get siblings(){const t=this;let e=[];if(!t.isCompleted)return e;const n=t.closest("smart-splitter");if(!n||!n.closest("smart-docking-layout"))return e;const a=n._items;if(!a||!a.length)return e;for(let i=0;i<a.length;i++){const r=a[i];r!==t.closest("smart-splitter-item")&&r.querySelector("smart-tabs-window").closest("smart-splitter")===n&&e.push(r.querySelector("smart-tabs-window"))}return e}propertyChangedHandler(t,e,n){const a=this;switch("collapsed"!==t&&super.propertyChangedHandler(t,e,n),t){case"theme":""!==e&&(a.$.closeButton.classList.remove(e),a.$.collapseButton.classList.remove(e),a.$.maximizeButton.classList.remove(e),a.$.pinButton.classList.remove(e)),a._applyTheme(n);break;case"autoHideWindow":a._handleAutoHideWindow();break;case"autoHide":n||(null!==a.$.tabsElement.selectedIndex&&(a.$.tabsElement._tabs[a.$.tabsElement.selectedIndex]._autoHideWindowSize=void 0),a._autoHideWindow&&a._autoHideWindow.close());break;case"dataSource":a.$.tabsElement.dataSource=n;break;case"layout":a._handleLayoutProperty();break;case"collapsible":case"collapsed":case"locked":case"max":case"min":case"size":{const i=a.getRootNode(),r=(i&&i.host?i.host:a).closest("smart-docking-layout"),o=a.closest("smart-splitter-item");if(!r)return void("collapsed"===t&&super.propertyChangedHandler(t,e,n));o&&(o[t]=n);break}}}_applyTheme(t){if(""!==t){const e=this.$.buttonsContainer.children;for(let n=0;n<e.length;n++)e[n].classList.add(t)}}_autoHideWindowCloseHandler(){const t=this;t.allowToggle&&null!==t.$.tabsElement.selectedIndex&&t.$.tabsElement.select(t.$.tabsElement.selectedIndex),t._autoHideWindow&&t._moveContent(t._autoHideWindow.items[0],t._autoHideWindow._tab)}_autoHideWindowOpenHandler(){const t=this;t.$.tabsElement.selectedIndex&&t._handleAutoHide(t.$.tabsElement.selectedIndex)}_createElement(){const t=this;t.setAttribute("role","dialog"),t.$.tabsElement.$.tabHeaderControls&&!t.$.tabsElement.$.tabHeaderControls.innerHTML&&t.$.tabsElement.$tabHeaderControls.addClass("smart-hidden"),t.$.tabsElement.dataSource=t.dataSource,t._applyTheme(t.theme),t._handleAutoHideWindow(),t.autoHide&&t._handleAutoHide(t.$.tabsElement.selectedIndex),t.allowToggle||t.selectedIndex||null===t.$.tabsElement.selectedIndex||(t.selectedIndex=t.$.tabsElement.selectedIndex,t.$.tabsElement.setAttribute("selected-index",t.selectedIndex)),t._handleLayoutProperty();const e=(t.isInShadowDOM?t.getRootNode().host:t||t).closest("smart-docking-layout"),n=t.closest("smart-splitter-item");e&&n&&(n.collapsible=t.collapsible,n.collapsed=t.collapsed,n.min=t.min,n.max=t.max,n.size=t.size,n.locked=t.locked)}attached(){super.attached();const t=this;t.classList.add("smart-window"),t.shadowRoot&&t.$.root.classList.add("smart-window")}_handleLayoutProperty(){const t=this;let e=t.closest("smart-docking-layout");if(Smart.DockingLayout){if(!t.ownerLayout&&t.getRootNode()){let n=t.getRootNode().host;for(;n;){if(!n.closest)return;if(n.closest("smart-docking-layout")){e=n.closest("smart-docking-layout");break}n=n.getRootNode()?n.getRootNode().host:void 0}}e?t.layout=e:t.layout instanceof Smart.DockingLayout||"string"==typeof t.layout&&(t.layout=document.getElementById(t.layout))}}_headerDblCickHandler(t){const e=this,n=e.shadowRoot||e.isInShadowDOM?t.originalEvent.composedPath()[0]:t.originalEvent.target;t.ctrlKey||n!==e.$.headerSection&&n!==e.$.header||e.$.maximizeButton&&0===e.$.maximizeButton.offsetHeight||(e.maximized?e.restore():e.maximize())}_documentUpHandler(t){const e=this;let n=t.originalEvent.target.closest?t.originalEvent.target.closest(".smart-window"):t.originalEvent.target,a=n===e||n===e._autoHideWindow||e._isAutoHideWindowClicked,i=e.closest("smart-docking-layout");(e.shadowRoot||e.isInShadowDOM)&&(n=t.originalEvent.composedPath()[0],a=n.getRootNode()===e.shadowRoot||n.closest(".smart-window")===e||n.closest(".smart-window")===e._autoHideWindow||e._isAutoHideWindowClicked),i=((e.isInShadowDOM?e.getRootNode().host:e)||e).closest("smart-docking-layout"),i&&i.disabled?delete e._isWindowContentClicked:(super._documentUpHandler(t),delete e._isAutoHideWindowClicked,e.autoHide&&e._autoHideWindow&&(a&&e._autoHideWindow.opened||(e.selectedIndex=null,e._autoHideWindow.parentElement&&e._autoHideWindow.parentElement.closest(".smart-window")===e&&e._autoHideWindow.close())))}_handleAutoHide(t){const e=this;if(!e.autoHide||null===t||(e._autoHideWindow||e._handleAutoHideWindow(!0),!e._autoHideWindow))return;e._autoHideWindow._tabsWindow&&e._autoHideWindow._tabsWindow!==e&&(e._autoHideWindow._tabsWindow.selectedIndex=null);const n=e.$.tabsElement._tabs[t];e._autoHideWindow._tab!==n&&e._moveContent(e._autoHideWindow.items[0],e._autoHideWindow._tab),e._autoHideWindow.label=n.label,e._autoHideWindow.draggable=n.draggable,e._autoHideWindow.floatable=n.floatable,e._autoHideWindow._tab=n,e._autoHideWindow.headerButtons=e.headerButtons,e._moveContent(e._autoHideWindow._tab,e._autoHideWindow.items[0]),e._autoHideWindow.bringToFront(),e._setAutoHideWindowSize(t),e._autoHideWindow.open(),e._autoHideWindow._tabsWindow=e,e._autoHideWindow.controlledBy&&e._autoHideWindow.controlledBy.removeAttribute("aria-controls"),e._autoHideWindow.controlledBy=e.$.tabsElement._tabLabelContainers[t],e._autoHideWindow.controlledBy.setAttribute("aria-controls",e._autoHideWindow.id)}_moveHandler(t){const e=this,n=e.closest("smart-docking-layout");n&&n.items.indexOf(e)>-1||(Smart.Utilities.Core.isMobile&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&e.layout instanceof Smart.DockingLayout&&e.layout.hasAttribute("dragged")&&t.originalEvent.preventDefault(),super._moveHandler(t))}_setAutoHideWindowSize(t){const e=this;if(!e._autoHideWindow)return;e._autoHideWindow.$.addClass("no-transition"),e._autoHideWindow.style.maxWidth=e._autoHideWindow.style.maxHeight="";const n=e.$.tabsElement._tabs[t],a=(e._autoHideWindow.isInShadowDOM?e._autoHideWindow.getRootNode().host:e._autoHideWindow).closest("smart-docking-layout")||e._autoHideWindow.parentElement;let i,r;if(n){if("top"===e.tabPosition||"bottom"===e.tabPosition){e._autoHideWindow.resizeMode="top"===e.tabPosition?"bottom":"top",e._autoHideWindow.style.width=e.$.tabsElement.offsetWidth+"px",i=a.getBoundingClientRect(),r=e.$.tabsElement.getBoundingClientRect();let o=n._autoHideWindowSize&&parseFloat(n._autoHideWindowSize)||"";Smart.DockingLayout&&a instanceof Smart.DockingLayout&&(o&&(o=Math.min(a.$.itemsContainer.offsetHeight,o)+"px"),e._autoHideWindow.style.maxHeight=a.$.itemsContainer.offsetHeight+"px"),e._autoHideWindow.style.height=o,e._autoHideWindow.style.left=r.left-i.left+"px",e._autoHideWindow&&(e._autoHideWindow.style.top="top"===e.tabPosition?r.top+-i.top+r.height+"px":r.top-i.top-e._autoHideWindow.offsetHeight+"px")}else{e._autoHideWindow.resizeMode="left"===e.tabPosition?"right":"left",e._autoHideWindow.style.height=e.$.tabsElement.offsetHeight+"px";let o=n._autoHideWindowSize&&parseFloat(n._autoHideWindowSize)||"";a instanceof Smart.DockingLayout&&(o&&(o=Math.min(a.$.itemsContainer.offsetWidth,o)+"px"),e._autoHideWindow.style.maxWidth=a.$.itemsContainer.offsetWidth+"px"),e._autoHideWindow.style.width=o,i=a.getBoundingClientRect(),r=e.$.tabsElement.getBoundingClientRect(),e._autoHideWindow.style.top=r.top-i.top+"px",e._autoHideWindow.style.left="left"===e.tabPosition?r.left-i.left+e.$.tabsElement.offsetWidth+"px":r.left-i.left-e._autoHideWindow.offsetWidth+"px"}e._autoHideWindow._dragDetails&&(e._autoHideWindow._dragDetails.maxWidth=void 0),e._autoHideWindow._setDragDetails("resize"),e._autoHideWindow._dragDetails.started=!1,e._autoHideWindow.$.removeClass("no-transition")}}_handleAutoHideWindow(t){const e=this;if(e.autoHideWindow){if(e._autoHideWindow&&e._autoHideWindow.parentElement.removeChild(e._autoHideWindow),"string"==typeof e.autoHideWindow)return void(e._autoHideWindow=document.getElementById(e.autoHideWindow));if(e.autoHideWindow instanceof Smart.Window)return void(e._autoHideWindow=e.autoHideWindow)}if(!t||e._autoHideWindow||2===e.$.contentSection.children.length&&e.$.contentSection.children[1]instanceof Smart.Window)return;const n=document.createElement("smart-window");n.$=Smart.Utilities.Extend(n),n.disableSnap=n.pinned=!0,n.headerButtons=["close"],e.$.contentSection.appendChild(n),e._autoHideWindow=n}_moveContent(t,e){if(!t||!e)return;const n=[].slice.call(t.$.content.childNodes);for(let a=0;a<n.length;a++)e.appendChild(n[a])}_tabsChangeHandler(t){const e=this;if(t.target===e.$.tabsElement&&e.autoHide){if(e._autoHideWindow||e._handleAutoHideWindow(!0),null!==t.detail.oldIndex&&e._autoHideWindow.opened&&(e.$.tabsElement._tabs[t.detail.oldIndex]._autoHideWindowSize=e._autoHideWindow.style["right"===e.$.tabsElement.tabPosition||"left"===e.$.tabsElement.tabPosition?"width":"height"]),!e.autoHide||null==t.detail.index)return e._autoHideWindow.setAttribute("active",""),void e._autoHideWindow.close();e._handleAutoHide(t.detail.index)}}_tabsFocusHandler(t){const e=this;"focus"===t.type?(e.bringToFront(),e.setAttribute("focus","")):e.removeAttribute("focus")}}),Smart("smart-wait-window",class extends Smart.ProgressWindow{static get properties(){return{headerButtons:{value:[],type:"array"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},pinned:{value:!0,type:"boolean",readOnly:!0}}}template(){return'<div role="presentation">\n                    <div class="smart-content-container" id="container">\n                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">\n                            <div id="header" class="smart-header">[[label]]</div>\n                            <div id="buttonsContainer" class="smart-buttons-container">\n                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>\n                            </div>\n                        </div>\n                        <div class="smart-content">\n                            <content></content>\n                            <smart-progress-bar id="progressBar" animation="[[animation]]" indeterminate theme="[[theme]]" right-to-left="[[rightToLeft]]"></smart-progress-bar>\n                        </div>\n                        <div id="footer" class="smart-footer"></div>\n                    </div>\n                </div>'}_keyDownHandler(t){const e=this;function n(){e._dragDetails&&(e._dragDetails.started=!1),e.$.removeClass("no-transition")}if(delete e._changingFocus,e.disabled||e._dragDetails&&e._dragDetails.started)return;const a=e.shadowRoot||e._windowParent.element.getRootNode()?e._windowParent.element.getRootNode().activeElement:document.activeElement;t.stopPropagation();const i="ArrowDown"===t.key||"ArrowRight"===t.key?10:-10;switch(e.$.removeClass("no-transition"),t.key){case"ArrowUp":case"ArrowDown":if(a!==e)return;if(t.preventDefault(),t.altKey)return"ArrowUp"===t.key?e.maximize():e.restore(),void n();if(e.$.addClass("no-transition"),t.ctrlKey)return e._resize("bottom",i),void n();e._drag(i,"vertical");break;case"ArrowLeft":case"ArrowRight":if(a!==e)return;if(t.preventDefault(),e.$.addClass("no-transition"),t.ctrlKey)return e._resize("right",i),void n();e._drag(i,"horizontal");break;case"Tab":e.opened&&e.modal&&(e._changingFocus=!0);break;case"Enter":case" ":{let r;if(e.shadowRoot||e.isInShadowDOM?(r=t.composedPath()[0],e._buttonPressed=r.getRootNode().host):(r=t.target.closest&&t.target.closest(".smart-button"),e._buttonPressed=r),!r)return;e._isWindowButton(r),delete e._buttonPressed;break}}n()}})},58730:(t,e,n)=>{"use strict";n.d(e,{ac:()=>U,U$:()=>J});var a=n(15861);n(12841),n(20251),n(10220),n(54658),n(3607),n(9319),n(63715),n(71641),n(69640),n(90744),n(63468),n(27281),n(9065),n(64586),n(79774),n(84782),n(9699);class k extends Smart.Component{get name(){return"smartTable"}}var B=n(94650);window.Smart?window.Smart.RenderMode="manual":window.Smart={RenderMode:"manual"};let O=(()=>{class q{constructor(T){this.onCreate=new B.vpe,this.onReady=new B.vpe,this.onAttach=new B.vpe,this.onDetach=new B.vpe;const z=this;this.nativeElement=T.nativeElement,z.nativeElement.onAttached=()=>{z.onAttach.emit(z.nativeElement)},z.nativeElement.onDetached=()=>{z.onDetach.emit(z.nativeElement)}}addEventListener(T,z,Z=!1){this.nativeElement.addEventListener(T,z,Z)}removeEventListener(T,z,Z=!1){this.nativeElement.removeEventListener(T,z,Z)}dispatchEvent(T){return this.nativeElement.dispatchEvent(T)}blur(){this.nativeElement.blur()}click(){this.nativeElement.click()}focus(T){this.nativeElement.focus(T)}get locale(){return this.nativeElement?this.nativeElement.locale:void 0}set locale(T){this.nativeElement&&(this.nativeElement.locale=T)}get localizeFormatFunction(){return this.nativeElement?this.nativeElement.localizeFormatFunction:void 0}set localizeFormatFunction(T){this.nativeElement&&(this.nativeElement.localizeFormatFunction=T)}get messages(){return this.nativeElement?this.nativeElement.messages:void 0}set messages(T){this.nativeElement&&(this.nativeElement.messages=T)}get rightToLeft(){return this.nativeElement?this.nativeElement.rightToLeft:void 0}set rightToLeft(T){this.nativeElement&&(this.nativeElement.rightToLeft=T)}get theme(){return this.nativeElement?this.nativeElement.theme:void 0}set theme(T){this.nativeElement&&(this.nativeElement.theme=T)}}return q.\u0275fac=function(T){return new(T||q)(B.Y36(B.SBq))},q.\u0275dir=B.lG2({type:q,inputs:{locale:"locale",localizeFormatFunction:"localizeFormatFunction",messages:"messages",rightToLeft:"rightToLeft",theme:"theme"},outputs:{onCreate:"onCreate",onReady:"onReady",onAttach:"onAttach",onDetach:"onDetach"}}),q})();const P=window.Smart;let U=(()=>{class q extends O{constructor(T){super(T),this.eventHandlers=[],this.onCellBeginEdit=new B.vpe,this.onCellClick=new B.vpe,this.onCellEndEdit=new B.vpe,this.onChange=new B.vpe,this.onCollapse=new B.vpe,this.onExpand=new B.vpe,this.onColumnClick=new B.vpe,this.onCloseColumnMenu=new B.vpe,this.onColumnResize=new B.vpe,this.onFilter=new B.vpe,this.onGroup=new B.vpe,this.onOpenColumnMenu=new B.vpe,this.onPage=new B.vpe,this.onRowBeginEdit=new B.vpe,this.onRowEndEdit=new B.vpe,this.onSort=new B.vpe,this.nativeElement=T.nativeElement}createComponent(T={}){this.nativeElement=document.createElement("smart-table");for(let z in T)this.nativeElement[z]=T[z];return this.nativeElement}get autoLoadState(){return this.nativeElement?this.nativeElement.autoLoadState:void 0}set autoLoadState(T){this.nativeElement&&(this.nativeElement.autoLoadState=T)}get autoSaveState(){return this.nativeElement?this.nativeElement.autoSaveState:void 0}set autoSaveState(T){this.nativeElement&&(this.nativeElement.autoSaveState=T)}get columnGroups(){return this.nativeElement?this.nativeElement.columnGroups:void 0}set columnGroups(T){this.nativeElement&&(this.nativeElement.columnGroups=T)}get columnMinWidth(){return this.nativeElement?this.nativeElement.columnMinWidth:void 0}set columnMinWidth(T){this.nativeElement&&(this.nativeElement.columnMinWidth=T)}get columnReorder(){return this.nativeElement?this.nativeElement.columnReorder:void 0}set columnReorder(T){this.nativeElement&&(this.nativeElement.columnReorder=T)}get columnResize(){return this.nativeElement?this.nativeElement.columnResize:void 0}set columnResize(T){this.nativeElement&&(this.nativeElement.columnResize=T)}get columnResizeNormalize(){return this.nativeElement?this.nativeElement.columnResizeNormalize:void 0}set columnResizeNormalize(T){this.nativeElement&&(this.nativeElement.columnResizeNormalize=T)}get columnResizeFeedback(){return this.nativeElement?this.nativeElement.columnResizeFeedback:void 0}set columnResizeFeedback(T){this.nativeElement&&(this.nativeElement.columnResizeFeedback=T)}get columns(){return this.nativeElement?this.nativeElement.columns:void 0}set columns(T){this.nativeElement&&(this.nativeElement.columns=T)}get conditionalFormatting(){return this.nativeElement?this.nativeElement.conditionalFormatting:void 0}set conditionalFormatting(T){this.nativeElement&&(this.nativeElement.conditionalFormatting=T)}get columnMenu(){return this.nativeElement?this.nativeElement.columnMenu:void 0}set columnMenu(T){this.nativeElement&&(this.nativeElement.columnMenu=T)}get columnSizeMode(){return this.nativeElement?this.nativeElement.columnSizeMode:void 0}set columnSizeMode(T){this.nativeElement&&(this.nativeElement.columnSizeMode=T)}get conditionalFormattingButton(){return this.nativeElement?this.nativeElement.conditionalFormattingButton:void 0}set conditionalFormattingButton(T){this.nativeElement&&(this.nativeElement.conditionalFormattingButton=T)}get deferredScrollDelay(){return this.nativeElement?this.nativeElement.deferredScrollDelay:void 0}set deferredScrollDelay(T){this.nativeElement&&(this.nativeElement.deferredScrollDelay=T)}get dataRowId(){return this.nativeElement?this.nativeElement.dataRowId:void 0}set dataRowId(T){this.nativeElement&&(this.nativeElement.dataRowId=T)}get dataSource(){return this.nativeElement?this.nativeElement.dataSource:void 0}set dataSource(T){this.nativeElement&&(this.nativeElement.dataSource=T)}get dataSourceSettings(){return this.nativeElement?this.nativeElement.dataSourceSettings:void 0}set dataSourceSettings(T){this.nativeElement&&(this.nativeElement.dataSourceSettings=T)}get dataTransform(){return this.nativeElement?this.nativeElement.dataTransform:void 0}set dataTransform(T){this.nativeElement&&(this.nativeElement.dataTransform=T)}get disabled(){return this.nativeElement?this.nativeElement.disabled:void 0}set disabled(T){this.nativeElement&&(this.nativeElement.disabled=T)}get editing(){return this.nativeElement?this.nativeElement.editing:void 0}set editing(T){this.nativeElement&&(this.nativeElement.editing=T)}get editMode(){return this.nativeElement?this.nativeElement.editMode:void 0}set editMode(T){this.nativeElement&&(this.nativeElement.editMode=T)}get expandHierarchy(){return this.nativeElement?this.nativeElement.expandHierarchy:void 0}set expandHierarchy(T){this.nativeElement&&(this.nativeElement.expandHierarchy=T)}get filtering(){return this.nativeElement?this.nativeElement.filtering:void 0}set filtering(T){this.nativeElement&&(this.nativeElement.filtering=T)}get filterRow(){return this.nativeElement?this.nativeElement.filterRow:void 0}set filterRow(T){this.nativeElement&&(this.nativeElement.filterRow=T)}get filterOperator(){return this.nativeElement?this.nativeElement.filterOperator:void 0}set filterOperator(T){this.nativeElement&&(this.nativeElement.filterOperator=T)}get filterTemplate(){return this.nativeElement?this.nativeElement.filterTemplate:void 0}set filterTemplate(T){this.nativeElement&&(this.nativeElement.filterTemplate=T)}get footerRow(){return this.nativeElement?this.nativeElement.footerRow:void 0}set footerRow(T){this.nativeElement&&(this.nativeElement.footerRow=T)}get formulas(){return this.nativeElement?this.nativeElement.formulas:void 0}set formulas(T){this.nativeElement&&(this.nativeElement.formulas=T)}get freezeFooter(){return this.nativeElement?this.nativeElement.freezeFooter:void 0}set freezeFooter(T){this.nativeElement&&(this.nativeElement.freezeFooter=T)}get freezeHeader(){return this.nativeElement?this.nativeElement.freezeHeader:void 0}set freezeHeader(T){this.nativeElement&&(this.nativeElement.freezeHeader=T)}get grouping(){return this.nativeElement?this.nativeElement.grouping:void 0}set grouping(T){this.nativeElement&&(this.nativeElement.grouping=T)}get groupFormatFunction(){return this.nativeElement?this.nativeElement.groupFormatFunction:void 0}set groupFormatFunction(T){this.nativeElement&&(this.nativeElement.groupFormatFunction=T)}get headerRow(){return this.nativeElement?this.nativeElement.headerRow:void 0}set headerRow(T){this.nativeElement&&(this.nativeElement.headerRow=T)}get keyboardNavigation(){return this.nativeElement?this.nativeElement.keyboardNavigation:void 0}set keyboardNavigation(T){this.nativeElement&&(this.nativeElement.keyboardNavigation=T)}get hideSelectionColumn(){return this.nativeElement?this.nativeElement.hideSelectionColumn:void 0}set hideSelectionColumn(T){this.nativeElement&&(this.nativeElement.hideSelectionColumn=T)}get loadColumnStateBehavior(){return this.nativeElement?this.nativeElement.loadColumnStateBehavior:void 0}set loadColumnStateBehavior(T){this.nativeElement&&(this.nativeElement.loadColumnStateBehavior=T)}get locale(){return this.nativeElement?this.nativeElement.locale:void 0}set locale(T){this.nativeElement&&(this.nativeElement.locale=T)}get messages(){return this.nativeElement?this.nativeElement.messages:void 0}set messages(T){this.nativeElement&&(this.nativeElement.messages=T)}get onCellRender(){return this.nativeElement?this.nativeElement.onCellRender:void 0}set onCellRender(T){this.nativeElement&&(this.nativeElement.onCellRender=T)}get onColumnRender(){return this.nativeElement?this.nativeElement.onColumnRender:void 0}set onColumnRender(T){this.nativeElement&&(this.nativeElement.onColumnRender=T)}get onInit(){return this.nativeElement?this.nativeElement.onInit:void 0}set onInit(T){this.nativeElement&&(this.nativeElement.onInit=T)}get onLoad(){return this.nativeElement?this.nativeElement.onLoad:void 0}set onLoad(T){this.nativeElement&&(this.nativeElement.onLoad=T)}get onUpdateComplete(){return this.nativeElement?this.nativeElement.onUpdateComplete:void 0}set onUpdateComplete(T){this.nativeElement&&(this.nativeElement.onUpdateComplete=T)}get pageSize(){return this.nativeElement?this.nativeElement.pageSize:void 0}set pageSize(T){this.nativeElement&&(this.nativeElement.pageSize=T)}get pageIndex(){return this.nativeElement?this.nativeElement.pageIndex:void 0}set pageIndex(T){this.nativeElement&&(this.nativeElement.pageIndex=T)}get paging(){return this.nativeElement?this.nativeElement.paging:void 0}set paging(T){this.nativeElement&&(this.nativeElement.paging=T)}get rightToLeft(){return this.nativeElement?this.nativeElement.rightToLeft:void 0}set rightToLeft(T){this.nativeElement&&(this.nativeElement.rightToLeft=T)}get rowDetailTemplate(){return this.nativeElement?this.nativeElement.rowDetailTemplate:void 0}set rowDetailTemplate(T){this.nativeElement&&(this.nativeElement.rowDetailTemplate=T)}get selected(){return this.nativeElement?this.nativeElement.selected:void 0}set selected(T){this.nativeElement&&(this.nativeElement.selected=T)}get selection(){return this.nativeElement?this.nativeElement.selection:void 0}set selection(T){this.nativeElement&&(this.nativeElement.selection=T)}get selectionMode(){return this.nativeElement?this.nativeElement.selectionMode:void 0}set selectionMode(T){this.nativeElement&&(this.nativeElement.selectionMode=T)}get selectionByHierarchy(){return this.nativeElement?this.nativeElement.selectionByHierarchy:void 0}set selectionByHierarchy(T){this.nativeElement&&(this.nativeElement.selectionByHierarchy=T)}get sort(){return this.nativeElement?this.nativeElement.sort:void 0}set sort(T){this.nativeElement&&(this.nativeElement.sort=T)}get sortMode(){return this.nativeElement?this.nativeElement.sortMode:void 0}set sortMode(T){this.nativeElement&&(this.nativeElement.sortMode=T)}get stateSettings(){return this.nativeElement?this.nativeElement.stateSettings:void 0}set stateSettings(T){this.nativeElement&&(this.nativeElement.stateSettings=T)}get theme(){return this.nativeElement?this.nativeElement.theme:void 0}set theme(T){this.nativeElement&&(this.nativeElement.theme=T)}get tooltip(){return this.nativeElement?this.nativeElement.tooltip:void 0}set tooltip(T){this.nativeElement&&(this.nativeElement.tooltip=T)}get virtualization(){return this.nativeElement?this.nativeElement.virtualization:void 0}set virtualization(T){this.nativeElement&&(this.nativeElement.virtualization=T)}addRow(T){this.nativeElement.isRendered?this.nativeElement.addRow(T):this.nativeElement.whenRendered(()=>{this.nativeElement.addRow(T)})}addFilter(T,z){this.nativeElement.isRendered?this.nativeElement.addFilter(T,z):this.nativeElement.whenRendered(()=>{this.nativeElement.addFilter(T,z)})}addGroup(T){this.nativeElement.isRendered?this.nativeElement.addGroup(T):this.nativeElement.whenRendered(()=>{this.nativeElement.addGroup(T)})}beginEdit(T,z){this.nativeElement.isRendered?this.nativeElement.beginEdit(T,z):this.nativeElement.whenRendered(()=>{this.nativeElement.beginEdit(T,z)})}beginUpdate(){this.nativeElement.isRendered?this.nativeElement.beginUpdate():this.nativeElement.whenRendered(()=>{this.nativeElement.beginUpdate()})}cancelEdit(){this.nativeElement.isRendered?this.nativeElement.cancelEdit():this.nativeElement.whenRendered(()=>{this.nativeElement.cancelEdit()})}clearFilters(){this.nativeElement.isRendered?this.nativeElement.clearFilters():this.nativeElement.whenRendered(()=>{this.nativeElement.clearFilters()})}clearGrouping(){this.nativeElement.isRendered?this.nativeElement.clearGrouping():this.nativeElement.whenRendered(()=>{this.nativeElement.clearGrouping()})}clearSelection(){this.nativeElement.isRendered?this.nativeElement.clearSelection():this.nativeElement.whenRendered(()=>{this.nativeElement.clearSelection()})}clearSort(){this.nativeElement.isRendered?this.nativeElement.clearSort():this.nativeElement.whenRendered(()=>{this.nativeElement.clearSort()})}collapseAllRows(){this.nativeElement.isRendered?this.nativeElement.collapseAllRows():this.nativeElement.whenRendered(()=>{this.nativeElement.collapseAllRows()})}collapseAllGroups(){this.nativeElement.isRendered?this.nativeElement.collapseAllGroups():this.nativeElement.whenRendered(()=>{this.nativeElement.collapseAllGroups()})}collapseAllRowDetails(){this.nativeElement.isRendered?this.nativeElement.collapseAllRowDetails():this.nativeElement.whenRendered(()=>{this.nativeElement.collapseAllRowDetails()})}collapseGroup(T){this.nativeElement.isRendered?this.nativeElement.collapseGroup(T):this.nativeElement.whenRendered(()=>{this.nativeElement.collapseGroup(T)})}collapseRow(T){this.nativeElement.isRendered?this.nativeElement.collapseRow(T):this.nativeElement.whenRendered(()=>{this.nativeElement.collapseRow(T)})}disableSelect(T){this.nativeElement.isRendered?this.nativeElement.disableSelect(T):this.nativeElement.whenRendered(()=>{this.nativeElement.disableSelect(T)})}enableSelect(T){this.nativeElement.isRendered?this.nativeElement.enableSelect(T):this.nativeElement.whenRendered(()=>{this.nativeElement.enableSelect(T)})}endEdit(){this.nativeElement.isRendered?this.nativeElement.endEdit():this.nativeElement.whenRendered(()=>{this.nativeElement.endEdit()})}endUpdate(T){this.nativeElement.isRendered?this.nativeElement.endUpdate(T):this.nativeElement.whenRendered(()=>{this.nativeElement.endUpdate(T)})}expandAllRows(){this.nativeElement.isRendered?this.nativeElement.expandAllRows():this.nativeElement.whenRendered(()=>{this.nativeElement.expandAllRows()})}expandAllGroups(){this.nativeElement.isRendered?this.nativeElement.expandAllGroups():this.nativeElement.whenRendered(()=>{this.nativeElement.expandAllGroups()})}expandAllRowDetails(){this.nativeElement.isRendered?this.nativeElement.expandAllRowDetails():this.nativeElement.whenRendered(()=>{this.nativeElement.expandAllRowDetails()})}expandGroup(T){this.nativeElement.isRendered?this.nativeElement.expandGroup(T):this.nativeElement.whenRendered(()=>{this.nativeElement.expandGroup(T)})}expandRow(T){this.nativeElement.isRendered?this.nativeElement.expandRow(T):this.nativeElement.whenRendered(()=>{this.nativeElement.expandRow(T)})}exportData(T,z,Z,v){var l=this;return(0,a.Z)(function*(){return yield new Promise(g=>{l.nativeElement.whenRendered(()=>{const b=l.nativeElement.exportData(T,z,Z,v);g(b)})})})()}getSelection(){var T=this;return(0,a.Z)(function*(){return yield new Promise(v=>{T.nativeElement.whenRendered(()=>{const l=T.nativeElement.getSelection();v(l)})})})()}getState(){var T=this;return(0,a.Z)(function*(){return yield new Promise(v=>{T.nativeElement.whenRendered(()=>{const l=T.nativeElement.getState();v(l)})})})()}getValue(T,z){var Z=this;return(0,a.Z)(function*(){return yield new Promise(p=>{Z.nativeElement.whenRendered(()=>{const f=Z.nativeElement.getValue(T,z);p(f)})})})()}getColumnProperty(T,z){var Z=this;return(0,a.Z)(function*(){return yield new Promise(p=>{Z.nativeElement.whenRendered(()=>{const f=Z.nativeElement.getColumnProperty(T,z);p(f)})})})()}isGroupExpanded(T){var z=this;return(0,a.Z)(function*(){return yield new Promise(l=>{z.nativeElement.whenRendered(()=>{const p=z.nativeElement.isGroupExpanded(T);l(p)})})})()}loadState(T){this.nativeElement.isRendered?this.nativeElement.loadState(T):this.nativeElement.whenRendered(()=>{this.nativeElement.loadState(T)})}navigateTo(T){this.nativeElement.isRendered?this.nativeElement.navigateTo(T):this.nativeElement.whenRendered(()=>{this.nativeElement.navigateTo(T)})}refresh(){this.nativeElement.isRendered?this.nativeElement.refresh():this.nativeElement.whenRendered(()=>{this.nativeElement.refresh()})}removeFilter(T){this.nativeElement.isRendered?this.nativeElement.removeFilter(T):this.nativeElement.whenRendered(()=>{this.nativeElement.removeFilter(T)})}removeGroup(T){this.nativeElement.isRendered?this.nativeElement.removeGroup(T):this.nativeElement.whenRendered(()=>{this.nativeElement.removeGroup(T)})}removeRow(T){this.nativeElement.isRendered?this.nativeElement.removeRow(T):this.nativeElement.whenRendered(()=>{this.nativeElement.removeRow(T)})}resetState(){this.nativeElement.isRendered?this.nativeElement.resetState():this.nativeElement.whenRendered(()=>{this.nativeElement.resetState()})}saveState(){var T=this;return(0,a.Z)(function*(){return yield new Promise(v=>{T.nativeElement.whenRendered(()=>{const l=T.nativeElement.saveState();v(l)})})})()}select(T){this.nativeElement.isRendered?this.nativeElement.select(T):this.nativeElement.whenRendered(()=>{this.nativeElement.select(T)})}setValue(T,z,Z){this.nativeElement.isRendered?this.nativeElement.setValue(T,z,Z):this.nativeElement.whenRendered(()=>{this.nativeElement.setValue(T,z,Z)})}sortBy(T,z){this.nativeElement.isRendered?this.nativeElement.sortBy(T,z):this.nativeElement.whenRendered(()=>{this.nativeElement.sortBy(T,z)})}setColumnProperty(T,z,Z){this.nativeElement.isRendered?this.nativeElement.setColumnProperty(T,z,Z):this.nativeElement.whenRendered(()=>{this.nativeElement.setColumnProperty(T,z,Z)})}updateRow(T,z){this.nativeElement.isRendered?this.nativeElement.updateRow(T,z):this.nativeElement.whenRendered(()=>{this.nativeElement.updateRow(T,z)})}unselect(T){this.nativeElement.isRendered?this.nativeElement.unselect(T):this.nativeElement.whenRendered(()=>{this.nativeElement.unselect(T)})}get isRendered(){return!!this.nativeElement&&this.nativeElement.isRendered}ngOnInit(){}ngAfterViewInit(){const T=this;T.onCreate.emit(T.nativeElement),P.Render(),this.nativeElement.classList.add("smart-angular"),this.nativeElement.whenRendered(()=>{T.onReady.emit(T.nativeElement)}),this.listen()}ngOnDestroy(){this.unlisten()}ngOnChanges(T){if(this.nativeElement&&this.nativeElement.isRendered)for(const z in T)T.hasOwnProperty(z)&&(this.nativeElement[z]=T[z].currentValue)}listen(){const T=this;T.eventHandlers.cellBeginEditHandler=z=>{T.onCellBeginEdit.emit(z)},T.nativeElement.addEventListener("cellBeginEdit",T.eventHandlers.cellBeginEditHandler),T.eventHandlers.cellClickHandler=z=>{T.onCellClick.emit(z)},T.nativeElement.addEventListener("cellClick",T.eventHandlers.cellClickHandler),T.eventHandlers.cellEndEditHandler=z=>{T.onCellEndEdit.emit(z)},T.nativeElement.addEventListener("cellEndEdit",T.eventHandlers.cellEndEditHandler),T.eventHandlers.changeHandler=z=>{T.onChange.emit(z)},T.nativeElement.addEventListener("change",T.eventHandlers.changeHandler),T.eventHandlers.collapseHandler=z=>{T.onCollapse.emit(z)},T.nativeElement.addEventListener("collapse",T.eventHandlers.collapseHandler),T.eventHandlers.expandHandler=z=>{T.onExpand.emit(z)},T.nativeElement.addEventListener("expand",T.eventHandlers.expandHandler),T.eventHandlers.columnClickHandler=z=>{T.onColumnClick.emit(z)},T.nativeElement.addEventListener("columnClick",T.eventHandlers.columnClickHandler),T.eventHandlers.closeColumnMenuHandler=z=>{T.onCloseColumnMenu.emit(z)},T.nativeElement.addEventListener("closeColumnMenu",T.eventHandlers.closeColumnMenuHandler),T.eventHandlers.columnResizeHandler=z=>{T.onColumnResize.emit(z)},T.nativeElement.addEventListener("columnResize",T.eventHandlers.columnResizeHandler),T.eventHandlers.filterHandler=z=>{T.onFilter.emit(z)},T.nativeElement.addEventListener("filter",T.eventHandlers.filterHandler),T.eventHandlers.groupHandler=z=>{T.onGroup.emit(z)},T.nativeElement.addEventListener("group",T.eventHandlers.groupHandler),T.eventHandlers.openColumnMenuHandler=z=>{T.onOpenColumnMenu.emit(z)},T.nativeElement.addEventListener("openColumnMenu",T.eventHandlers.openColumnMenuHandler),T.eventHandlers.pageHandler=z=>{T.onPage.emit(z)},T.nativeElement.addEventListener("page",T.eventHandlers.pageHandler),T.eventHandlers.rowBeginEditHandler=z=>{T.onRowBeginEdit.emit(z)},T.nativeElement.addEventListener("rowBeginEdit",T.eventHandlers.rowBeginEditHandler),T.eventHandlers.rowEndEditHandler=z=>{T.onRowEndEdit.emit(z)},T.nativeElement.addEventListener("rowEndEdit",T.eventHandlers.rowEndEditHandler),T.eventHandlers.sortHandler=z=>{T.onSort.emit(z)},T.nativeElement.addEventListener("sort",T.eventHandlers.sortHandler)}unlisten(){const T=this;T.eventHandlers.cellBeginEditHandler&&T.nativeElement.removeEventListener("cellBeginEdit",T.eventHandlers.cellBeginEditHandler),T.eventHandlers.cellClickHandler&&T.nativeElement.removeEventListener("cellClick",T.eventHandlers.cellClickHandler),T.eventHandlers.cellEndEditHandler&&T.nativeElement.removeEventListener("cellEndEdit",T.eventHandlers.cellEndEditHandler),T.eventHandlers.changeHandler&&T.nativeElement.removeEventListener("change",T.eventHandlers.changeHandler),T.eventHandlers.collapseHandler&&T.nativeElement.removeEventListener("collapse",T.eventHandlers.collapseHandler),T.eventHandlers.expandHandler&&T.nativeElement.removeEventListener("expand",T.eventHandlers.expandHandler),T.eventHandlers.columnClickHandler&&T.nativeElement.removeEventListener("columnClick",T.eventHandlers.columnClickHandler),T.eventHandlers.closeColumnMenuHandler&&T.nativeElement.removeEventListener("closeColumnMenu",T.eventHandlers.closeColumnMenuHandler),T.eventHandlers.columnResizeHandler&&T.nativeElement.removeEventListener("columnResize",T.eventHandlers.columnResizeHandler),T.eventHandlers.filterHandler&&(T.nativeElement.onfilterHandler=null),T.eventHandlers.groupHandler&&T.nativeElement.removeEventListener("group",T.eventHandlers.groupHandler),T.eventHandlers.openColumnMenuHandler&&T.nativeElement.removeEventListener("openColumnMenu",T.eventHandlers.openColumnMenuHandler),T.eventHandlers.pageHandler&&T.nativeElement.removeEventListener("page",T.eventHandlers.pageHandler),T.eventHandlers.rowBeginEditHandler&&T.nativeElement.removeEventListener("rowBeginEdit",T.eventHandlers.rowBeginEditHandler),T.eventHandlers.rowEndEditHandler&&T.nativeElement.removeEventListener("rowEndEdit",T.eventHandlers.rowEndEditHandler),T.eventHandlers.sortHandler&&T.nativeElement.removeEventListener("sort",T.eventHandlers.sortHandler)}}return q.\u0275fac=function(T){return new(T||q)(B.Y36(B.SBq))},q.\u0275dir=B.lG2({type:q,selectors:[["smart-table"],["","smart-table",""]],inputs:{autoLoadState:"autoLoadState",autoSaveState:"autoSaveState",columnGroups:"columnGroups",columnMinWidth:"columnMinWidth",columnReorder:"columnReorder",columnResize:"columnResize",columnResizeNormalize:"columnResizeNormalize",columnResizeFeedback:"columnResizeFeedback",columns:"columns",conditionalFormatting:"conditionalFormatting",columnMenu:"columnMenu",columnSizeMode:"columnSizeMode",conditionalFormattingButton:"conditionalFormattingButton",deferredScrollDelay:"deferredScrollDelay",dataRowId:"dataRowId",dataSource:"dataSource",dataSourceSettings:"dataSourceSettings",dataTransform:"dataTransform",disabled:"disabled",editing:"editing",editMode:"editMode",expandHierarchy:"expandHierarchy",filtering:"filtering",filterRow:"filterRow",filterOperator:"filterOperator",filterTemplate:"filterTemplate",footerRow:"footerRow",formulas:"formulas",freezeFooter:"freezeFooter",freezeHeader:"freezeHeader",grouping:"grouping",groupFormatFunction:"groupFormatFunction",headerRow:"headerRow",keyboardNavigation:"keyboardNavigation",hideSelectionColumn:"hideSelectionColumn",loadColumnStateBehavior:"loadColumnStateBehavior",locale:"locale",messages:"messages",onCellRender:"onCellRender",onColumnRender:"onColumnRender",onInit:"onInit",onLoad:"onLoad",onUpdateComplete:"onUpdateComplete",pageSize:"pageSize",pageIndex:"pageIndex",paging:"paging",rightToLeft:"rightToLeft",rowDetailTemplate:"rowDetailTemplate",selected:"selected",selection:"selection",selectionMode:"selectionMode",selectionByHierarchy:"selectionByHierarchy",sort:"sort",sortMode:"sortMode",stateSettings:"stateSettings",theme:"theme",tooltip:"tooltip",virtualization:"virtualization"},outputs:{onCellBeginEdit:"onCellBeginEdit",onCellClick:"onCellClick",onCellEndEdit:"onCellEndEdit",onChange:"onChange",onCollapse:"onCollapse",onExpand:"onExpand",onColumnClick:"onColumnClick",onCloseColumnMenu:"onCloseColumnMenu",onColumnResize:"onColumnResize",onFilter:"onFilter",onGroup:"onGroup",onOpenColumnMenu:"onOpenColumnMenu",onPage:"onPage",onRowBeginEdit:"onRowBeginEdit",onRowEndEdit:"onRowEndEdit",onSort:"onSort"},exportAs:["smart-table"],features:[B.qOj,B.TTD]}),q})(),J=(()=>{class q{}return q.\u0275fac=function(T){return new(T||q)},q.\u0275mod=B.oAB({type:q}),q.\u0275inj=B.cJS({}),q})()}}]);