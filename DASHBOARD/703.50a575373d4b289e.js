"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[703],{36703:(Q,m,o)=>{o.r(m),o.d(m,{SubcontractModule:()=>H});var c=o(36895),l=o(24006),d=o(85892),f=o(15439),D=o(35226),x=o.n(D),e=o(94650),M=o(92340),C=o(70262),v=o(80529);let A=(()=>{class i{constructor(t){this.http=t,this.url=M.N.base_url}findAll(t){return this.http.post(this.url+"/supplierwiseboringrecoverydetails/supplierwiseboringrecoverydetailsData",t).pipe((0,C.K)(this.handleError))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(v.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var T=o(10275),p=o(29219),g=o(90702);const b=["FROM"];function y(i,r){1&i&&(e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Select Branch "),e.TgZ(3,"sub",12),e._uU(4,"* "),e.qZA()()())}function B(i,r){if(1&i&&(e.TgZ(0,"ng-option",24),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.NAME,"")}}function N(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",20)(2,"span",14)(3,"ng-select",21,22),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectedBrach=n)})("focus",function(){e.CHM(t);const n=e.MAs(4),a=e.oxw(2);return e.KtG(a.onFocus(n))}),e.YNc(5,B,2,2,"ng-option",23),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.selectedBrach)("selectOnTab",!0)("required",t.BRANCH),e.xp6(2),e.Q6J("ngForOf",t.branch)}}function R(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1," This field is required "),e.qZA())}function Z(i,r){if(1&i&&(e.TgZ(0,"div",25),e.YNc(1,R,2,0,"div",26),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.angForm.controls.FROM.errors?null:t.angForm.controls.FROM.errors.required)}}const S=function(){return{dateInputFormat:"DD/MM/YYYY"}},_=function(i){return{"fa-spin fa-spinner":i}};function O(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"h5"),e._uU(3,"Supplierwise Boring Recovery Details"),e.qZA()(),e.TgZ(4,"form",7)(5,"div",8)(6,"div",9),e.YNc(7,y,5,0,"div",10),e.YNc(8,N,6,4,"div",10),e.TgZ(9,"div",11)(10,"label"),e._uU(11,"Select Dates "),e.TgZ(12,"sub",12),e._uU(13,"* "),e.qZA()()(),e.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"input",15),e.NdJ("focus",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFocus(n.FROM))})("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedDate=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updatePreviousDate())})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.upmonth())}),e.qZA()()(),e.YNc(18,Z,2,1,"div",16),e.qZA(),e.TgZ(19,"div",17)(20,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadData())}),e._uU(21,"Go "),e._UZ(22,"i",19),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.angForm),e.xp6(3),e.Q6J("ngIf",t.showBranch),e.xp6(1),e.Q6J("ngIf",t.showBranch),e.xp6(9),e.Q6J("bsConfig",e.DdM(9,S))("ngModel",t.selectedDate)("maxDate",t.maxDate),e.xp6(1),e.Q6J("ngIf",t.angForm.controls.FROM.invalid&&(t.angForm.controls.FROM.dirty||t.angForm.controls.FROM.touched)),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("ngClass",e.VKq(10,_,t.isLoading))}}function F(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",33),e._uU(2),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.qZA(),e.TgZ(5,"td",33),e._uU(6),e.qZA(),e.TgZ(7,"td",33),e._uU(8),e.qZA(),e.TgZ(9,"td",33),e._uU(10),e.qZA(),e.TgZ(11,"td",33),e._uU(12),e.qZA(),e.TgZ(13,"td",33),e._uU(14),e.qZA(),e.TgZ(15,"td",33),e._uU(16),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(null==t?null:t.SR_NO),e.xp6(2),e.Oqu(null==t?null:t.SUBGL_LONGNAME),e.xp6(2),e.hij(" ",null==t?null:t.BORING_BAL,""),e.xp6(2),e.Oqu(null==t?null:t.EXPECTED_BORING),e.xp6(2),e.Oqu(null==t?null:t.TOTAL_BORING),e.xp6(2),e.Oqu(null==t?null:t.ACTUAL_RCPT),e.xp6(2),e.Oqu(null==t?null:t.NET_BAL),e.xp6(2),e.Oqu(null==t?null:t.CONTACT_PHONENO)}}function Y(i,r){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,F,17,8,"tr",35),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.Tabledata)}}function E(i,r){if(1&i&&(e.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"div",30)(4,"div",5)(5,"div",8)(6,"table",31)(7,"thead",32)(8,"tr")(9,"th",33),e._uU(10,"SN"),e.qZA(),e.TgZ(11,"th",34),e._uU(12,"Party Name"),e.qZA(),e.TgZ(13,"th",33),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"th",33),e._uU(17),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"th",33),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"th",33),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"th",33),e._uU(26,"Balance"),e.qZA(),e.TgZ(27,"th",34),e._uU(28,"Supplier PHONE NO"),e.qZA()()(),e.YNc(29,Y,2,1,"tbody",26),e.qZA()()()()()()()),2&i){const t=e.oxw();e.xp6(14),e.hij("Balance Boring of ",e.xi3(15,5,t.previousMonthDate,"MMM yyyy"),""),e.xp6(3),e.hij("Boring Genretion as per GRN ",e.xi3(18,8,t.selectedDate,"dd.MM.YYYY"),""),e.xp6(3),e.hij("Total collection plan as per GRN ",e.xi3(21,11,t.previousDate,"dd.MM.YYYY"),""),e.xp6(3),e.hij("Actual Collection ",e.xi3(24,14,t.selectedDate,"MMM yyyy"),""),e.xp6(6),e.Q6J("ngIf",0!=t.Tabledata.length)}}const L=function(i){return{"d-flex justify-content-center":i}},U=[{path:"supplierwiseboringrecoverydetails",component:(()=>{class i{onBranchNameFocus(){console.log("Branch Name Input Focused")}onFROMFocus(){console.log("From  Input Focused")}constructor(t,s,n,a,u){this._SupplierWiseBoringService=t,this._AppComponentService=s,this.fb=n,this.http=a,this.router=u,this.dataSource=[],this.freezeHeader=!0,this.branch=[],this.Tabledata=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.fromdate=null,this.selectedDate=new Date,this.upmonth();let h=new Date;this.minDate=new Date,this.maxDate=new Date(h.getFullYear(),h.getMonth(),1),this.minDatet=new Date,this.minDate.setDate(this.minDate.getDate()),this.maxDate.setDate(this.maxDate.getDate()),this.minDatet.setDate(this.maxDate.getDate()+1),this.fromdate=this.maxDate}ngAfterViewInit(){document.querySelector("smart-table"),this.FROM&&this.FROM.focus()}init(){throw new Error("Method not implemented.")}onFocus(t){t.open()}onValueChange(t){this.maxDatet=new Date,this.maxDatet.setDate(this.maxDatet.getDate())}createForm(){this.angForm=this.fb.group({FROM:["",[l.kI.required]],BRANCH_NAME:[""]})}ngOnInit(){this.createForm(),this.isLoading1=!0;let t=localStorage.getItem("user"),n={CODE:JSON.parse(t).COMPANY_ID};this._AppComponentService.branchList(n).subscribe(a=>{a.List.length>1?(this.BRANCH=!0,this.showBranch=!0,a.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=a.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=a.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)})}refreshComponent(){this.router.navigate([this.router.url])}loadData(){this.isLoading=!0,this.Tabledata=[];let t=localStorage.getItem("user"),s=JSON.parse(t),a={FROM:f(this.fromdate,"YYYY-MM-DD").format("YYYYMMDD"),BRANCH_NAME:this.selectedBrach,CODE:s.COMPANY_ID};this.angForm.valid?this._SupplierWiseBoringService.findAll(a).subscribe(u=>{this.showtable=!0,this.Tabledata=u.List,this.isLoading=!1}):(this.isLoading=!1,x().fire("Warning","Please fill All Details Properly","info"))}updatePreviousDate(){this.selectedDate?(this.previousDate=new Date(this.selectedDate),this.previousDate.setDate(this.selectedDate.getDate()-1)):this.previousDate=null}upmonth(){if(this.selectedDate){const t=f(this.selectedDate);this.previousMonthDate=t.subtract(1,"months").format("YYYY-MM-DD")}else this.previousMonthDate=null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A),e.Y36(T._),e.Y36(l.qu),e.Y36(v.eN),e.Y36(d.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-supplier-wise-boring-recovery-details"]],viewQuery:function(t,s){if(1&t&&e.Gf(b,5),2&t){let n;e.iGM(n=e.CRH())&&(s.FROM=n.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","input-group"],[1,"border-lable-flt"],["type","text","placeholder","dd/mm/yyyy","name","fdate","id","fdate","bsDatepicker","","formControlName","FROM","required","",1,"form-control",2,"max-width","100px",3,"bsConfig","ngModel","maxDate","focus","ngModelChange"],["class","form-group form-primary form-static-label","class","alert alert-danger",4,"ngIf"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"form-group","form-primary","form-static-label"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],[1,"td_right"],[1,"td_left"],[4,"ngFor","ngForOf"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"i",1)(2,"i",2),e.qZA(),e.YNc(3,O,23,12,"div",3),e.YNc(4,E,30,17,"div",4)),2&t&&(e.xp6(1),e.Q6J("ngClass",e.VKq(4,L,s.isLoading1)),e.xp6(1),e.Q6J("ngClass",e.VKq(6,_,s.isLoading1)),e.xp6(1),e.Q6J("ngIf",!s.isLoading1),e.xp6(1),e.Q6J("ngIf",s.showtable))},dependencies:[c.mk,c.sg,c.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,p.Np,p.Y5,g.w9,g.jq,c.uU]}),i})()}];let w=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(U),d.Bz]}),i})();var I=o(6205),q=o(53185),W=o(66055),J=o(19668),G=o(58730);let H=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.ez,w,l.UX,c.ez,J.v,I.X,q.m9,W.EW,G.U$,p.kn.forRoot(),g.A0,p.kn,l.UX]}),i})()}}]);