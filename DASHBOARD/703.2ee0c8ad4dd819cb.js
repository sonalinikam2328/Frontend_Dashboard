"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[703],{36703:(H,m,s)=>{s.r(m),s.d(m,{SubcontractModule:()=>G});var u=s(36895),l=s(24006),d=s(85892),f=s(15439),D=s(35226),x=s.n(D),e=s(94650),C=s(92340),M=s(70262),v=s(80529);let A=(()=>{class n{constructor(t){this.http=t,this.url=C.N.base_url}findAll(t){return this.http.post(this.url+"/supplierwiseboringrecoverydetails/supplierwiseboringrecoverydetailsData",t).pipe((0,M.K)(this.handleError))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var y=s(10275),p=s(29219),g=s(90702);const T=["FROM"];function b(n,a){1&n&&(e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Select Branch "),e.TgZ(3,"sub",12),e._uU(4,"* "),e.qZA()()())}function B(n,a){if(1&n&&(e.TgZ(0,"ng-option",24),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.NAME,"")}}function S(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",20)(2,"span",14)(3,"ng-select",21,22),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedBrach=i)})("focus",function(){e.CHM(t);const i=e.MAs(4),r=e.oxw(2);return e.KtG(r.onFocus(i))}),e.YNc(5,B,2,2,"ng-option",23),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.selectedBrach)("selectOnTab",!0)("required",t.BRANCH),e.xp6(2),e.Q6J("ngForOf",t.branch)}}function Z(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," This field is required "),e.qZA())}function N(n,a){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,Z,2,0,"div",26),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.angForm.controls.FROM.errors?null:t.angForm.controls.FROM.errors.required)}}const R=function(){return{dateInputFormat:"DD/MM/YYYY"}},_=function(n){return{"fa-spin fa-spinner":n}};function O(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"h5"),e._uU(3,"Supplierwise Boring Recovery Details"),e.qZA()(),e.TgZ(4,"form",7)(5,"div",8)(6,"div",9),e.YNc(7,b,5,0,"div",10),e.YNc(8,S,6,4,"div",10),e.TgZ(9,"div",11)(10,"label"),e._uU(11,"Select Dates "),e.TgZ(12,"sub",12),e._uU(13,"* "),e.qZA()()(),e.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"input",15),e.NdJ("focus",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onFocus(i.FROM))})("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedDate=i)})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updatePreviousDate())})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.upmonth())}),e.qZA()()(),e.YNc(18,N,2,1,"div",16),e.qZA(),e.TgZ(19,"div",17)(20,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.loadData())}),e._uU(21,"Go "),e._UZ(22,"i",19),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.angForm),e.xp6(3),e.Q6J("ngIf",t.showBranch),e.xp6(1),e.Q6J("ngIf",t.showBranch),e.xp6(9),e.Q6J("bsConfig",e.DdM(9,R))("ngModel",t.selectedDate)("maxDate",t.maxDate),e.xp6(1),e.Q6J("ngIf",t.angForm.controls.FROM.invalid&&(t.angForm.controls.FROM.dirty||t.angForm.controls.FROM.touched)),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("ngClass",e.VKq(10,_,t.isLoading))}}function F(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",36),e._uU(2),e.qZA(),e.TgZ(3,"td",37),e._uU(4),e.qZA(),e.TgZ(5,"td",36),e._uU(6),e.qZA(),e.TgZ(7,"td",36),e._uU(8),e.qZA(),e.TgZ(9,"td",36),e._uU(10),e.qZA(),e.TgZ(11,"td",36),e._uU(12),e.qZA(),e.TgZ(13,"td",36),e._uU(14),e.qZA(),e.TgZ(15,"td",36),e._uU(16),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(null==t?null:t.SR_NO),e.xp6(2),e.Oqu(null==t?null:t.SUBGL_LONGNAME),e.xp6(2),e.hij(" ",null==t?null:t.BORING_BAL,""),e.xp6(2),e.Oqu(null==t?null:t.EXPECTED_BORING),e.xp6(2),e.Oqu(null==t?null:t.TOTAL_BORING),e.xp6(2),e.Oqu(null==t?null:t.ACTUAL_RCPT),e.xp6(2),e.Oqu(null==t?null:t.NET_BAL),e.xp6(2),e.Oqu(null==t?null:t.CONTACT_PHONENO)}}function Y(n,a){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,F,17,8,"tr",38),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.Tabledata)}}function w(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"div",30)(4,"div",5)(5,"div",8)(6,"table",31)(7,"thead",32),e._UZ(8,"tr"),e.TgZ(9,"th",33)(10,"div",34)(11,"input",35),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.searchQuery=i)})("input",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData())}),e.qZA()()(),e.TgZ(12,"tr")(13,"th",36),e._uU(14,"SN"),e.qZA(),e.TgZ(15,"th",37),e._uU(16,"Party Name"),e.qZA(),e.TgZ(17,"th",36),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"th",36),e._uU(21),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"th",36),e._uU(24),e.ALo(25,"date"),e.qZA(),e.TgZ(26,"th",36),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"th",36),e._uU(30,"Balance"),e.qZA(),e.TgZ(31,"th",37),e._uU(32,"Supplier PHONE NO"),e.qZA()()(),e.YNc(33,Y,2,1,"tbody",26),e.qZA()()()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngModel",t.searchQuery),e.xp6(7),e.hij("Balance Boring of ",e.xi3(19,6,t.previousMonthDate,"MMM yyyy"),""),e.xp6(3),e.hij("Boring Genretion as per GRN ",e.xi3(22,9,t.selectedDate,"dd.MM.YYYY"),""),e.xp6(3),e.hij("Total collection plan as per GRN ",e.xi3(25,12,t.previousDate,"dd.MM.YYYY"),""),e.xp6(3),e.hij("Actual Collection ",e.xi3(28,15,t.selectedDate,"MMM yyyy"),""),e.xp6(6),e.Q6J("ngIf",0!=t.Tabledata.length)}}const L=function(n){return{"d-flex justify-content-center":n}},E=[{path:"supplierwiseboringrecoverydetails",component:(()=>{class n{onBranchNameFocus(){console.log("Branch Name Input Focused")}onFROMFocus(){console.log("From  Input Focused")}constructor(t,o,i,r,c){this._SupplierWiseBoringService=t,this._AppComponentService=o,this.fb=i,this.http=r,this.router=c,this.dataSource=[],this.freezeHeader=!0,this.Keyarray=[],this.branch=[],this.Tabledata=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.fromdate=null,this.searchQuery="",this.selectedDate=new Date,this.upmonth();let h=new Date;this.minDate=new Date,this.maxDate=new Date(h.getFullYear(),h.getMonth(),1),this.minDatet=new Date,this.minDate.setDate(this.minDate.getDate()),this.maxDate.setDate(this.maxDate.getDate()),this.minDatet.setDate(this.maxDate.getDate()+1),this.fromdate=this.maxDate}ngAfterViewInit(){document.querySelector("smart-table"),this.FROM&&this.FROM.focus()}init(){throw new Error("Method not implemented.")}filterData(){const t=this.searchQuery.trim().toLowerCase();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(r=>"string"==typeof r?r.toLowerCase().includes(t):"number"==typeof r&&r.toString().includes(t))),console.log("Tabledata",this.Tabledata)}onFocus(t){t.open()}onValueChange(t){this.maxDatet=new Date,this.maxDatet.setDate(this.maxDatet.getDate())}createForm(){this.angForm=this.fb.group({FROM:["",[l.kI.required]],BRANCH_NAME:[""]})}ngOnInit(){this.createForm(),this.isLoading1=!0;let t=localStorage.getItem("user"),i={CODE:JSON.parse(t).COMPANY_ID};this._AppComponentService.branchList(i).subscribe(r=>{r.List.length>1?(this.BRANCH=!0,this.showBranch=!0,r.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=r.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=r.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)})}refreshComponent(){this.router.navigate([this.router.url])}loadData(){this.isLoading=!0,this.Tabledata=[];let t=localStorage.getItem("user"),o=JSON.parse(t),r={FROM:f(this.fromdate,"YYYY-MM-DD").format("YYYYMMDD"),BRANCH_NAME:this.selectedBrach,CODE:o.COMPANY_ID};this.angForm.valid?this._SupplierWiseBoringService.findAll(r).subscribe(c=>{this.showtable=!0,this.Tabledata=c.List,this.isLoading=!1}):(this.isLoading=!1,x().fire("Warning","Please fill All Details Properly","info"))}updatePreviousDate(){this.selectedDate?(this.previousDate=new Date(this.selectedDate),this.previousDate.setDate(this.selectedDate.getDate()-1)):this.previousDate=null}upmonth(){if(this.selectedDate){const t=f(this.selectedDate);this.previousMonthDate=t.subtract(1,"months").format("YYYY-MM-DD")}else this.previousMonthDate=null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A),e.Y36(y._),e.Y36(l.qu),e.Y36(v.eN),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-supplier-wise-boring-recovery-details"]],viewQuery:function(t,o){if(1&t&&e.Gf(T,5),2&t){let i;e.iGM(i=e.CRH())&&(o.FROM=i.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","input-group"],[1,"border-lable-flt"],["type","text","placeholder","dd/mm/yyyy","name","fdate","id","fdate","bsDatepicker","","formControlName","FROM","required","",1,"form-control",2,"max-width","100px",3,"bsConfig","ngModel","maxDate","focus","ngModelChange"],["class","form-group form-primary form-static-label","class","alert alert-danger",4,"ngIf"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"form-group","form-primary","form-static-label"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","8"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_right"],[1,"td_left"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"i",1)(2,"i",2),e.qZA(),e.YNc(3,O,23,12,"div",3),e.YNc(4,w,34,18,"div",4)),2&t&&(e.xp6(1),e.Q6J("ngClass",e.VKq(4,L,o.isLoading1)),e.xp6(1),e.Q6J("ngClass",e.VKq(6,_,o.isLoading1)),e.xp6(1),e.Q6J("ngIf",!o.isLoading1),e.xp6(1),e.Q6J("ngIf",o.showtable))},dependencies:[u.mk,u.sg,u.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On,p.Np,p.Y5,g.w9,g.jq,u.uU]}),n})()}];let U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(E),d.Bz]}),n})();var q=s(6205),I=s(53185),W=s(66055),J=s(19668),Q=s(58730);let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,U,l.UX,u.ez,l.u5,J.v,q.X,I.m9,W.EW,Q.U$,p.kn.forRoot(),g.A0,p.kn,l.UX]}),n})()}}]);