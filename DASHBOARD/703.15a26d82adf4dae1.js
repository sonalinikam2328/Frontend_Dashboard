"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[703],{36703:(V,v,l)=>{l.r(v),l.d(v,{SubcontractModule:()=>P});var u=l(36895),a=l(24006),_=l(85892),h=l(58730),f=l(15439),T=l(35226),y=l.n(T),e=l(94650),N=l(92340),M=l(70262),m=l(80529);let F=(()=>{class n{constructor(t){this.http=t,this.url=N.N.base_url}findAll(t){return this.http.post(this.url+"/supplierwiseboringrecoverydetails/supplierwiseboringrecoverydetailsData",t).pipe((0,M.K)(this.handleError))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=l(10275),d=l(29219),g=l(90702);const B=["YEAR_NAME"],A=["table"],O=["FROM"],R=["fdateInput"];function S(n,s){1&n&&(e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Select Branch "),e.TgZ(3,"sub",12),e._uU(4,"* "),e.qZA()()())}function b(n,s){if(1&n&&(e.TgZ(0,"ng-option",25),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.NAME,"")}}function w(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",21)(2,"span",14)(3,"ng-select",22,23),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw(2);return e.KtG(o.selectedBrach=i)})("focus",function(){e.CHM(t);const i=e.MAs(4),o=e.oxw(2);return e.KtG(o.onFocus(i))}),e.YNc(5,b,2,2,"ng-option",24),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.selectedBrach)("selectOnTab",!0)("required",t.BRANCH),e.xp6(2),e.Q6J("ngForOf",t.branch)}}function G(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1," This field is required "),e.qZA())}function I(n,s){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,G,2,0,"div",27),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.angForm.controls.FROM.errors?null:t.angForm.controls.FROM.errors.required)}}const J=function(){return{dateInputFormat:"DD/MM/YYYY"}},C=function(n){return{"fa-spin fa-spinner":n}};function q(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"h5"),e._uU(3,"Supplierwise Boring Recovery Details"),e.qZA()(),e.TgZ(4,"form",7)(5,"div",8)(6,"div",9),e.YNc(7,S,5,0,"div",10),e.YNc(8,w,6,4,"div",10),e.TgZ(9,"div",11)(10,"label"),e._uU(11,"Select Dates "),e.TgZ(12,"sub",12),e._uU(13,"* "),e.qZA()()(),e.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"input",15,16),e.NdJ("focus",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onFocus(i.FROM))})("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedDate=i)})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updatePreviousDate())})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.upmonth())}),e.qZA()()(),e.YNc(19,I,2,1,"div",17),e.qZA(),e.TgZ(20,"div",18)(21,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.loadData())}),e._uU(22,"Go "),e._UZ(23,"i",20),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.angForm),e.xp6(3),e.Q6J("ngIf",t.showBranch),e.xp6(1),e.Q6J("ngIf",t.showBranch),e.xp6(9),e.Q6J("bsConfig",e.DdM(9,J))("ngModel",t.selectedDate)("maxDate",t.maxDate),e.xp6(2),e.Q6J("ngIf",t.angForm.controls.FROM.invalid&&(t.angForm.controls.FROM.dirty||t.angForm.controls.FROM.touched)),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("ngClass",e.VKq(10,C,t.isLoading))}}function H(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td",37),e._uU(2),e.qZA(),e.TgZ(3,"td",45),e._uU(4),e.qZA(),e.TgZ(5,"td",37),e._uU(6),e.qZA(),e.TgZ(7,"td",37),e._uU(8),e.qZA(),e.TgZ(9,"td",37),e._uU(10),e.qZA(),e.TgZ(11,"td",37),e._uU(12),e.qZA(),e.TgZ(13,"td",37),e._uU(14),e.qZA(),e.TgZ(15,"td",37),e._uU(16),e.qZA()()),2&n){const t=s.$implicit;e.xp6(2),e.Oqu(null==t?null:t.SR_NO),e.xp6(2),e.Oqu(null==t?null:t.SUBGL_LONGNAME),e.xp6(2),e.hij(" ",null==t?null:t.BORING_BAL,""),e.xp6(2),e.Oqu(null==t?null:t.EXPECTED_BORING),e.xp6(2),e.Oqu(null==t?null:t.TOTAL_BORING),e.xp6(2),e.Oqu(null==t?null:t.ACTUAL_RCPT),e.xp6(2),e.Oqu(null==t?null:t.NET_BAL),e.xp6(2),e.Oqu(null==t?null:t.CONTACT_PHONENO)}}function W(n,s){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,H,17,8,"tr",46),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.Tabledata)}}const p=function(n){return{"show-filter-options":n}};function U(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",5)(5,"div",8)(6,"table",32)(7,"thead",33),e._UZ(8,"tr"),e.TgZ(9,"th",34)(10,"div",35)(11,"input",36),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.searchQuery=i)})("input",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData())}),e.qZA()()(),e.TgZ(12,"tr")(13,"th",37),e._uU(14,"SN "),e.TgZ(15,"div",38)(16,"div",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilter("SN"))}),e._UZ(17,"span",40),e.qZA(),e.TgZ(18,"div",41)(19,"div",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter("SN","Option 1"))}),e._uU(20,"Filter"),e.qZA(),e.TgZ(21,"div",43)(22,"input",44),e.NdJ("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilterInput("SN"))}),e.qZA()()()()(),e.TgZ(23,"th",45),e._uU(24,"Party Name "),e.TgZ(25,"div",38)(26,"div",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilter("PartyName"))}),e._UZ(27,"span",40),e.qZA(),e.TgZ(28,"div",41)(29,"div",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter("PartyName","Option 1"))}),e._uU(30,"Filter"),e.qZA(),e.TgZ(31,"div",43)(32,"input",44),e.NdJ("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilterInput("PartyName"))}),e.qZA()()()()(),e.TgZ(33,"th",37),e._uU(34),e.ALo(35,"date"),e.TgZ(36,"div",38)(37,"div",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilter("BalanceBoringof"))}),e._UZ(38,"span",40),e.qZA(),e.TgZ(39,"div",41)(40,"div",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter("BalanceBoringof","Option 1"))}),e._uU(41,"Filter"),e.qZA(),e.TgZ(42,"div",43)(43,"input",44),e.NdJ("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilterInput("BalanceBoringof"))}),e.qZA()()()()(),e.TgZ(44,"th",37),e._uU(45),e.ALo(46,"date"),e.TgZ(47,"div",38)(48,"div",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilter("BoringGenretionasperGRN"))}),e._UZ(49,"span",40),e.qZA(),e.TgZ(50,"div",41)(51,"div",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter("BoringGenretionasperGRN","Option 1"))}),e._uU(52,"Filter"),e.qZA(),e.TgZ(53,"div",43)(54,"input",44),e.NdJ("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilterInput("BoringGenretionasperGRN"))}),e.qZA()()()()(),e.TgZ(55,"th",37),e._uU(56),e.ALo(57,"date"),e.TgZ(58,"div",38)(59,"div",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilter("TotalcollectionplanasperGRN"))}),e._UZ(60,"span",40),e.qZA(),e.TgZ(61,"div",41)(62,"div",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter("TotalcollectionplanasperGRN","Option 1"))}),e._uU(63,"Filter"),e.qZA(),e.TgZ(64,"div",43)(65,"input",44),e.NdJ("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilterInput("TotalcollectionplanasperGRN"))}),e.qZA()()()()(),e.TgZ(66,"th",37),e._uU(67),e.ALo(68,"date"),e.TgZ(69,"div",38)(70,"div",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilter("ActualCollection"))}),e._UZ(71,"span",40),e.qZA(),e.TgZ(72,"div",41)(73,"div",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter("ActualCollection ","Option 1"))}),e._uU(74,"Filter"),e.qZA(),e.TgZ(75,"div",43)(76,"input",44),e.NdJ("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilterInput("ActualCollection"))}),e.qZA()()()()(),e.TgZ(77,"th",37),e._uU(78,"Balance "),e.TgZ(79,"div",38)(80,"div",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilter("Balance"))}),e._UZ(81,"span",40),e.qZA(),e.TgZ(82,"div",41)(83,"div",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter("Balance ","Option 1"))}),e._uU(84,"Filter"),e.qZA(),e.TgZ(85,"div",43)(86,"input",44),e.NdJ("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilterInput("Balance"))}),e.qZA()()()()(),e.TgZ(87,"th",45),e._uU(88,"Supplier PHONE NO "),e.TgZ(89,"div",38)(90,"div",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilter("SupplierPHONENO"))}),e._UZ(91,"span",40),e.qZA(),e.TgZ(92,"div",41)(93,"div",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter("SupplierPHONENO ","Option 1"))}),e._uU(94,"Filter"),e.qZA(),e.TgZ(95,"div",43)(96,"input",44),e.NdJ("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleFilterInput("SupplierPHONENO"))}),e.qZA()()()()()()(),e.YNc(97,W,2,1,"tbody",27),e.qZA()()()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngModel",t.searchQuery),e.xp6(7),e.Q6J("ngClass",e.VKq(42,p,t.isFilterOpen.SN)),e.xp6(3),e.ekj("show-input",t.isFilterInputOpen.SN),e.xp6(7),e.Q6J("ngClass",e.VKq(44,p,t.isFilterOpen.PartyName)),e.xp6(3),e.ekj("show-input",t.isFilterInputOpen.PartyName),e.xp6(3),e.hij("Balance Boring of ",e.xi3(35,30,t.previousMonthDate,"MMM yyyy")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(46,p,t.isFilterOpen.BalanceBoringof)),e.xp6(3),e.ekj("show-input",t.isFilterInputOpen.BalanceBoringof),e.xp6(3),e.hij("Boring Genretion as per GRN ",e.xi3(46,33,t.selectedDate,"dd.MM.YYYY")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(48,p,t.isFilterOpen.BoringGenretionasperGRN)),e.xp6(3),e.ekj("show-input",t.isFilterInputOpen.BoringGenretionasperGRN),e.xp6(3),e.hij("Total collection plan as per GRN ",e.xi3(57,36,t.previousDate,"dd.MM.YYYY")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(50,p,t.isFilterOpen.TotalcollectionplanasperGRN)),e.xp6(3),e.ekj("show-input",t.isFilterInputOpen.TotalcollectionplanasperGRN),e.xp6(3),e.hij("Actual Collection ",e.xi3(68,39,t.selectedDate,"MMM yyyy")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(52,p,t.isFilterOpen.ActualCollection)),e.xp6(3),e.ekj("show-input",t.isFilterInputOpen.ActualCollection),e.xp6(7),e.Q6J("ngClass",e.VKq(54,p,t.isFilterOpen.Balance)),e.xp6(3),e.ekj("show-input",t.isFilterInputOpen.Balance),e.xp6(7),e.Q6J("ngClass",e.VKq(56,p,t.isFilterOpen.SupplierPHONENO)),e.xp6(3),e.ekj("show-input",t.isFilterInputOpen.SupplierPHONENO),e.xp6(2),e.Q6J("ngIf",0!=t.Tabledata.length)}}const E=function(n){return{"d-flex justify-content-center":n}},Y=[{path:"supplierwiseboringrecoverydetails",component:(()=>{class n{toggleFilter(t){this.currentOpenFilter!==t&&(this.currentOpenFilter&&(this.isFilterOpen[this.currentOpenFilter]=!1,this.isFilterInputOpen[this.currentOpenFilter]=!1),this.currentOpenFilter=t),this.isFilterOpen[t]=!this.isFilterOpen[t],this.isFilterInputOpen[t]=!1}applyFilter(t,r){}toggleFilterInput(t){this.isFilterInputOpen[t]=!this.isFilterInputOpen[t]}showFilterInput(t){const r=t.currentTarget.querySelector(".filter-input");r&&r.classList.add("show")}hideFilterInput(t){const r=t.currentTarget.querySelector(".filter-input");r&&r.classList.remove("show")}onFilterInputChange(t){}constructor(t,r,i,o,c,x){this._SupplierWiseBoringService=t,this._AppComponentService=r,this.fb=i,this.http=o,this.router=c,this.renderer=x,this.filterValues=new Array(Headers.length).fill(""),this.columnOptions=[],this.showColumnDropdown=!0,this.filterInputValue="",this.dataSource=[],this.freezeHeader=!0,this.Keyarray=[],this.branch=[],this.Tabledata=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.fromdate=null,this.searchQuery="",this.isFilterOpen={},this.isFilterInputOpen={},this.currentOpenFilter=null,this.currentlyOpenInputBox=null,this.tempdata=[],this.selectedDate=new Date,this.upmonth();let D=new Date;this.minDate=new Date,this.maxDate=new Date(D.getFullYear(),D.getMonth(),1),this.minDatet=new Date,this.minDate.setDate(this.minDate.getDate()),this.maxDate.setDate(this.maxDate.getDate()),this.minDatet.setDate(this.maxDate.getDate()+1),this.fromdate=this.maxDate}ngAfterViewInit(){this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()}init(){}filterData(){const t=this.searchQuery.trim().toLowerCase();this.Tabledata=this.tempdata.filter(r=>Object.values(r).some(o=>"string"==typeof o?o.toLowerCase().includes(t):"number"==typeof o&&o.toString().includes(t)))}onFocus(t){t.open()}onValueChange(t){this.maxDatet=new Date,this.maxDatet.setDate(this.maxDatet.getDate())}createForm(){this.angForm=this.fb.group({FROM:["",[a.kI.required]],BRANCH_NAME:[""]})}ngOnInit(){this.createForm(),this.isLoading1=!0;let t=localStorage.getItem("user"),i={CODE:JSON.parse(t).COMPANY_ID};this._AppComponentService.branchList(i).subscribe(o=>{o.List.length>1?(this.BRANCH=!0,this.showBranch=!0,o.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=o.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=o.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE),setTimeout(()=>{this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()},100)})}loadData(){this.isLoading=!0,this.Tabledata=[];let t=localStorage.getItem("user"),r=JSON.parse(t),o={FROM:f(this.fromdate,"YYYY-MM-DD").format("YYYYMMDD"),BRANCH_NAME:this.selectedBrach,CODE:r.COMPANY_ID};this.angForm.valid?this._SupplierWiseBoringService.findAll(o).subscribe(c=>{this.showtable=!0,this.Tabledata=c.List,this.tempdata=c.List,this.isLoading=!1}):(this.isLoading=!1,y().fire("Warning","Please fill All Details Properly","info"))}updatePreviousDate(){this.selectedDate?(this.previousDate=new Date(this.selectedDate),this.previousDate.setDate(this.selectedDate.getDate()-1)):this.previousDate=null}upmonth(){if(this.selectedDate){const t=f(this.selectedDate);this.previousMonthDate=t.subtract(1,"months").format("YYYY-MM-DD")}else this.previousMonthDate=null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F),e.Y36(Z._),e.Y36(a.qu),e.Y36(m.eN),e.Y36(_.F0),e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-supplier-wise-boring-recovery-details"]],viewQuery:function(t,r){if(1&t&&(e.Gf(B,5),e.Gf(A,5,h.ac),e.Gf(O,5),e.Gf(R,5)),2&t){let i;e.iGM(i=e.CRH())&&(r.YEAR_NAME=i.first),e.iGM(i=e.CRH())&&(r.table=i.first),e.iGM(i=e.CRH())&&(r.FROM=i.first),e.iGM(i=e.CRH())&&(r.fdateInput=i.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","input-group"],[1,"border-lable-flt"],["type","text","placeholder","dd/mm/yyyy","name","fdate","id","fdate","bsDatepicker","","formControlName","FROM","required","",1,"form-control",2,"max-width","100px",3,"bsConfig","ngModel","maxDate","focus","ngModelChange"],["fdateInput",""],["class","form-group form-primary form-static-label","class","alert alert-danger",4,"ngIf"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"form-group","form-primary","form-static-label"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","required","","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","8"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_right"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"],[1,"td_left"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"i",1)(2,"i",2),e.qZA(),e.YNc(3,q,24,12,"div",3),e.YNc(4,U,98,58,"div",4)),2&t&&(e.xp6(1),e.Q6J("ngClass",e.VKq(4,E,r.isLoading1)),e.xp6(1),e.Q6J("ngClass",e.VKq(6,C,r.isLoading1)),e.xp6(1),e.Q6J("ngIf",!r.isLoading1),e.xp6(1),e.Q6J("ngIf",r.showtable))},dependencies:[u.mk,u.sg,u.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On,d.Np,d.Y5,g.w9,g.jq,u.uU]}),n})()}];let K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(Y),_.Bz]}),n})();var k=l(6205),L=l(53185),Q=l(66055),j=l(19668);let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,K,a.UX,u.ez,a.u5,j.v,k.X,L.m9,Q.EW,h.U$,d.kn.forRoot(),g.A0,d.kn,a.UX]}),n})()}}]);