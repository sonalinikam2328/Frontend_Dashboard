"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[694],{52694:(Hn,J,h)=>{h.r(J),h.d(J,{SalesModule:()=>Ln});var d=h(36895),a=h(24006),W=h(6205),U=h(53185),$=h(66055),X=h(19668),x=h(85892),b=h(15439),tt=h(35226),u=h.n(tt),t=h(94650),v=h(92340),A=h(70262),f=h(80529);let Y=(()=>{class i{constructor(e){this.http=e,this.url=v.N.base_url}findAll(e){return this.http.post(this.url+"/paymentcollectionplan/paymentcollectionplanData/",e).pipe((0,A.K)(this.handleError))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Z=h(10275),m=h(90702);const et=["fdateInput"],nt=["YEAR_NAME"];function it(i,r){1&i&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4,"* "),t.qZA()()())}function ot(i,r){if(1&i&&(t.TgZ(0,"ng-option",31),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function lt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",29,30),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.selectedBrach=n)})("focus",function(){t.CHM(e);const n=t.MAs(4),l=t.oxw(2);return t.KtG(l.onFocus(n))}),t.YNc(5,ot,2,2,"ng-option",17),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function rt(i,r){if(1&i&&(t.TgZ(0,"ng-option",31),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}function at(i,r){if(1&i&&(t.TgZ(0,"ng-option",31),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DateDesc,"")}}const k=function(i){return{"fa-spin fa-spinner":i}};function st(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Payment Collection Plan"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,it,5,0,"div",10),t.YNc(8,lt,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Finacial Year "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedYear=n)})("focus",function(){t.CHM(e);const n=t.MAs(18),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(19,rt,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",11)(21,"label"),t._uU(22,"Select Month "),t.TgZ(23,"sub",12),t._uU(24,"* "),t.qZA()()(),t.TgZ(25,"div",11)(26,"div",13)(27,"span",14)(28,"ng-select",18,19),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedMonth=n)})("focus",function(){t.CHM(e);const n=t.MAs(29),l=t.oxw();return t.KtG(l.onFocus(n))})("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.getMonth())}),t.YNc(30,at,2,2,"ng-option",17),t.qZA()()()()(),t.TgZ(31,"div",9)(32,"div",11)(33,"label"),t._uU(34,"Customer Type "),t.TgZ(35,"sub",12),t._uU(36," * "),t.qZA()()(),t.TgZ(37,"div",20)(38,"div",21),t._UZ(39,"input",22),t.TgZ(40,"label",23),t._uU(41,"Domestic"),t.qZA()(),t.TgZ(42,"div",21),t._UZ(43,"input",24),t.TgZ(44,"label",25),t._uU(45,"Export"),t.qZA()()(),t.TgZ(46,"div",26)(47,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadData())}),t._uU(48,"Go "),t._UZ(49,"i",28),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(9),t.Q6J("ngModel",e.selectedMonth)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.month),t.xp6(17),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(11,k,e.isLoading))}}function _t(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",41),t._uU(2),t.qZA(),t.TgZ(3,"td",42),t._uU(4),t.qZA(),t.TgZ(5,"td",41),t._uU(6),t.qZA(),t.TgZ(7,"td",41),t._uU(8),t.qZA(),t.TgZ(9,"td",41),t._uU(10),t.qZA(),t.TgZ(11,"td",41),t._uU(12),t.qZA(),t.TgZ(13,"td",41),t._uU(14),t.qZA(),t.TgZ(15,"td",41),t._uU(16),t.qZA(),t.TgZ(17,"td",41),t._uU(18),t.qZA(),t.TgZ(19,"td",41),t._uU(20),t.qZA(),t.TgZ(21,"td",41),t._uU(22),t.qZA(),t.TgZ(23,"td",41),t._uU(24),t.qZA()()),2&i){const e=r.$implicit,o=r.index;t.xp6(2),t.hij(" ",o+1,""),t.xp6(2),t.hij("",e.SUBGL_LONGNAME," "),t.xp6(2),t.hij(" ",null!=e.INVOICE_AMT?e.INVOICE_AMT:"-",""),t.xp6(2),t.Oqu(null!=e.RECEIPT_AMT?e.RECEIPT_AMT:"-"),t.xp6(2),t.hij("",null!=e.RECV_PERCENT?e.RECV_PERCENT+"%":e.RECV_PERCENT," "),t.xp6(2),t.Oqu(null!=e.CREDIT_DAYS?e.CREDIT_DAYS:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS?e.CR_DAYS:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS1?e.CR_DAYS1:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS2?e.CR_DAYS2:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS3?e.CR_DAYS3:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS4?e.CR_DAYS4:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS5?e.CR_DAYS5:"-")}}function ct(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,_t,25,12,"tr",55),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function dt(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3,"No Data"),t.qZA()()())}function ut(i,r){1&i&&t._UZ(0,"div",32)}function pt(i,r){if(1&i&&(t.TgZ(0,"tr"),t._UZ(1,"td",41),t.TgZ(2,"td",56),t._uU(3),t.qZA(),t.TgZ(4,"td",41),t._uU(5),t.qZA(),t.TgZ(6,"td",41),t._uU(7),t.qZA(),t.TgZ(8,"td",41),t._uU(9),t.qZA(),t.TgZ(10,"td",41),t._uU(11),t.qZA(),t.TgZ(12,"td",41),t._uU(13),t.qZA(),t.TgZ(14,"td",41),t._uU(15),t.qZA(),t.TgZ(16,"td",41),t._uU(17),t.qZA(),t.TgZ(18,"td",41),t._uU(19),t.qZA(),t.TgZ(20,"td",41),t._uU(21),t.qZA(),t.TgZ(22,"td",41),t._uU(23),t.qZA()()),2&i){const e=r.$implicit;t.xp6(3),t.hij("",e.SUBGL_LONGNAME," "),t.xp6(2),t.hij(" ",null!=e.INVOICE_AMT?e.INVOICE_AMT:"",""),t.xp6(2),t.Oqu(null!=e.RECEIPT_AMT?e.RECEIPT_AMT:""),t.xp6(2),t.hij("",null!=e.RECV_PERCENT?e.RECV_PERCENT:""," "),t.xp6(2),t.Oqu(0!=e.CREDIT_DAYS?e.CREDIT_DAYS:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS?e.CR_DAYS:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS1?e.CR_DAYS1:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS2?e.CR_DAYS2:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS3?e.CR_DAYS3:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS4?e.CR_DAYS4:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS5?e.CR_DAYS5:"")}}const T=function(i){return{"show-filter-options":i}};function gt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35)(4,"div",5)(5,"div",8)(6,"table",36)(7,"thead",37),t._UZ(8,"tr"),t.TgZ(9,"tr")(10,"th",38)(11,"div",39)(12,"input",40),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.searchQuery=n)})("input",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.filterData())}),t.qZA()()()(),t.TgZ(13,"tr"),t._UZ(14,"th",41)(15,"th",42)(16,"th",41)(17,"th",41)(18,"th",41)(19,"th",41),t.TgZ(20,"th",41),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"th",41),t._uU(24),t.ALo(25,"date"),t.qZA(),t.TgZ(26,"th",41),t._uU(27),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"th",41),t._uU(30),t.ALo(31,"date"),t.qZA(),t.TgZ(32,"th",41),t._uU(33),t.ALo(34,"date"),t.qZA(),t.TgZ(35,"th",41),t._uU(36),t.ALo(37,"date"),t.qZA()(),t.TgZ(38,"tr",43)(39,"th",44),t._uU(40,"Sr. No. "),t.TgZ(41,"div",45)(42,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("SrNo"))}),t._UZ(43,"span",47),t.qZA(),t.TgZ(44,"div",48)(45,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("SrNo","Option 1"))}),t._uU(46,"Filter"),t.qZA(),t.TgZ(47,"div",50)(48,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("SrNo"))}),t.qZA()()()()(),t.TgZ(49,"th",52),t._uU(50,"Name of Customer "),t.TgZ(51,"div",45)(52,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("NameofCustomer"))}),t._UZ(53,"span",47),t.qZA(),t.TgZ(54,"div",48)(55,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("SrNo","Option 1"))}),t._uU(56,"Filter"),t.qZA(),t.TgZ(57,"div",50)(58,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("NameofCustomer"))}),t.qZA()()()()(),t.TgZ(59,"th",44),t._uU(60,"Payment Amount Plan For The Month Rs. "),t.TgZ(61,"div",45)(62,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("PaymentAmountPlanForTheMonthRs."))}),t._UZ(63,"span",47),t.qZA(),t.TgZ(64,"div",48)(65,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("SrNo","Option 1"))}),t._uU(66,"Filter"),t.qZA(),t.TgZ(67,"div",50)(68,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("PaymentAmountPlanForTheMonthRs."))}),t.qZA()()()()(),t.TgZ(69,"th",44),t._uU(70,"Amount Received Rs. "),t.TgZ(71,"div",45)(72,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("AmountReceivedRs."))}),t._UZ(73,"span",47),t.qZA(),t.TgZ(74,"div",48)(75,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("SrNo","Option 1"))}),t._uU(76,"Filter"),t.qZA(),t.TgZ(77,"div",50)(78,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("AmountReceivedRs."))}),t.qZA()()()()(),t.TgZ(79,"th",44),t._uU(80,"% of Recovery "),t.TgZ(81,"div",45)(82,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("%ofRecovery."))}),t._UZ(83,"span",47),t.qZA(),t.TgZ(84,"div",48)(85,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("SrNo","Option 1"))}),t._uU(86,"Filter"),t.qZA(),t.TgZ(87,"div",50)(88,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("%ofRecovery."))}),t.qZA()()()()(),t.TgZ(89,"th",44),t._uU(90,"Credit Day "),t.TgZ(91,"div",45)(92,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("CreditDay"))}),t._UZ(93,"span",47),t.qZA(),t.TgZ(94,"div",48)(95,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("CreditDay","Option 1"))}),t._uU(96,"Filter"),t.qZA(),t.TgZ(97,"div",50)(98,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("CreditDay"))}),t.qZA()()()()(),t.TgZ(99,"th",44),t._uU(100,"Avg Payment Receipt Days "),t.TgZ(101,"div",45)(102,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("AvgPaymentReceiptDays"))}),t._UZ(103,"span",47),t.qZA(),t.TgZ(104,"div",48)(105,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("AvgPaymentReceiptDays","Option 1"))}),t._uU(106,"Filter"),t.qZA(),t.TgZ(107,"div",50)(108,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("AvgPaymentReceiptDays"))}),t.qZA()()()()(),t.TgZ(109,"th",44),t._uU(110,"Avg Payment Receipt Days "),t.TgZ(111,"div",45)(112,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("AvgPaymentReceiptDays1"))}),t._UZ(113,"span",47),t.qZA(),t.TgZ(114,"div",48)(115,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("AvgPaymentReceiptDays1","Option 1"))}),t._uU(116,"Filter"),t.qZA(),t.TgZ(117,"div",50)(118,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("AvgPaymentReceiptDays1"))}),t.qZA()()()()(),t.TgZ(119,"th",44),t._uU(120,"Avg Payment Receipt Days "),t.TgZ(121,"div",45)(122,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("AvgPaymentReceiptDays2"))}),t._UZ(123,"span",47),t.qZA(),t.TgZ(124,"div",48)(125,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("AvgPaymentReceiptDays2","Option 1"))}),t._uU(126,"Filter"),t.qZA(),t.TgZ(127,"div",50)(128,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("AvgPaymentReceiptDays2"))}),t.qZA()()()()(),t.TgZ(129,"th",44),t._uU(130,"Avg Payment Receipt Days "),t.TgZ(131,"div",45)(132,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("AvgPaymentReceiptDays3"))}),t._UZ(133,"span",47),t.qZA(),t.TgZ(134,"div",48)(135,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("AvgPaymentReceiptDays3","Option 1"))}),t._uU(136,"Filter"),t.qZA(),t.TgZ(137,"div",50)(138,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("AvgPaymentReceiptDays3"))}),t.qZA()()()()(),t.TgZ(139,"th",44),t._uU(140,"Avg Payment Receipt Days "),t.TgZ(141,"div",45)(142,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("AvgPaymentReceiptDays4"))}),t._UZ(143,"span",47),t.qZA(),t.TgZ(144,"div",48)(145,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("AvgPaymentReceiptDays4","Option 1"))}),t._uU(146,"Filter"),t.qZA(),t.TgZ(147,"div",50)(148,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("AvgPaymentReceiptDays4"))}),t.qZA()()()()(),t.TgZ(149,"th",44),t._uU(150,"Avg Payment Receipt Days "),t.TgZ(151,"div",45)(152,"div",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("AvgPaymentReceiptDays5"))}),t._UZ(153,"span",47),t.qZA(),t.TgZ(154,"div",48)(155,"div",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("AvgPaymentReceiptDays5","Option 1"))}),t._uU(156,"Filter"),t.qZA(),t.TgZ(157,"div",50)(158,"input",51),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("AvgPaymentReceiptDays5"))}),t.qZA()()()()()()(),t.YNc(159,ct,2,1,"tbody",53),t.YNc(160,dt,4,0,"tbody",53),t.YNc(161,ut,1,0,"div",4),t._UZ(162,"div",33)(163,"div",34)(164,"div",35)(165,"div",5)(166,"div",8),t.TgZ(167,"tfoot",54),t.YNc(168,pt,24,11,"tr",55),t.qZA()()()()()()()()}if(2&i){const e=t.oxw();t.xp6(12),t.Q6J("ngModel",e.searchQuery),t.xp6(9),t.Oqu(t.xi3(22,47,e.currentMonth,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(25,50,e.priviousOne,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(28,53,e.priviousTwo,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(31,56,e.priviousThree,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(34,59,e.priviousFour,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(37,62,e.priviousFive,"MMM yyyy")),t.xp6(8),t.Q6J("ngClass",t.VKq(65,T,e.isFilterOpen.SrNo)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.SrNo),t.xp6(7),t.Q6J("ngClass",t.VKq(67,T,e.isFilterOpen.NameofCustomer)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.NameofCustomer),t.xp6(7),t.Q6J("ngClass",t.VKq(69,T,e.isFilterOpen["PaymentAmountPlanForTheMonthRs."])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["PaymentAmountPlanForTheMonthRs."]),t.xp6(7),t.Q6J("ngClass",t.VKq(71,T,e.isFilterOpen["AmountReceivedRs."])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["AmountReceivedRs."]),t.xp6(7),t.Q6J("ngClass",t.VKq(73,T,e.isFilterOpen["%ofRecovery."])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["%ofRecovery."]),t.xp6(7),t.Q6J("ngClass",t.VKq(75,T,e.isFilterOpen.CreditDay)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.CreditDay),t.xp6(7),t.Q6J("ngClass",t.VKq(77,T,e.isFilterOpen.AvgPaymentReceiptDays)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.AvgPaymentReceiptDays),t.xp6(7),t.Q6J("ngClass",t.VKq(79,T,e.isFilterOpen.AvgPaymentReceiptDays1)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.AvgPaymentReceiptDays1),t.xp6(7),t.Q6J("ngClass",t.VKq(81,T,e.isFilterOpen.AvgPaymentReceiptDays2)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.AvgPaymentReceiptDays2),t.xp6(7),t.Q6J("ngClass",t.VKq(83,T,e.isFilterOpen.AvgPaymentReceiptDays3)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.AvgPaymentReceiptDays3),t.xp6(7),t.Q6J("ngClass",t.VKq(85,T,e.isFilterOpen.AvgPaymentReceiptDays4)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.AvgPaymentReceiptDays4),t.xp6(7),t.Q6J("ngClass",t.VKq(87,T,e.isFilterOpen.AvgPaymentReceiptDays5)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.AvgPaymentReceiptDays5),t.xp6(2),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",e.showtable),t.xp6(7),t.Q6J("ngForOf",e.FooterData)}}const ht=function(i){return{"d-flex justify-content-center":i}};let mt=(()=>{class i{toggleFilter(e){this.isFilterOpen[e]=!this.isFilterOpen[e],this.isFilterInputOpen[e]=!1}applyFilter(e,o){}toggleFilterInput(e){this.isFilterInputOpen[e]=!this.isFilterInputOpen[e]}constructor(e,o,n,l,s){this._PaymentService=e,this._AppComponentService=o,this.fb=n,this.http=l,this.router=s,this.branch=[],this.finyear=[],this.Keyarray=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.month=[],this.searchQuery="",this.isFilterOpen={},this.isFilterInputOpen={},this.Tabledata=[],this.FooterData=[],this.temparray=[]}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",a.kI.required],CUTOMER_TYPE:["0",a.kI.required],MONTH_NAME:["",a.kI.required]})}onFocus(e){e.open()}ngAfterViewInit(){this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()}init(){throw new Error("Method not implemented.")}ngOnInit(){this.isLoading1=!0;let e=localStorage.getItem("user"),n={CODE:JSON.parse(e).COMPANY_ID};this.createForm(),this._AppComponentService.branchList(n).subscribe(l=>{l.List.length>1?(this.showBranch=!0,this.BRANCH=!0,l.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.showBranch=!1,this.BRANCH=!1,this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(n).subscribe(l=>{this.finyear=l.List,this.selectedYear=this.finyear[0].DATEVALUE}),this._AppComponentService.month(n).subscribe(l=>{this.month=l.List,this.selectedMonth=this.month[0].DateValue;let s=this.month.filter(_=>_.DateValue==this.selectedMonth);this.MonthData=s})}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.temparray.filter(o=>Object.values(o).some(l=>"string"==typeof l?l.toLowerCase().includes(e):"number"==typeof l&&l.toString().includes(e)))}loadData(){this.Tabledata=[],this.FooterData=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._PaymentService.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID,CUSTOMER_TYPE:this.angForm.value.CUTOMER_TYPE,MONTH:this.selectedMonth}).subscribe(s=>{this.upmonth(),this.showtable=!0;for(let c=0;c<=s.List.length-1;c++)s.List[c].INVOICE_AMT=parseFloat(s.List[c].INVOICE_AMT).toFixed(2),s.List[c].RECEIPT_AMT=parseFloat(s.List[c].RECEIPT_AMT).toFixed(2),s.List[c].RECV_PERCENT=parseFloat(s.List[c].RECV_PERCENT).toFixed(2);this.FooterData.push(s.List[s.List.length-1]),this.Tabledata=s.List,this.temparray=s.List,this.Tabledata.pop(),this.isLoading=!1}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?u().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?u().fire("Warning","Please select branch","info"):null==this.selectedYear&&u().fire("Warning","Please select financial year","info"))}upmonth(){let e,o=this.selectedYear.substr(0,4),n=this.selectedYear.substr(4,4),l=this.selectedMonth.substr(0,2),s=this.MonthData[0].DateDesc;e=l>"03"?s+" "+n:s+" "+o,this.currentMonth=e;let _=b(this.currentMonth,"MMM/YYYY").format("YYYY-MM-DD");this.priviousOne=b(_,"YYYY-MM-DD").subtract(1,"months").format("MMM-YYYY"),this.priviousTwo=b(_,"YYYY-MM-DD").subtract(2,"months").format("MMM-YYYY"),this.priviousThree=b(_,"YYYY-MM-DD").subtract(3,"months").format("MMM-YYYY"),this.priviousFour=b(_,"YYYY-MM-DD").subtract(4,"months").format("MMM-YYYY"),this.priviousFive=b(_,"YYYY-MM-DD").subtract(5,"months").format("MMM-YYYY")}getMonth(){let e=this.month.filter(o=>o.DateValue==this.selectedMonth);this.MonthData=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Y),t.Y36(Z._),t.Y36(a.qu),t.Y36(f.eN),t.Y36(x.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-payment-collection-plan"]],viewQuery:function(e,o){if(1&e&&(t.Gf(et,5),t.Gf(nt,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.fdateInput=n.first),t.iGM(n=t.CRH())&&(o.YEAR_NAME=n.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","autofocus","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],["id","MONTH_NAME","bindValue","DateValue","bindLabel","DateDesc","required","","formControlName","MONTH_NAME",3,"ngModel","selectOnTab","ngModelChange","focus","change"],["MONTH_NAME",""],[1,"col-sm-3"],[1,"form-check","form-check-inline"],["type","radio","name","CUTOMER_TYPE","id","inlineRadio1","value","0","formControlName","CUTOMER_TYPE",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","CUTOMER_TYPE","id","inlineRadio2","value","1","formControlName","CUTOMER_TYPE",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","12"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_right"],[1,"td_left"],[1,"sticky-header"],[1,"td_right","table-header"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"],[1,"td_left","table-header"],[4,"ngIf"],[2,"position","sticky","bottom","0","text-align","center"],[4,"ngFor","ngForOf"],[1,"td_left",2,"font-weight","bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,st,50,13,"div",3),t.YNc(4,gt,169,89,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,ht,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,k,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,m.w9,m.jq,a._Y,a.Fj,a._,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On,d.uU],styles:[".table-header[_ngcontent-%COMP%]{background-color:#b8cfee;color:#495057;font-weight:700;text-align:center}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#333;color:#fff;font-weight:700;text-align:center}"]}),i})();var F=h(58730);const ft=["table"];let Ct=(()=>{class i{constructor(){this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(e,o){const n=o;n.query=JSON.stringify(o.query),new window.Smart.Ajax({url:v.N.base_url+"/companyList",dataSourceType:"json",data:n},s=>{e({dataSource:s.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(e){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(e){}}]}ngOnInit(){}ngAfterViewInit(){this.init(),document.querySelector("smart-table")}init(){this.table.addGroup("CREDIT_DAYS")}handleClick(e,o){this.table.exportData(o,"table")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-turn-over"]],viewQuery:function(e,o){if(1&e&&t.Gf(ft,5,F.ac),2&e){let n;t.iGM(n=t.CRH())&&(o.table=n.first)}},decls:9,vars:4,consts:[[1,"form-control",2,"width","120px","height","30px","font-size","10px","margin-top","3px","float","right",3,"change"],["selected",""],["id","table",3,"dataSource","grouping","keyboardNavigation","columns"],["table",""]],template:function(e,o){1&e&&(t.TgZ(0,"select",0),t.NdJ("change",function(l){return o.handleClick(l,"csv")}),t.TgZ(1,"option",1),t._uU(2,"Export Type "),t.qZA(),t.TgZ(3,"option"),t._uU(4,"CSV"),t.qZA(),t.TgZ(5,"option"),t._uU(6,"PDF"),t.qZA()(),t._UZ(7,"smart-table",2,3)),2&e&&(t.xp6(7),t.Q6J("dataSource",o.dataSource)("grouping",o.grouping)("keyboardNavigation",o.keyboardNavigation)("columns",o.columns))},dependencies:[F.ac,a.YN,a.Kr]}),i})(),vt=(()=>{class i{constructor(e){this.http=e,this.url=v.N.base_url}findAll(e){return this.http.post(this.url+"/developmentcostdetails/DevelopmentcostdetailsData",e).pipe((0,A.K)(this.handleError))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var q=h(29219);const At=["FROM"],Tt=["fdateInput"];function xt(i,r){1&i&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4,"* "),t.qZA()()())}function bt(i,r){if(1&i&&(t.TgZ(0,"ng-option",26),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function Zt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",22)(2,"span",14)(3,"ng-select",23,24),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.selectedBrach=n)})("focus",function(){t.CHM(e);const n=t.MAs(4),l=t.oxw(2);return t.KtG(l.onFocus(n))}),t.YNc(5,bt,2,2,"ng-option",25),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function Mt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," This field is required "),t.qZA())}function yt(i,r){if(1&i&&(t.TgZ(0,"div",27),t.YNc(1,Mt,2,0,"div",28),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.angForm.controls.FROM.errors?null:e.angForm.controls.FROM.errors.required)}}function Nt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," This field is required "),t.qZA())}function Ft(i,r){if(1&i&&(t.TgZ(0,"div",27),t.YNc(1,Nt,2,0,"div",28),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.angForm.controls.TO.errors?null:e.angForm.controls.TO.errors.required)}}const L=function(){return{dateInputFormat:"DD/MM/YYYY"}},H=function(i){return{"fa-spin fa-spinner":i}};function Dt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Development Cost Details"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,xt,5,0,"div",10),t.YNc(8,Zt,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Dates "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"input",15,16),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.fromdate=n)}),t.qZA()()(),t.YNc(19,yt,2,1,"div",17),t.qZA(),t.TgZ(20,"div",11)(21,"div",13)(22,"span",14)(23,"input",18),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.todate=n)}),t.qZA()()(),t.YNc(24,Ft,2,1,"div",17),t.qZA(),t.TgZ(25,"div",19)(26,"button",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadData())}),t._uU(27,"Go "),t._UZ(28,"i",21),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("bsConfig",t.DdM(13,L))("ngModel",e.fromdate)("maxDate",e.maxDate),t.xp6(2),t.Q6J("ngIf",e.angForm.controls.FROM.invalid&&(e.angForm.controls.FROM.dirty||e.angForm.controls.FROM.touched)),t.xp6(4),t.Q6J("bsConfig",t.DdM(14,L))("minDate",e.fromdate)("ngModel",e.todate),t.xp6(1),t.Q6J("ngIf",e.angForm.controls.TO.invalid&&(e.angForm.controls.TO.dirty||e.angForm.controls.TO.touched)),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(15,H,e.isLoading))}}function Ot(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",46),t._uU(2),t.qZA(),t.TgZ(3,"td",46),t._uU(4),t.qZA(),t.TgZ(5,"td",48),t._uU(6),t.qZA(),t.TgZ(7,"td",48),t._uU(8),t.qZA(),t.TgZ(9,"td",46),t._uU(10),t.qZA(),t.TgZ(11,"td",46),t._uU(12),t.qZA(),t.TgZ(13,"td",48),t._uU(14),t.qZA(),t.TgZ(15,"td",48),t._uU(16),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(null==e?null:e.CUSTOMER_NAME),t.xp6(2),t.hij(" ",null==e?null:e.MAT_NAME,""),t.xp6(2),t.Oqu(null==e?null:e.PO_NO),t.xp6(2),t.Oqu(null==e?null:e.ORDER_AMT),t.xp6(2),t.Oqu(null==e?null:e.PROFORMA_INV_DETAILS),t.xp6(2),t.Oqu(null==e?null:e.SALE_INV_DETAILS),t.xp6(2),t.Oqu(null==e?null:e.INVOICE_AMT),t.xp6(2),t.Oqu(null==e?null:e.DIFF_AMT)}}function qt(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Ot,17,8,"tr",50),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function Et(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3,"No Data"),t.qZA()()())}function St(i,r){1&i&&t._UZ(0,"div",29)}const D=function(i){return{"show-filter-options":i}};function wt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"div",5)(5,"div",8)(6,"table",33)(7,"thead",34),t._UZ(8,"tr"),t.TgZ(9,"th",35)(10,"div",36)(11,"input",37),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.searchQuery=n)})("input",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",38),t._uU(14,"Customer Name "),t.TgZ(15,"div",39)(16,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("CustomerName"))}),t._UZ(17,"span",41),t.qZA(),t.TgZ(18,"div",42)(19,"div",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("CustomerName","Option 1"))}),t._uU(20,"Filter"),t.qZA(),t.TgZ(21,"div",44)(22,"input",45),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("CustomerName"))}),t.qZA()()()()(),t.TgZ(23,"th",46),t._uU(24,"Part Name "),t.TgZ(25,"div",39)(26,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("PartName"))}),t._UZ(27,"span",41),t.qZA(),t.TgZ(28,"div",42)(29,"div",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("PartName","Option 1"))}),t._uU(30,"Filter"),t.qZA(),t.TgZ(31,"div",44)(32,"input",45),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("PartName"))}),t.qZA()()()()(),t.TgZ(33,"th",47),t._uU(34,"Development P.O.No/Referance "),t.TgZ(35,"div",39)(36,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("DevelopmentP.O.No/Referance"))}),t._UZ(37,"span",41),t.qZA(),t.TgZ(38,"div",42)(39,"div",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("DevelopmentP.O.No/Referance","Option 1"))}),t._uU(40,"Filter"),t.qZA(),t.TgZ(41,"div",44)(42,"input",45),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("DevelopmentP.O.No/Referance"))}),t.qZA()()()()(),t.TgZ(43,"th",48),t._uU(44,"Approved Development Cost In INR "),t.TgZ(45,"div",39)(46,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("ApprovedDevelopmentCostInINR"))}),t._UZ(47,"span",41),t.qZA(),t.TgZ(48,"div",42)(49,"div",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("ApprovedDevelopmentCostInINR","Option 1"))}),t._uU(50,"Filter"),t.qZA(),t.TgZ(51,"div",44)(52,"input",45),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("ApprovedDevelopmentCostInINR"))}),t.qZA()()()()(),t.TgZ(53,"th",46),t._uU(54,"1st 50% Debit Note/Invoice No. "),t.TgZ(55,"div",39)(56,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("1st50%DebitNote/InvoiceNo."))}),t._UZ(57,"span",41),t.qZA(),t.TgZ(58,"div",42)(59,"div",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("1st50%DebitNote/InvoiceNo.","Option 1"))}),t._uU(60,"Filter"),t.qZA(),t.TgZ(61,"div",44)(62,"input",45),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("1st50%DebitNote/InvoiceNo."))}),t.qZA()()()()(),t.TgZ(63,"th",46),t._uU(64,"Balance 50% Debit Note/Invoice No. "),t.TgZ(65,"div",39)(66,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Balance50%DebitNote/InvoiceNo"))}),t._UZ(67,"span",41),t.qZA(),t.TgZ(68,"div",42)(69,"div",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Balance50%DebitNote/InvoiceNo","Option 1"))}),t._uU(70,"Filter"),t.qZA(),t.TgZ(71,"div",44)(72,"input",45),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Balance50%DebitNote/InvoiceNo"))}),t.qZA()()()()(),t.TgZ(73,"th",48),t._uU(74,"Development Cost Received In INR "),t.TgZ(75,"div",39)(76,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("DevelopmentCostReceivedInINR"))}),t._UZ(77,"span",41),t.qZA(),t.TgZ(78,"div",42)(79,"div",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("DevelopmentCostReceivedInINR","Option 1"))}),t._uU(80,"Filter"),t.qZA(),t.TgZ(81,"div",44)(82,"input",45),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("DevelopmentCostReceivedInINR"))}),t.qZA()()()()(),t.TgZ(83,"th",48),t._uU(84,"Balanced D.C. In INR to be Received "),t.TgZ(85,"div",39)(86,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("BalancedD.C.InINRtobeReceived"))}),t._UZ(87,"span",41),t.qZA(),t.TgZ(88,"div",42)(89,"div",43),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("BalancedD.C.InINRtobeReceived","Option 1"))}),t._uU(90,"Filter"),t.qZA(),t.TgZ(91,"div",44)(92,"input",45),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("BalancedD.C.InINRtobeReceived"))}),t.qZA()()()()()()(),t.YNc(93,qt,2,1,"tbody",28),t.YNc(94,Et,4,0,"tbody",28),t.YNc(95,St,1,0,"div",4),t._UZ(96,"div",30)(97,"div",31)(98,"div",32)(99,"div",5)(100,"div",8),t.TgZ(101,"tfoot",49)(102,"tr")(103,"th",46),t._uU(104,"Total"),t.qZA(),t._UZ(105,"th",46)(106,"th",48),t.TgZ(107,"th",48),t._uU(108),t.qZA(),t._UZ(109,"th",46)(110,"th",46),t.TgZ(111,"th",48),t._uU(112),t.qZA(),t.TgZ(113,"th",48),t._uU(114),t.qZA()()()()()()()()()()}if(2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(7),t.Q6J("ngClass",t.VKq(31,D,e.isFilterOpen.CustomerName)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.CustomerName),t.xp6(7),t.Q6J("ngClass",t.VKq(33,D,e.isFilterOpen.PartName)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.PartName),t.xp6(7),t.Q6J("ngClass",t.VKq(35,D,e.isFilterOpen["DevelopmentP.O.No/Referance"])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["DevelopmentP.O.No/Referance"]),t.xp6(7),t.Q6J("ngClass",t.VKq(37,D,e.isFilterOpen.ApprovedDevelopmentCostInINR)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.ApprovedDevelopmentCostInINR),t.xp6(7),t.Q6J("ngClass",t.VKq(39,D,e.isFilterOpen["1st50%DebitNote/InvoiceNo."])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["1st50%DebitNote/InvoiceNo."]),t.xp6(7),t.Q6J("ngClass",t.VKq(41,D,e.isFilterOpen["Balance50%DebitNote/InvoiceNo"])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["Balance50%DebitNote/InvoiceNo"]),t.xp6(7),t.Q6J("ngClass",t.VKq(43,D,e.isFilterOpen.DevelopmentCostReceivedInINR)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.DevelopmentCostReceivedInINR),t.xp6(7),t.Q6J("ngClass",t.VKq(45,D,e.isFilterOpen["BalancedD.C.InINRtobeReceived"])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["BalancedD.C.InINRtobeReceived"]),t.xp6(2),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",e.showtable),t.xp6(13),t.Oqu(e.totalDevelopmentCost),t.xp6(4),t.Oqu(e.totalDevelopmentCostReceived),t.xp6(2),t.Oqu(e.totalBalanceDcinReceived)}}const Rt=function(i){return{"d-flex justify-content-center":i}};let It=(()=>{class i{toggleFilter(e){this.isFilterOpen[e]=!this.isFilterOpen[e],this.isFilterInputOpen[e]=!1}applyFilter(e,o){}toggleFilterInput(e){this.isFilterInputOpen[e]=!this.isFilterInputOpen[e]}constructor(e,o,n,l,s,_,c){this._PaymentService=e,this._DevelopmentcostdetailsService=o,this._AppComponentService=n,this.fb=l,this.http=s,this.router=_,this.renderer=c,this.dataSource=[],this.freezeHeader=!0,this.branch=[],this.Tabledata=[],this.Headers=["month","Date"],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.fromdate=null,this.todate=null,this.searchQuery="",this.Keyarray=[],this.isFilterOpen={},this.isFilterInputOpen={},this.tempdata=[];let g=new Date;this.minDate=new Date,this.maxDate=new Date(g.getFullYear(),g.getMonth(),1),this.minDatet=new Date,this.minDate.setDate(this.minDate.getDate()),this.maxDate.setDate(this.maxDate.getDate()),this.minDatet.setDate(this.maxDate.getDate()+1),this.fromdate=this.maxDate,this.todate=this.minDate}onFocus(e){e.open()}ngAfterViewInit(){document.querySelector("smart-table"),this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()}onValueChange(e){if(this.maxDatet=new Date,this.maxDatet.setDate(this.maxDatet.getDate()),null!=this.fromdate&&null!=this.todate){let o=this.fromdate.getFullYear()+"/"+(this.fromdate.getMonth()+1)+"/"+this.fromdate.getDate(),n=this.todate.getFullYear()+"/"+(this.todate.getMonth()+1)+"/"+this.todate.getDate();o==n&&(u().fire("Error","From date and To date not be equal","error"),this.angForm.controls.TO.reset()),o>n&&(u().fire("Error","To date is must be less than From date","error"),this.angForm.controls.TO.reset())}}createForm(){this.angForm=this.fb.group({FROM:["",[a.kI.required]],TO:["",[a.kI.required]],BRANCH_NAME:[""]})}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.tempdata.filter(o=>Object.values(o).some(l=>"string"==typeof l?l.toLowerCase().includes(e):"number"==typeof l&&l.toString().includes(e)))}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),n={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(n).subscribe(l=>{l.List.length>1?(this.BRANCH=!0,this.showBranch=!0,l.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE),setTimeout(()=>{this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()},100)})}loadData(){this.isLoading=!0,this.Tabledata=[];let e=localStorage.getItem("user"),o=JSON.parse(e),l={FROM:b(this.fromdate,"YYYY-MM-DD").format("YYYYMMDD"),TO:b(this.todate,"YYYY-MM-DD").format("YYYYMMDD"),BRANCH_NAME:this.selectedBrach,CODE:o.COMPANY_ID};this.angForm.valid?this._DevelopmentcostdetailsService.findAll(l).subscribe(s=>{this.totalDevelopmentCost=0,this.totalDevelopmentCostReceived=0,this.totalBalanceDcinReceived=0,this.showtable=!0;for(let p=0;p<=s.List.length-1;p++)s.List[p].ORDER_AMT=parseFloat(s.List[p].ORDER_AMT).toFixed(2),s.List[p].INVOICE_AMT=parseFloat(s.List[p].INVOICE_AMT).toFixed(2),s.List[p].DIFF_AMT=parseFloat(s.List[p].DIFF_AMT).toFixed(2);this.Tabledata=s.List,this.tempdata=s.List;let c=this.Tabledata.reduce((p,N)=>Number(p)+Number(N.ORDER_AMT),0);this.totalDevelopmentCost=parseFloat(c).toFixed(2);let g=this.Tabledata.reduce((p,N)=>Number(p)+Number(N.INVOICE_AMT),0);this.totalDevelopmentCostReceived=parseFloat(g).toFixed(2);let C=this.Tabledata.reduce((p,N)=>Number(p)+Number(N.DIFF_AMT),0);this.totalBalanceDcinReceived=parseFloat(C).toFixed(2),this.isLoading=!1}):(this.isLoading=!1,u().fire("Warning","Please fill All Details Properly","info"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Y),t.Y36(vt),t.Y36(Z._),t.Y36(a.qu),t.Y36(f.eN),t.Y36(x.F0),t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-development-cost-details"]],viewQuery:function(e,o){if(1&e&&(t.Gf(At,5),t.Gf(Tt,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.FROM=n.first),t.iGM(n=t.CRH())&&(o.fdateInput=n.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","input-group"],[1,"border-lable-flt"],["type","text","placeholder","dd/mm/yyyy","name","fdate","id","fdate","bsDatepicker","","formControlName","FROM","required","",1,"form-control",2,"max-width","100px",3,"bsConfig","ngModel","maxDate","ngModelChange"],["fdateInput",""],["class","form-group form-primary form-static-label","class","alert alert-danger",4,"ngIf"],["type","text","placeholder","dd/mm/yyyy","name","tdate","id","tdate","bsDatepicker","","formControlName","TO","required","",1,"form-control",2,"max-width","100px",3,"bsConfig","minDate","ngModel","ngModelChange"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"form-group","form-primary","form-static-label"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","8"],[1,"search-container"],["type","text","placeholder","Search...",2,"float","left",3,"ngModel","ngModelChange","input"],[1,"td_left",2,"width","20%"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"],[1,"td_left"],[1,"td_Right"],[1,"td_right"],[2,"position","sticky","bottom","0","text-align","center"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,Dt,29,17,"div",3),t.YNc(4,wt,115,47,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,Rt,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,H,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,q.Np,q.Y5,m.w9,m.jq,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On]}),i})(),Jt=(()=>{class i{constructor(e){this.http=e,this.url=v.N.base_url}companylist(){return this.http.get(this.url+"/companyList").pipe((0,A.K)(this.handleError))}getCustomersLarge(){return this.http.get("./data.json").toPromise().then(e=>e.data).then(e=>e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ut=["fdateInput"],Yt=["FROM"],kt=["table"];function Lt(i,r){1&i&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4,"* "),t.qZA()()())}function Ht(i,r){if(1&i&&(t.TgZ(0,"ng-option",32),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function Gt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",28)(2,"span",14)(3,"ng-select",29,30),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.selectedBrach=n)})("focus",function(){t.CHM(e);const n=t.MAs(4),l=t.oxw(2);return t.KtG(l.onFocus(n))}),t.YNc(5,Ht,2,2,"ng-option",31),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function Kt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," This field is required "),t.qZA())}function Pt(i,r){if(1&i&&(t.TgZ(0,"div",33),t.YNc(1,Kt,2,0,"div",34),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.angForm.controls.FROM.errors?null:e.angForm.controls.FROM.errors.required)}}function Qt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",41)(2,"input",44),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.checked=n)}),t.qZA()(),t.TgZ(3,"td",42),t._uU(4),t.qZA()()}if(2&i){const e=r.$implicit;t.xp6(2),t.s9C("value",e.CODE),t.Q6J("ngModel",e.checked),t.xp6(2),t.Oqu(e.NAME)}}function Vt(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Qt,5,3,"tr",43),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function Bt(i,r){1&i&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2,"No Data"),t.qZA()())}function jt(i,r){if(1&i&&(t.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",4)(5,"div",7)(6,"table",39)(7,"thead",40)(8,"tr"),t._UZ(9,"th",41),t.TgZ(10,"th",42),t._uU(11,"Customer Name"),t.qZA()()(),t.YNc(12,Vt,2,1,"tbody",34),t.YNc(13,Bt,3,0,"tbody",34),t.qZA()()()()()()()),2&i){const e=t.oxw(2);t.xp6(12),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}function zt(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",42),t._uU(2),t.qZA(),t.TgZ(3,"td",41),t._uU(4),t.qZA(),t.TgZ(5,"td",41),t._uU(6),t.qZA(),t.TgZ(7,"td",41),t._uU(8),t.qZA(),t.TgZ(9,"td",41),t._uU(10),t.qZA(),t.TgZ(11,"td",41),t._uU(12),t.qZA(),t.TgZ(13,"td",41),t._uU(14),t.qZA(),t.TgZ(15,"td",41),t._uU(16),t.qZA(),t.TgZ(17,"td",41),t._uU(18),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.CUST_NAME),t.xp6(2),t.Oqu(e.TARGET_SCH_AMT),t.xp6(2),t.Oqu(e.TARGET_AVG_SCH),t.xp6(2),t.Oqu(e.SALE_UPTO_PRVDT),t.xp6(2),t.Oqu(e.TODAYS_SALE),t.xp6(2),t.Oqu(e.TOTAL_SALE),t.xp6(2),t.Oqu(e.REM_SALE),t.xp6(2),t.Oqu(e.CURR_AVG_PER_DAY),t.xp6(2),t.Oqu(e.REM_AVG_PER_DAY)}}function Wt(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,zt,19,9,"tr",43),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.Tabledata1)}}function $t(i,r){1&i&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2,"No Data"),t.qZA()())}const M=function(i){return{"show-filter-options":i}};function Xt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",4)(5,"div",7)(6,"table",45)(7,"thead",40),t._UZ(8,"tr"),t.TgZ(9,"tr")(10,"th",46)(11,"div",47)(12,"input",48),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.searchQuery=n)})("input",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.filterData())}),t.qZA()()()(),t.TgZ(13,"tr")(14,"th",42),t._uU(15,"Customer Name "),t.TgZ(16,"div",49)(17,"div",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("CustomerName"))}),t._UZ(18,"span",51),t.qZA(),t.TgZ(19,"div",52)(20,"div",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("CustomerName","Option 1"))}),t._uU(21,"Filter"),t.qZA(),t.TgZ(22,"div",54)(23,"input",55),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("CustomerName"))}),t.qZA()()()()(),t.TgZ(24,"th",41),t._uU(25," Target Sales Amount "),t.TgZ(26,"div",49)(27,"div",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("TargetSalesAmount"))}),t._UZ(28,"span",51),t.qZA(),t.TgZ(29,"div",52)(30,"div",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("TargetSalesAmount","Option 1"))}),t._uU(31,"Filter"),t.qZA(),t.TgZ(32,"div",54)(33,"input",55),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("TargetSalesAmount"))}),t.qZA()()()()(),t.TgZ(34,"th",41),t._uU(35," Target Sales Avg/Day "),t.TgZ(36,"div",49)(37,"div",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("TargetSalesAvg/Day"))}),t._UZ(38,"span",51),t.qZA(),t.TgZ(39,"div",52)(40,"div",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("TargetSalesAvg/Day","Option 1"))}),t._uU(41,"Filter"),t.qZA(),t.TgZ(42,"div",54)(43,"input",55),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("TargetSalesAvg/Day"))}),t.qZA()()()()(),t.TgZ(44,"th",41),t._uU(45),t.ALo(46,"date"),t.TgZ(47,"div",49)(48,"div",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("SaleUpto"))}),t._UZ(49,"span",51),t.qZA(),t.TgZ(50,"div",52)(51,"div",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("SaleUpto","Option 1"))}),t._uU(52,"Filter"),t.qZA(),t.TgZ(53,"div",54)(54,"input",55),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("SaleUpto"))}),t.qZA()()()()(),t.TgZ(55,"th",41),t._uU(56),t.ALo(57,"date"),t.TgZ(58,"div",49)(59,"div",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("TodaysSales"))}),t._UZ(60,"span",51),t.qZA(),t.TgZ(61,"div",52)(62,"div",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("TodaysSales","Option 1"))}),t._uU(63,"Filter"),t.qZA(),t.TgZ(64,"div",54)(65,"input",55),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("TodaysSales"))}),t.qZA()()()()(),t.TgZ(66,"th",41),t._uU(67," Total Sales "),t.TgZ(68,"div",49)(69,"div",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("TotalSales"))}),t._UZ(70,"span",51),t.qZA(),t.TgZ(71,"div",52)(72,"div",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("TotalSales","Option 1"))}),t._uU(73,"Filter"),t.qZA(),t.TgZ(74,"div",54)(75,"input",55),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("TotalSales"))}),t.qZA()()()()(),t.TgZ(76,"th",41),t._uU(77," Remaining Sales "),t.TgZ(78,"div",49)(79,"div",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("RemainingSales"))}),t._UZ(80,"span",51),t.qZA(),t.TgZ(81,"div",52)(82,"div",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("RemainingSales","Option 1"))}),t._uU(83,"Filter"),t.qZA(),t.TgZ(84,"div",54)(85,"input",55),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("RemainingSales"))}),t.qZA()()()()(),t.TgZ(86,"th",41),t._uU(87," Current Avg/Day(1) "),t.TgZ(88,"div",49)(89,"div",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("CurrentAvg/Day(1)"))}),t._UZ(90,"span",51),t.qZA(),t.TgZ(91,"div",52)(92,"div",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("CurrentAvg/Day(1)","Option 1"))}),t._uU(93,"Filter"),t.qZA(),t.TgZ(94,"div",54)(95,"input",55),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("CurrentAvg/Day(1)"))}),t.qZA()()()()(),t.TgZ(96,"th",41),t._uU(97," Required Avg/Day(26) "),t.TgZ(98,"div",49)(99,"div",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("RequiredAvg/Day(26)"))}),t._UZ(100,"span",51),t.qZA(),t.TgZ(101,"div",52)(102,"div",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("RequiredAvg/Day(26)","Option 1"))}),t._uU(103,"Filter"),t.qZA(),t.TgZ(104,"div",54)(105,"input",55),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("RequiredAvg/Day(26)"))}),t.qZA()()()()()()(),t.YNc(106,Wt,2,1,"tbody",34),t.YNc(107,$t,3,0,"tbody",34),t.qZA()()()()()()()}if(2&i){const e=t.oxw(2);t.xp6(12),t.Q6J("ngModel",e.searchQuery),t.xp6(7),t.Q6J("ngClass",t.VKq(38,M,e.isFilterOpen.CustomerName)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.CustomerName),t.xp6(7),t.Q6J("ngClass",t.VKq(40,M,e.isFilterOpen.TargetSalesAmount)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.TargetSalesAmount),t.xp6(7),t.Q6J("ngClass",t.VKq(42,M,e.isFilterOpen["TargetSalesAvg/Day"])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["TargetSalesAvg/Day"]),t.xp6(3),t.hij(" Sale Up to ",t.xi3(46,32,e.todate,"dd/MM/YYYY")," "),t.xp6(5),t.Q6J("ngClass",t.VKq(44,M,e.isFilterOpen.SaleUpto)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.SaleUpto),t.xp6(3),t.hij(" Todays Sales ",t.xi3(57,35,e.fromdate,"dd/MM/YYYY")," "),t.xp6(5),t.Q6J("ngClass",t.VKq(46,M,e.isFilterOpen.TodaysSales)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.TodaysSales),t.xp6(7),t.Q6J("ngClass",t.VKq(48,M,e.isFilterOpen.TotalSales)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.TotalSales),t.xp6(7),t.Q6J("ngClass",t.VKq(50,M,e.isFilterOpen.RemainingSales)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.RemainingSales),t.xp6(7),t.Q6J("ngClass",t.VKq(52,M,e.isFilterOpen["CurrentAvg/Day(1)"])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["CurrentAvg/Day(1)"]),t.xp6(7),t.Q6J("ngClass",t.VKq(54,M,e.isFilterOpen["RequiredAvg/Day(26)"])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["RequiredAvg/Day(26)"]),t.xp6(2),t.Q6J("ngIf",0!=e.Tabledata1.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata1.length)}}const te=function(){return{dateInputFormat:"DD/MM/YYYY"}},G=function(i){return{"fa-spin fa-spinner":i}};function ee(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h5"),t._uU(3,"Daily Sales Data"),t.qZA()(),t.TgZ(4,"form",6)(5,"div",7)(6,"div",8),t.YNc(7,Lt,5,0,"div",9),t.YNc(8,Gt,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Dates "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"input",15,16),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.fromdate=n)}),t.qZA()()(),t.YNc(19,Pt,2,1,"div",17),t.qZA()(),t.TgZ(20,"div",8)(21,"div",11)(22,"label"),t._uU(23,"Customer Select Option "),t.TgZ(24,"sub",12),t._uU(25," * "),t.qZA()()(),t.TgZ(26,"div",18)(27,"div",19)(28,"input",20),t.NdJ("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.check(0))}),t.qZA(),t.TgZ(29,"label",21),t._uU(30,"All Customers"),t.qZA()(),t.TgZ(31,"div",19)(32,"input",22),t.NdJ("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.check(1))}),t.qZA(),t.TgZ(33,"label",23),t._uU(34,"Selected Customer"),t.qZA()()(),t.TgZ(35,"div",24)(36,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadData())}),t._uU(37,"Go "),t._UZ(38,"i",26),t.qZA()()()()(),t.YNc(39,jt,14,2,"div",27),t.YNc(40,Xt,108,56,"div",27),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("bsConfig",t.DdM(11,te))("ngModel",e.fromdate)("maxDate",e.maxDate),t.xp6(2),t.Q6J("ngIf",e.angForm.controls.FROM.invalid&&(e.angForm.controls.FROM.dirty||e.angForm.controls.FROM.touched)),t.xp6(17),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(12,G,e.isLoading)),t.xp6(1),t.Q6J("ngIf",e.showtable),t.xp6(1),t.Q6J("ngIf",e.showtable1)}}const ne=function(i){return{"d-flex justify-content-center":i}};let ie=(()=>{class i{toggleFilter(e){this.isFilterOpen[e]=!this.isFilterOpen[e],this.isFilterInputOpen[e]=!1}applyFilter(e,o){console.log(`Filter applied for ${e} with option: ${o}`)}toggleFilterInput(e){this.isFilterInputOpen[e]=!this.isFilterInputOpen[e]}constructor(e,o,n,l,s,_){this._AppComponentService=e,this.fb=o,this.http=n,this.router=l,this._dailysalesService=s,this.renderer=_,this.freezeHeader=!0,this.branch=[],this.fromdate=null,this.showBranch=!0,this.showtable=!1,this.showtable1=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.Tabledata=[],this.Tabledata1=[],this.isFilterOpen={},this.isFilterInputOpen={},this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(c,g){const C=g;C.query=JSON.stringify(g.query),new window.Smart.Ajax({url:v.N.base_url+"/companyList",dataSourceType:"json",data:C},N=>{c({dataSource:N.List,virtualDataSourceLength:10})})}}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.Keyarray=[],this.tempdata=[],this.searchQuery="",this.minDate=new Date,this.maxDate=new Date,this.minDate.setDate(this.minDate.getDate()-1),this.maxDate.setDate(this.maxDate.getDate()),this.fromdate=this.maxDate,this.todate=this.minDate}createForm(){this.angForm=this.fb.group({FROM:["",[a.kI.required]],BRANCH_NAME:[""],Customer_Select_Option:["0"]})}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),n={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(n).subscribe(l=>{l.List.length>1?(this.BRANCH=!0,this.showBranch=!0,l.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE),setTimeout(()=>{this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()},100)})}onFocus(e){e.open()}onValueChange(e){this.maxDatet=new Date,this.maxDatet.setDate(this.maxDatet.getDate())}loadData(){this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);const n=this.angForm.value;let l="",s=this.Tabledata.filter(_=>1==_.checked);if(0!=n.Customer_Select_Option)for(let _=0;_<=s.length-1;_++)l+=s[_].CODE;else l="0",s.push(l);if(0!=s.length){let _={SP_NAME:"Sel_DBDailySales",PARAM:o.COMPANY_ID+","+this.selectedBrach+","+l+","+b(this.fromdate,"YYYY-MM-DD").format("YYYYMMDD")};this.angForm.valid?this._AppComponentService.findAll(_).subscribe(c=>{this.showtable=!1,this.showtable1=!0,this.Tabledata1=c.List,this.tempdata=c.List,this.isLoading=!1}):(this.isLoading=!1,u().fire("Warning","Please fill All Fields","info"))}else u().fire("Warning","Please Select Customer","info")}ngAfterViewInit(){this.init(),document.querySelector("smart-table"),this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata1=this.tempdata.filter(o=>Object.values(o).some(l=>"string"==typeof l?l.toLowerCase().includes(e):"number"==typeof l&&l.toString().includes(e)))}init(){}handleClick(e,o){this.table.exportData(o,"table")}check(e){this.cdate=b(this.fromdate,"YYYY-MM-DD").format("DD/MM/YYYY"),this.pdate=b(this.todate,"YYYY-MM-DD").format("DD/MM/YYYY");let o=localStorage.getItem("user"),l={CODE:JSON.parse(o).COMPANY_ID};"0"==e?(this.showtable=!1,this.showtable1=!1):this._AppComponentService.customerList(l).subscribe(s=>{this.showtable=!0,this.showtable1=!1,this.Tabledata=s.List;for(let _=0;_<this.Tabledata.length-1;_++)this.Tabledata[_].checked=!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z._),t.Y36(a.qu),t.Y36(f.eN),t.Y36(x.F0),t.Y36(Jt),t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-daily-sales-data"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Ut,5),t.Gf(Yt,5),t.Gf(kt,5,F.ac)),2&e){let n;t.iGM(n=t.CRH())&&(o.fdateInput=n.first),t.iGM(n=t.CRH())&&(o.FROM=n.first),t.iGM(n=t.CRH())&&(o.table=n.first)}},decls:4,vars:7,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],["class","col-sm",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","input-group"],[1,"border-lable-flt"],["type","text","placeholder","dd/mm/yyyy","name","fdate","id","fdate","bsDatepicker","","formControlName","FROM","required","",1,"form-control",2,"max-width","100px",3,"bsConfig","ngModel","maxDate","ngModelChange"],["fdateInput",""],["class","form-group form-primary form-static-label","class","alert alert-danger",4,"ngIf"],[1,"col-sm-4"],[1,"form-check","form-check-inline"],["type","radio","name","Customer_Select_Option","id","inlineRadio1","value","0","formControlName","Customer_Select_Option",1,"form-check-input",3,"change"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","Customer_Select_Option","id","inlineRadio2","value","1","formControlName","Customer_Select_Option",1,"form-check-input",3,"change"],["for","inlineRadio2",1,"form-check-label"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"form-group","form-primary","form-static-label"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact"],[2,"position","sticky","top","0","text-align","center"],[1,"td_right"],[1,"td_left"],[4,"ngFor","ngForOf"],["type","checkbox","id","indexOfelement",3,"value","ngModel","ngModelChange"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],["colspan","12"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,ee,41,14,"div",3)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(3,ne,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(5,G,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1))},dependencies:[d.mk,d.sg,d.O5,q.Np,q.Y5,m.w9,m.jq,a._Y,a.Fj,a.Wl,a._,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On,d.uU]}),i})(),oe=(()=>{class i{constructor(e){this.http=e,this.url=v.N.base_url}findAll(e){return this.http.post(this.url+"/monthlysalesandtarget/monthlysalesandtargetData",e).pipe((0,A.K)(this.handleError))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const le=["YEAR_NAME"],re=["table"];function ae(i,r){1&i&&(t.TgZ(0,"div",12)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",13),t._uU(4," * "),t.qZA()()())}function se(i,r){if(1&i&&(t.TgZ(0,"ng-option",24),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function _e(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",14)(2,"span",15)(3,"ng-select",22,23),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.selectedBrach=n)})("focus",function(){t.CHM(e);const n=t.MAs(4),l=t.oxw(2);return t.KtG(l.onFocus(n))}),t.YNc(5,se,2,2,"ng-option",18),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function ce(i,r){if(1&i&&(t.TgZ(0,"ng-option",24),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}const K=function(i){return{"fa-spin fa-spinner":i}};function de(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"h5"),t._uU(3,"Monthly Sales And Target"),t.qZA()(),t.TgZ(4,"form",8)(5,"div",9)(6,"div",10),t.YNc(7,ae,5,0,"div",11),t.YNc(8,_e,6,4,"div",11),t.TgZ(9,"div",12)(10,"label"),t._uU(11,"Select Finacial year "),t.TgZ(12,"sub",13),t._uU(13," * "),t.qZA()()(),t.TgZ(14,"div",12)(15,"div",14)(16,"span",15)(17,"ng-select",16,17),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedYear=n)})("focus",function(){t.CHM(e);const n=t.MAs(18),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(19,ce,2,2,"ng-option",18),t.qZA()()()(),t.TgZ(20,"div",19)(21,"button",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadData())}),t._uU(22,"Go "),t._UZ(23,"i",21),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(8,K,e.isLoading))}}const R=function(i){return{"show-filter-options":i}};function ue(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"th",45),t._uU(1),t.TgZ(2,"div",36)(3,"div",37),t.NdJ("click",function(){const l=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.toggleFilter(l.VALUE))}),t._UZ(4,"span",38),t.qZA(),t.TgZ(5,"div",39)(6,"div",40),t.NdJ("click",function(){const l=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.applyFilter(l.VALUE,"Option 1"))}),t._uU(7,"Filter"),t.qZA(),t.TgZ(8,"div",41)(9,"input",42),t.NdJ("blur",function(){const l=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.toggleFilterInput(l.VALUE))}),t.qZA()()()()()}if(2&i){const e=r.$implicit,o=t.oxw(3);t.xp6(1),t.hij(" ",e.VALUE," "),t.xp6(4),t.Q6J("ngClass",t.VKq(4,R,o.isFilterOpen[e.VALUE])),t.xp6(3),t.ekj("show-input",o.isFilterInputOpen[e.VALUE])}}function pe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"th",35),t._uU(2,"Sr. No. "),t.TgZ(3,"div",36)(4,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("srno"))}),t._UZ(5,"span",38),t.qZA(),t.TgZ(6,"div",39)(7,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("srno","Option 1"))}),t._uU(8,"Filter"),t.qZA(),t.TgZ(9,"div",41)(10,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("srno"))}),t.qZA()()()()(),t.TgZ(11,"th",43),t._uU(12,"Month "),t.TgZ(13,"div",36)(14,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("Month"))}),t._UZ(15,"span",38),t.qZA(),t.TgZ(16,"div",39)(17,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("Month","Option 1"))}),t._uU(18,"Filter"),t.qZA(),t.TgZ(19,"div",41)(20,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("Month"))}),t.qZA()()()()(),t.YNc(21,ue,10,6,"th",44),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(6),t.Q6J("ngClass",t.VKq(7,R,e.isFilterOpen.srno)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.srno),t.xp6(7),t.Q6J("ngClass",t.VKq(9,R,e.isFilterOpen.Month)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Month),t.xp6(2),t.Q6J("ngForOf",e.Headers)}}function ge(i,r){if(1&i&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij("",e??0," ")}}function he(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",35),t._uU(2),t.qZA(),t.TgZ(3,"td",43),t._uU(4),t.qZA(),t.YNc(5,ge,2,1,"td",47),t.qZA()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e[0]),t.xp6(2),t.Oqu(e[1]),t.xp6(1),t.Q6J("ngForOf",e.slice(2))}}function me(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,he,6,3,"tr",46),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function fe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",6)(5,"div",9)(6,"table",29)(7,"thead",30),t._UZ(8,"tr"),t.TgZ(9,"th",31)(10,"div",32)(11,"input",33),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.searchQuery=n)})("input",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.filterData())}),t.qZA()()(),t.YNc(12,pe,22,11,"tr",34),t.qZA(),t.YNc(13,me,2,1,"tbody",34),t.qZA()()()()()()()}if(2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(1),t.Q6J("ngIf",0!=e.Headers.length),t.xp6(1),t.Q6J("ngIf",0!=e.Tabledata.length)}}function Ce(i,r){if(1&i&&(t.TgZ(0,"div",49)(1,"div",50)(2,"div",6)(3,"div",51)(4,"div",52),t._UZ(5,"canvas",53),t.qZA()()()()()),2&i){const e=t.oxw();t.xp6(5),t.Q6J("datasets",e.datasets)("labels",e.labels)("options",e.options)}}const ve=function(i){return{"d-flex justify-content-center":i}};let Ae=(()=>{class i{toggleFilter(e){this.isFilterOpen[e]=!this.isFilterOpen[e],this.isFilterInputOpen[e]=!1}applyFilter(e,o){}toggleFilterInput(e){this.isFilterInputOpen[e]=!this.isFilterInputOpen[e]}constructor(e,o,n,l,s){this._AppComponentService=e,this._monthlysalesservice=o,this.fb=n,this.http=l,this.router=s,this.branch=[],this.finyear=[],this.Headers=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.searchQuery="",this.Keyarray=[],this.isFilterOpen={},this.isFilterInputOpen={},this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(_,c){const g=c;g.query=JSON.stringify(c.query),new window.Smart.Ajax({url:v.N.base_url+"/companyList",dataSourceType:"json",data:g},p=>{_({dataSource:p.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(_){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(_){}}],this.Tabledata=[]}onFocus(e){e.open()}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",a.kI.required]})}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),n={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(n).subscribe(l=>{l.List.length>1?(this.BRANCH=!0,this.showBranch=!0,l.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(n).subscribe(l=>{this.finyear=l.List,this.selectedYear=this.finyear[0].DATEVALUE})}ngAfterViewInit(){this.renderer.selectRootElement(this.fdateInput.nativeElement).focus(),document.querySelector("smart-table"),this.YEAR_NAME&&this.YEAR_NAME.focus()}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(l=>"string"==typeof l?l.toLowerCase().includes(e):"number"==typeof l&&l.toString().includes(e)))}init(){}handleClick(e,o){this.table.exportData(o,"table")}loadData(){this.Tabledata=[],this.Keyarray=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._monthlysalesservice.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID}).subscribe(_=>{this.showtable=!0;let c=[],C=[],p=[],N=[];if(0!=_.List.length){this.Headers=_.Headers;for(let O=0;O<=_.Headers.length-1;O++){const I=Object.values(_.Headers[O]);c.push(I)}c.pop(),c.pop(),c.splice(0,1),c.splice(0,1);for(let O=0;O<=_.List.length-1;O++){const I=Object.values(_.List[O]);this.Keyarray.push(I)}this.Tabledata=this.Keyarray,this.isLoading=!1,this.labels=c,this.datasets=[{fill:!0,lineTension:.5,backgroundColor:"rgba(85, 110, 230, 0.2)",borderColor:"#556ee6",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#556ee6",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"#556ee6",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:C},{fill:!0,lineTension:.5,backgroundColor:"rgba(235, 239, 242, 0.2)",borderColor:"#34c38f",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#34c38f",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"#34c38f",pointHoverBorderColor:"#000",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:p},{fill:!0,lineTension:.5,backgroundColor:"rgba(52, 195, 143, 0.8)",borderColor:"#ebeff2",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#ebeff2",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"#ebeff2",pointHoverBorderColor:"#eef0f2",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:N}],this.options={defaultFontColor:"#8791af",responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{color:"rgba(166, 176, 207, 0.1)"}}],yAxes:[{ticks:{max:100,min:20,stepSize:10},gridLines:{color:"rgba(166, 176, 207, 0.1)"}}]}}}else this.isLoading=!1,u().fire("Warning","No Data Found","info")}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?u().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?u().fire("Warning","Please select branch","info"):null==this.selectedYear&&u().fire("Warning","Please select financial year","info"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z._),t.Y36(oe),t.Y36(a.qu),t.Y36(f.eN),t.Y36(x.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-monthly-sales-and-target"]],viewQuery:function(e,o){if(1&e&&(t.Gf(le,5),t.Gf(re,5,F.ac)),2&e){let n;t.iGM(n=t.CRH())&&(o.YEAR_NAME=n.first),t.iGM(n=t.CRH())&&(o.table=n.first)}},decls:6,vars:9,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],["class","row","style","margin: 3%;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","autofocus","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center","width","max-content"],["colspan","18"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[4,"ngIf"],[1,"td_right"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"],[1,"td_left"],["scope","col","style","width: max-content;","style","text-align: right;",4,"ngFor","ngForOf"],["scope","col",2,"text-align","right"],[4,"ngFor","ngForOf"],["style","text-align: right;",4,"ngFor","ngForOf"],[2,"text-align","right"],[1,"row",2,"margin","3%"],[1,"col-lg"],[1,"card-body"],[1,"chartjs-chart"],["baseChart","","height","300","chartType","line",3,"datasets","labels","options"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,de,24,10,"div",3),t.YNc(4,fe,14,3,"div",4),t.YNc(5,Ce,6,3,"div",5)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(5,ve,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(7,K,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,U.jh,m.w9,m.jq,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On]}),i})(),Te=(()=>{class i{constructor(e){this.http=e,this.url=v.N.base_url}findAll(e){return this.http.post(this.url+"/customerwiseplanveactualsales/CustomerwiseplanveactualsalesData/",e).pipe((0,A.K)(this.handleError))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const xe=["YEAR_NAME"],be=["table"],Ze=["class","-actual-sale"];function Me(i,r){1&i&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4,"* "),t.qZA()()())}function ye(i,r){if(1&i&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function Ne(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",23,24),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.selectedBrach=n)})("focus",function(){t.CHM(e);const n=t.MAs(4),l=t.oxw(2);return t.KtG(l.onFocus(n))}),t.YNc(5,ye,2,2,"ng-option",17),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function Fe(i,r){if(1&i&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}function De(i,r){if(1&i&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DateDesc,"")}}const P=function(i){return{"fa-spin fa-spinner":i}};function Oe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Customer wise plan vs actual sale"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,Me,5,0,"div",10),t.YNc(8,Ne,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Finacial year"),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedYear=n)})("focus",function(){t.CHM(e);const n=t.MAs(18),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(19,Fe,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",11)(21,"label"),t._uU(22,"Select Month "),t.TgZ(23,"sub",12),t._uU(24,"* "),t.qZA()()(),t.TgZ(25,"div",11)(26,"div",13)(27,"span",14)(28,"ng-select",18,19),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedMonth=n)})("focus",function(){t.CHM(e);const n=t.MAs(29),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(30,De,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(31,"div",20)(32,"button",21),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadData())}),t._uU(33,"Go "),t._UZ(34,"i",22),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(9),t.Q6J("ngModel",e.selectedMonth)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.month),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(11,P,e.isLoading))}}function qe(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",46),t._uU(2),t.qZA(),t.TgZ(3,"td",43),t._uU(4),t.qZA(),t.TgZ(5,"td",43),t._uU(6),t.qZA(),t.TgZ(7,"td",43),t._uU(8),t.qZA(),t.TgZ(9,"td",43),t._uU(10),t.qZA(),t.TgZ(11,"td",43),t._uU(12),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.AC_NAME),t.xp6(2),t.Oqu(e.VA_PERCENT),t.xp6(2),t.Oqu(e.SCH_QTY),t.xp6(2),t.Oqu(e.SALES_QTY),t.xp6(2),t.Oqu(e.DIFF_QTY),t.xp6(2),t.Oqu(e.VA_EFFECT)}}function Ee(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,qe,13,6,"tr",45),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function Se(i,r){1&i&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2,"No Data"),t.qZA()())}const E=function(i){return{"show-filter-options":i}};function we(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",5)(5,"div",8)(6,"table",30)(7,"thead",31),t._UZ(8,"tr"),t.TgZ(9,"th",32)(10,"div",33)(11,"input",34),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.searchQuery=n)})("input",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",35),t._uU(14,"Customer Name "),t.TgZ(15,"div",36)(16,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("CustomerName"))}),t._UZ(17,"span",38),t.qZA(),t.TgZ(18,"div",39)(19,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("CustomerName","Option 1"))}),t._uU(20,"Filter"),t.qZA(),t.TgZ(21,"div",41)(22,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("CustomerName"))}),t.qZA()()()()(),t.TgZ(23,"th",43),t._uU(24,"VA % "),t.TgZ(25,"div",36)(26,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("VA%"))}),t._UZ(27,"span",38),t.qZA(),t.TgZ(28,"div",39)(29,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("VA%","Option 1"))}),t._uU(30,"Filter"),t.qZA(),t.TgZ(31,"div",41)(32,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("VA%"))}),t.qZA()()()()(),t.TgZ(33,"th",43),t._uU(34,"Planned Sale "),t.TgZ(35,"div",36)(36,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("PlannedSale"))}),t._UZ(37,"span",38),t.qZA(),t.TgZ(38,"div",39)(39,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("PlannedSale","Option 1"))}),t._uU(40,"Filter"),t.qZA(),t.TgZ(41,"div",41)(42,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("PlannedSale"))}),t.qZA()()()()(),t.TgZ(43,"th",43),t._uU(44,"Actual Sale "),t.TgZ(45,"div",36)(46,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("ActualSale"))}),t._UZ(47,"span",38),t.qZA(),t.TgZ(48,"div",39)(49,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("ActualSale","Option 1"))}),t._uU(50,"Filter"),t.qZA(),t.TgZ(51,"div",41)(52,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("ActualSale"))}),t.qZA()()()()(),t.TgZ(53,"th",43),t._uU(54,"Difference "),t.TgZ(55,"div",36)(56,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Difference"))}),t._UZ(57,"span",38),t.qZA(),t.TgZ(58,"div",39)(59,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Difference","Option 1"))}),t._uU(60,"Filter"),t.qZA(),t.TgZ(61,"div",41)(62,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Difference"))}),t.qZA()()()()(),t.TgZ(63,"th",43),t._uU(64,"VA Effect "),t.TgZ(65,"div",36)(66,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("VAEffect"))}),t._UZ(67,"span",38),t.qZA(),t.TgZ(68,"div",39)(69,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("VAEffect","Option 1"))}),t._uU(70,"Filter"),t.qZA(),t.TgZ(71,"div",41)(72,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("VAEffect"))}),t.qZA()()()()()()(),t.YNc(73,Ee,2,1,"tbody",44),t.YNc(74,Se,3,0,"tbody",44),t.qZA()()()()()()()}if(2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(7),t.Q6J("ngClass",t.VKq(21,E,e.isFilterOpen.CustomerName)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.CustomerName),t.xp6(7),t.Q6J("ngClass",t.VKq(23,E,e.isFilterOpen["VA%"])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["VA%"]),t.xp6(7),t.Q6J("ngClass",t.VKq(25,E,e.isFilterOpen.PlannedSale)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.PlannedSale),t.xp6(7),t.Q6J("ngClass",t.VKq(27,E,e.isFilterOpen.ActualSale)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.ActualSale),t.xp6(7),t.Q6J("ngClass",t.VKq(29,E,e.isFilterOpen.Difference)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Difference),t.xp6(7),t.Q6J("ngClass",t.VKq(31,E,e.isFilterOpen.VAEffect)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.VAEffect),t.xp6(2),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}const Re=function(i){return{"d-flex justify-content-center":i}};let Ie=(()=>{class i{toggleFilter(e){this.isFilterOpen[e]=!this.isFilterOpen[e],this.isFilterInputOpen[e]=!1}applyFilter(e,o){}toggleFilterInput(e){this.isFilterInputOpen[e]=!this.isFilterInputOpen[e]}constructor(e,o,n,l,s){this._AppComponentService=e,this._CustomerService=o,this.fb=n,this.http=l,this.router=s,this.branch=[],this.Tabledata=[],this.finyear=[],this.month=[],this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.showBranch=!0,this.searchQuery="",this.Keyarray=[],this.isFilterOpen={},this.isFilterInputOpen={},this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(_,c){const g=c;g.query=JSON.stringify(c.query),new window.Smart.Ajax({url:v.N.base_url+"/companyList",dataSourceType:"json",data:g},p=>{_({dataSource:p.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(_){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(_){}}],this.tempdata=[]}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",a.kI.required],MONTH_NAME:["",a.kI.required]})}onFocus(e){e.open()}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),n={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(n).subscribe(l=>{l.List.length>1?(this.BRANCH=!0,this.showBranch=!0,l.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=l.List,this.selectedBrach=this.branch[0].CODE,this.isLoading1=!1):(this.BRANCH=!1,this.showBranch=!1,this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(n).subscribe(l=>{this.finyear=l.List,this.selectedYear=this.finyear[0].DATEVALUE}),this._AppComponentService.month(n).subscribe(l=>{this.month=l.List,this.selectedMonth=this.month[0].DateValue})}ngAfterViewInit(){this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.tempdata.filter(o=>Object.values(o).some(l=>"string"==typeof l?l.toLowerCase().includes(e):"number"==typeof l&&l.toString().includes(e)))}init(){}handleClick(e,o){this.table.exportData(o,"table")}loadData(){this.isLoading=!0,this.Tabledata=[];let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._CustomerService.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID}).subscribe(s=>{this.showtable=!0,this.Tabledata=s.List,this.tempdata=s.List,this.isLoading=!1}):(this.isLoading=!1,u().fire("Warning","Please fill All Details Properly","info"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z._),t.Y36(Te),t.Y36(a.qu),t.Y36(f.eN),t.Y36(x.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customer-wise-plan-vs",8,"-actual-sale"]],viewQuery:function(e,o){if(1&e&&(t.Gf(xe,5),t.Gf(be,5,F.ac)),2&e){let n;t.iGM(n=t.CRH())&&(o.YEAR_NAME=n.first),t.iGM(n=t.CRH())&&(o.table=n.first)}},attrs:Ze,decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","2%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","autofocus","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],["id","MONTH_NAME","bindValue","DateValue","bindLabel","DateDesc","required","","formControlName","MONTH_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["MONTH_NAME",""],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","6"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_left",2,"width","20%"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"],[1,"td_right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td_left"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,Oe,35,13,"div",3),t.YNc(4,we,75,33,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,Re,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,P,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,m.w9,m.jq,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On]}),i})(),Je=(()=>{class i{constructor(e){this.http=e,this.url=v.N.base_url}findAll(e){return this.http.post(this.url+"/monthly-value-addition-target-vs-actual/MonthlyValueAdditionTargetVsActualData",e).pipe((0,A.K)(this.handleError))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ue=["YEAR_NAME"],Ye=["table"];function ke(i,r){1&i&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4," * "),t.qZA()()())}function Le(i,r){if(1&i&&(t.TgZ(0,"ng-option",23),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function He(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",21,22),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.selectedBrach=n)})("focus",function(){t.CHM(e);const n=t.MAs(4),l=t.oxw(2);return t.KtG(l.onFocus(n))}),t.YNc(5,Le,2,2,"ng-option",17),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function Ge(i,r){if(1&i&&(t.TgZ(0,"ng-option",23),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}const Q=function(i){return{"fa-spin fa-spinner":i}};function Ke(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Monthly Value Addition Target V/s Actual "),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,ke,5,0,"div",10),t.YNc(8,He,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Financial Year "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedYear=n)})("focus",function(){t.CHM(e);const n=t.MAs(18),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(19,Ge,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",18)(21,"button",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadData())}),t._uU(22,"Go "),t._UZ(23,"i",20),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(8,Q,e.isLoading))}}const V=function(i){return{"show-filter-options":i}};function Pe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"th",43),t._uU(1),t.TgZ(2,"div",35)(3,"div",36),t.NdJ("click",function(){const l=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.toggleFilter(l.VALUE))}),t._UZ(4,"span",37),t.qZA(),t.TgZ(5,"div",38)(6,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.applyFilter(n.column,"Option 1"))}),t._uU(7,"Filter"),t.qZA(),t.TgZ(8,"div",40)(9,"input",41),t.NdJ("blur",function(){const l=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.toggleFilterInput(l.VALUE))}),t.qZA()()()()()}if(2&i){const e=r.$implicit,o=t.oxw(3);t.xp6(1),t.hij("",e.VALUE," "),t.xp6(4),t.Q6J("ngClass",t.VKq(4,V,o.isFilterOpen[e.VALUE])),t.xp6(3),t.ekj("show-input",o.isFilterInputOpen[e.VALUE])}}function Qe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"th",34),t._uU(2,"Month "),t.TgZ(3,"div",35)(4,"div",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter(n.column))}),t._UZ(5,"span",37),t.qZA(),t.TgZ(6,"div",38)(7,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter(n.column,"Option 1"))}),t._uU(8,"Filter"),t.qZA(),t.TgZ(9,"div",40)(10,"input",41),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput(n.column))}),t.qZA()()()()(),t.YNc(11,Pe,10,6,"th",42),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(6),t.Q6J("ngClass",t.VKq(4,V,e.isFilterOpen[e.column])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen[e.column]),t.xp6(2),t.Q6J("ngForOf",e.Headers)}}function Ve(i,r){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Oqu(e??0)}}function Be(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",34),t._uU(2),t.qZA(),t.YNc(3,Ve,2,1,"td",45),t.qZA()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e[0]),t.xp6(1),t.Q6J("ngForOf",e.slice(1))}}function je(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Be,4,2,"tr",44),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function ze(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",5)(5,"div",8)(6,"table",28)(7,"thead",29),t._UZ(8,"tr"),t.TgZ(9,"th",30)(10,"div",31)(11,"input",32),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.searchQuery=n)})("input",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.filterData())}),t.qZA()()(),t.YNc(12,Qe,12,6,"tr",33),t.qZA(),t.YNc(13,je,2,1,"tbody",33),t.qZA()()()()()()()}if(2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(1),t.Q6J("ngIf",0!=e.Headers.length),t.xp6(1),t.Q6J("ngIf",0!=e.Tabledata.length)}}const We=function(i){return{"d-flex justify-content-center":i}};let $e=(()=>{class i{toggleFilter(e){this.isFilterOpen[e]=!this.isFilterOpen[e],this.isFilterInputOpen[e]=!1}applyFilter(e,o){}toggleFilterInput(e){this.isFilterInputOpen[e]=!this.isFilterInputOpen[e]}constructor(e,o,n,l,s){this._monthlayvalueadditionservice=e,this._AppComponentService=o,this.fb=n,this.http=l,this.router=s,this.branch=[],this.finyear=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.searchQuery="",this.Keyarray=[],this.isFilterOpen={},this.isFilterInputOpen={},this.currentlyOpenInputBox=null,this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(_,c){const g=c;g.query=JSON.stringify(c.query),new window.Smart.Ajax({url:v.N.base_url+"/companyList",dataSourceType:"json",data:g},p=>{_({dataSource:p.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(_){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(_){}}],this.Headers=[],this.Tabledata=[]}onFocus(e){e.open()}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",a.kI.required]})}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),n={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(n).subscribe(l=>{l.List.length>1?(this.BRANCH=!0,this.showBranch=!0,l.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(n).subscribe(l=>{this.finyear=l.List,this.selectedYear=this.finyear[0].DATEVALUE})}ngAfterViewInit(){this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(l=>"string"==typeof l?l.toLowerCase().includes(e):"number"==typeof l&&l.toString().includes(e)))}init(){}handleClick(e,o){this.table.exportData(o,"table")}loadData(){this.Tabledata=[],this.Keyarray=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._monthlayvalueadditionservice.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID}).subscribe(_=>{if(this.showtable=!0,0!=_.List.length){this.Headers=_.Headers;for(let g=0;g<=_.List.length-1;g++){const C=Object.values(_.List[g]);C.shift(),this.Keyarray.push(C)}let c={};this.Tabledata.unshift(c),this.Tabledata.unshift(c),this.Tabledata=this.Keyarray,this.Tabledata=this.Keyarray,this.isLoading=!1}else this.isLoading=!1,u().fire("Warning","No Data Found","info")}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?u().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?u().fire("Warning","Please select branch","info"):null==this.selectedYear&&u().fire("Warning","Please select financial year","info"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Je),t.Y36(Z._),t.Y36(a.qu),t.Y36(f.eN),t.Y36(x.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-monthly-value-addition-target-vs-actual"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Ue,5),t.Gf(Ye,5,F.ac)),2&e){let n;t.iGM(n=t.CRH())&&(o.YEAR_NAME=n.first),t.iGM(n=t.CRH())&&(o.table=n.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","autofocus","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-1"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","17"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[4,"ngIf"],[1,"td_left"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"],["scope","col","style","text-align: right;",4,"ngFor","ngForOf"],["scope","col",2,"text-align","right"],[4,"ngFor","ngForOf"],["style","text-align: right;",4,"ngFor","ngForOf"],[2,"text-align","right"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,Ke,24,10,"div",3),t.YNc(4,ze,14,3,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,We,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,Q,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,m.w9,m.jq,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On]}),i})(),Xe=(()=>{class i{constructor(e){this.http=e,this.url=v.N.base_url}findAll(e){return this.http.post(this.url+"/scheduleadherenceforthemonth/scheduleadherenceforthemonthData/",e).pipe((0,A.K)(this.handleError))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const tn=["YEAR_NAME"],en=["table"];function nn(i,r){1&i&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4," * "),t.qZA()()())}function on(i,r){if(1&i&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function ln(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",23,24),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.selectedBrach=n)})("focus",function(){t.CHM(e);const n=t.MAs(4),l=t.oxw(2);return t.KtG(l.onFocus(n))}),t.YNc(5,on,2,2,"ng-option",17),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function rn(i,r){if(1&i&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}function an(i,r){if(1&i&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DateDesc,"")}}const B=function(i){return{"fa-spin fa-spinner":i}};function sn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Schedule Adherence For The Month"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,nn,5,0,"div",10),t.YNc(8,ln,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Finacial year "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedYear=n)})("focus",function(){t.CHM(e);const n=t.MAs(18),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(19,rn,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",11)(21,"label"),t._uU(22,"Select Month "),t.TgZ(23,"sub",12),t._uU(24,"* "),t.qZA()()(),t.TgZ(25,"div",11)(26,"div",13)(27,"span",14)(28,"ng-select",18,19),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedMonth=n)})("focus",function(){t.CHM(e);const n=t.MAs(29),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(30,an,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(31,"div",20)(32,"button",21),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadData())}),t._uU(33,"Go "),t._UZ(34,"i",22),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(9),t.Q6J("ngModel",e.selectedMonth)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.month),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(11,B,e.isLoading))}}function _n(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",46),t._uU(2),t.qZA(),t.TgZ(3,"td",47),t._uU(4),t.qZA(),t.TgZ(5,"td",46),t._uU(6),t.qZA(),t.TgZ(7,"td",46),t._uU(8),t.qZA(),t.TgZ(9,"td",46),t._uU(10),t.qZA()()),2&i){const e=r.$implicit,o=r.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.AC_NAME),t.xp6(2),t.Oqu(e.SCH_QTY),t.xp6(2),t.Oqu(e.SALE_QTY),t.xp6(2),t.Oqu(e.ADHERENCE)}}function cn(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,_n,11,5,"tr",45),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function dn(i,r){1&i&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2,"No Data"),t.qZA()())}const S=function(i){return{"show-filter-options":i}};function un(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",5)(5,"div",8)(6,"table",30)(7,"thead",31),t._UZ(8,"tr"),t.TgZ(9,"th",32)(10,"div",33)(11,"input",34),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.searchQuery=n)})("input",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",35),t._uU(14,"Sr.No. "),t.TgZ(15,"div",36)(16,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("SrNo"))}),t._UZ(17,"span",38),t.qZA(),t.TgZ(18,"div",39)(19,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("SrNo","Option 1"))}),t._uU(20,"Filter"),t.qZA(),t.TgZ(21,"div",41)(22,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("SrNo"))}),t.qZA()()()()(),t.TgZ(23,"th",43),t._uU(24,"Customer "),t.TgZ(25,"div",36)(26,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Customer"))}),t._UZ(27,"span",38),t.qZA(),t.TgZ(28,"div",39)(29,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Customer","Option 1"))}),t._uU(30,"Filter"),t.qZA(),t.TgZ(31,"div",41)(32,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Customer"))}),t.qZA()()()()(),t.TgZ(33,"th",35),t._uU(34,"Sch. Qty "),t.TgZ(35,"div",36)(36,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Sch.Qty"))}),t._UZ(37,"span",38),t.qZA(),t.TgZ(38,"div",39)(39,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Sch.Qty","Option 1"))}),t._uU(40,"Filter"),t.qZA(),t.TgZ(41,"div",41)(42,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Sch.Qty"))}),t.qZA()()()()(),t.TgZ(43,"th",35),t._uU(44,"Disp. Qty "),t.TgZ(45,"div",36)(46,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Disp.Qty"))}),t._UZ(47,"span",38),t.qZA(),t.TgZ(48,"div",39)(49,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Disp.Qty","Option 1"))}),t._uU(50,"Filter"),t.qZA(),t.TgZ(51,"div",41)(52,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Disp.Qty"))}),t.qZA()()()()(),t.TgZ(53,"th",35),t._uU(54,"Adherence "),t.TgZ(55,"div",36)(56,"div",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Adherence"))}),t._UZ(57,"span",38),t.qZA(),t.TgZ(58,"div",39)(59,"div",40),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Adherence","Option 1"))}),t._uU(60,"Filter"),t.qZA(),t.TgZ(61,"div",41)(62,"input",42),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Adherence"))}),t.qZA()()()()()()(),t.YNc(63,cn,2,1,"tbody",44),t.YNc(64,dn,3,0,"tbody",44),t.qZA()()()()()()()}if(2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(7),t.Q6J("ngClass",t.VKq(18,S,e.isFilterOpen.SrNo)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.SrNo),t.xp6(7),t.Q6J("ngClass",t.VKq(20,S,e.isFilterOpen.Customer)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Customer),t.xp6(7),t.Q6J("ngClass",t.VKq(22,S,e.isFilterOpen["Sch.Qty"])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["Sch.Qty"]),t.xp6(7),t.Q6J("ngClass",t.VKq(24,S,e.isFilterOpen["Disp.Qty"])),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen["Disp.Qty"]),t.xp6(7),t.Q6J("ngClass",t.VKq(26,S,e.isFilterOpen.Adherence)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Adherence),t.xp6(2),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}const pn=function(i){return{"d-flex justify-content-center":i}};let gn=(()=>{class i{toggleFilter(e){this.isFilterOpen[e]=!this.isFilterOpen[e],this.isFilterInputOpen[e]=!1}applyFilter(e,o){}toggleFilterInput(e){this.isFilterInputOpen[e]=!this.isFilterInputOpen[e]}constructor(e,o,n,l,s){this._AppComponentService=e,this._scheduleadherenceservice=o,this.fb=n,this.http=l,this.router=s,this.branch=[],this.finyear=[],this.month=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.Keyarray=[],this.searchQuery="",this.isFilterOpen={},this.isFilterInputOpen={},this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(_,c){const g=c;g.query=JSON.stringify(c.query),new window.Smart.Ajax({url:v.N.base_url+"/companyList",dataSourceType:"json",data:g},p=>{_({dataSource:p.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(_){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(_){}}],this.tempdata=[],this.Tabledata=[]}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",a.kI.required],MONTH_NAME:["",a.kI.required]})}onFocus(e){e.open()}ngOnInit(){this.isLoading1=!0;let e=localStorage.getItem("user"),n={CODE:JSON.parse(e).COMPANY_ID};this.createForm(),this._AppComponentService.branchList(n).subscribe(l=>{l.List.length>1?(this.showBranch=!0,this.BRANCH=!0,l.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.showBranch=!1,this.BRANCH=!1,this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(n).subscribe(l=>{this.finyear=l.List,this.selectedYear=this.finyear[0].DATEVALUE}),this._AppComponentService.month(n).subscribe(l=>{this.month=l.List,this.selectedMonth=this.month[0].DateValue})}ngAfterViewInit(){this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.tempdata.filter(o=>Object.values(o).some(l=>"string"==typeof l?l.toLowerCase().includes(e):"number"==typeof l&&l.toString().includes(e)))}init(){}handleClick(e,o){this.table.exportData(o,"table")}loadData(){this.Tabledata=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._scheduleadherenceservice.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,MONTH:this.selectedMonth,CODE:o.COMPANY_ID}).subscribe(s=>{this.showtable=!0,0!=s.List.length?(this.Tabledata=s.List,this.tempdata=s.List,this.isLoading=!1):(this.Tabledata=s.List,this.isLoading=!1)}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?u().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?u().fire("Warning","Please select branch","info"):null==this.selectedYear&&u().fire("Warning","Please select financial year","info"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z._),t.Y36(Xe),t.Y36(a.qu),t.Y36(f.eN),t.Y36(x.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-schedule-adherence-for-the-month"]],viewQuery:function(e,o){if(1&e&&(t.Gf(tn,5),t.Gf(en,5,F.ac)),2&e){let n;t.iGM(n=t.CRH())&&(o.YEAR_NAME=n.first),t.iGM(n=t.CRH())&&(o.table=n.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"form-group","row","justify-content-md-center",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","autofocus","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],["id","MONTH_NAME","bindValue","DateValue","bindLabel","DateDesc","required","","formControlName","MONTH_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["MONTH_NAME",""],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","6"],[1,"search-container"],["type","text","placeholder","Search...",2,"float","left",3,"ngModel","ngModelChange","input"],["scope","col",1,"td_right"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"],["scope","col",1,"td_left"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td_right"],[1,"td_left"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,sn,35,13,"div",3),t.YNc(4,un,65,28,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,pn,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,B,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,m.w9,m.jq,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On]}),i})(),hn=(()=>{class i{constructor(e){this.http=e,this.url=v.N.base_url}findAll(e){return this.http.post(this.url+"/customer-cigradeperkgraterealization/customercigradeperkgraterealizationData",e).pipe((0,A.K)(this.handleError))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function mn(i,r){1&i&&(t.TgZ(0,"div",12)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",13),t._uU(4,"* "),t.qZA()()())}function fn(i,r){if(1&i&&(t.TgZ(0,"ng-option",32),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function Cn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",14)(2,"span",15)(3,"ng-select",30,31),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.selectedBrach=n)})("focus",function(){t.CHM(e);const n=t.MAs(4),l=t.oxw(2);return t.KtG(l.onFocus(n))}),t.YNc(5,fn,2,2,"ng-option",18),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function vn(i,r){if(1&i&&(t.TgZ(0,"ng-option",32),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}const j=function(i){return{"fa-spin fa-spinner":i}};function An(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Customer CI Grade Per Kg Rate Realization"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,mn,5,0,"div",10),t.YNc(8,Cn,6,4,"div",11),t.TgZ(9,"div",12)(10,"label"),t._uU(11,"Select Finacial Year "),t.TgZ(12,"sub",13),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",12)(15,"div",14)(16,"span",15)(17,"ng-select",16,17),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedYear=n)})("focus",function(){t.CHM(e);const n=t.MAs(18),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(19,vn,2,2,"ng-option",18),t.qZA()()()(),t.TgZ(20,"div",12)(21,"label"),t._uU(22,"Customer Type "),t.TgZ(23,"sub",13),t._uU(24," * "),t.qZA()()(),t.TgZ(25,"div",19)(26,"div",20),t._UZ(27,"input",21),t.TgZ(28,"label",22),t._uU(29,"Domestic"),t.qZA()(),t.TgZ(30,"div",20),t._UZ(31,"input",23),t.TgZ(32,"label",24),t._uU(33,"Export"),t.qZA()()()(),t.TgZ(34,"div",9)(35,"div",12)(36,"label"),t._uU(37,"Weight "),t.TgZ(38,"sub",13),t._uU(39," * "),t.qZA()()(),t.TgZ(40,"div",19)(41,"div",20),t._UZ(42,"input",25),t.TgZ(43,"label",22),t._uU(44,"Casting"),t.qZA()(),t.TgZ(45,"div",20),t._UZ(46,"input",26),t.TgZ(47,"label",24),t._uU(48,"Finished"),t.qZA()()(),t.TgZ(49,"div",27)(50,"button",28),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadData())}),t._uU(51,"Go "),t._UZ(52,"i",29),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(31),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(8,j,e.isLoading))}}function Tn(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",53),t._uU(2),t.qZA(),t.TgZ(3,"td",50),t._uU(4),t.qZA(),t.TgZ(5,"td",50),t._uU(6),t.qZA(),t.TgZ(7,"td",53),t._uU(8),t.qZA(),t.TgZ(9,"td",53),t._uU(10),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(null==e?null:e.AC_NAME),t.xp6(2),t.hij(" ",null==e?null:e.Q1_RATE,""),t.xp6(2),t.Oqu(null==e?null:e.Q2_RATE),t.xp6(2),t.Oqu(null==e?null:e.Q3_RATE),t.xp6(2),t.Oqu(null==e?null:e.Q4_RATE)}}function xn(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Tn,11,5,"tr",52),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function bn(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3,"No Data"),t.qZA()()())}const w=function(i){return{"show-filter-options":i}};function Zn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"div",5)(5,"div",8)(6,"table",37)(7,"thead",38),t._UZ(8,"tr"),t.TgZ(9,"th",39)(10,"div",40)(11,"input",41),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.searchQuery=n)})("input",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",42),t._uU(14,"Customer Name "),t.TgZ(15,"div",43)(16,"div",44),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("CustomerName"))}),t._UZ(17,"span",45),t.qZA(),t.TgZ(18,"div",46)(19,"div",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("CustomerName","Option 1"))}),t._uU(20,"Filter"),t.qZA(),t.TgZ(21,"div",48)(22,"input",49),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("CustomerName"))}),t.qZA()()()()(),t.TgZ(23,"th",50),t._uU(24,"Quarter 01 "),t.TgZ(25,"div",43)(26,"div",44),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Quarter01"))}),t._UZ(27,"span",45),t.qZA(),t.TgZ(28,"div",46)(29,"div",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Quarter01","Option 1"))}),t._uU(30,"Filter"),t.qZA(),t.TgZ(31,"div",48)(32,"input",49),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Quarter01"))}),t.qZA()()()()(),t.TgZ(33,"th",50),t._uU(34,"Quarter 02 "),t.TgZ(35,"div",43)(36,"div",44),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Quarter02"))}),t._UZ(37,"span",45),t.qZA(),t.TgZ(38,"div",46)(39,"div",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Quarter02","Option 1"))}),t._uU(40,"Filter"),t.qZA(),t.TgZ(41,"div",48)(42,"input",49),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Quarter02"))}),t.qZA()()()()(),t.TgZ(43,"th",50),t._uU(44,"Quarter 03 "),t.TgZ(45,"div",43)(46,"div",44),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Quarter03"))}),t._UZ(47,"span",45),t.qZA(),t.TgZ(48,"div",46)(49,"div",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Quarter03","Option 1"))}),t._uU(50,"Filter"),t.qZA(),t.TgZ(51,"div",48)(52,"input",49),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Quarter03"))}),t.qZA()()()()(),t.TgZ(53,"th",50),t._uU(54,"Quarter 04 "),t.TgZ(55,"div",43)(56,"div",44),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilter("Quarter04"))}),t._UZ(57,"span",45),t.qZA(),t.TgZ(58,"div",46)(59,"div",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.applyFilter("Quarter04","Option 1"))}),t._uU(60,"Filter"),t.qZA(),t.TgZ(61,"div",48)(62,"input",49),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleFilterInput("Quarter04"))}),t.qZA()()()()()()(),t.YNc(63,xn,2,1,"tbody",51),t.YNc(64,bn,4,0,"tbody",51),t.qZA()()()()()()()}if(2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(7),t.Q6J("ngClass",t.VKq(18,w,e.isFilterOpen.CustomerName)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.CustomerName),t.xp6(7),t.Q6J("ngClass",t.VKq(20,w,e.isFilterOpen.Quarter01)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Quarter01),t.xp6(7),t.Q6J("ngClass",t.VKq(22,w,e.isFilterOpen.Quarter02)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Quarter02),t.xp6(7),t.Q6J("ngClass",t.VKq(24,w,e.isFilterOpen.Quarter03)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Quarter03),t.xp6(7),t.Q6J("ngClass",t.VKq(26,w,e.isFilterOpen.Quarter04)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Quarter04),t.xp6(2),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}const Mn=function(i){return{"d-flex justify-content-center":i}};let yn=(()=>{class i{toggleFilter(e){this.isFilterOpen[e]=!this.isFilterOpen[e],this.isFilterInputOpen[e]=!1}applyFilter(e,o){}toggleFilterInput(e){this.isFilterInputOpen[e]=!this.isFilterInputOpen[e]}constructor(e,o,n,l,s){this._CustomerService=e,this._AppComponentService=o,this.fb=n,this.http=l,this.router=s,this.branch=[],this.finyear=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.Keyarray=[],this.searchQuery="",this.isFilterOpen={},this.isFilterInputOpen={},this.Tabledata=[],this.FooterData=[],this.tempdata=[]}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",a.kI.required],CUTOMER_TYPE:["0",a.kI.required],WEIGHT:["0",a.kI.required]})}onFocus(e){e.open()}ngAfterViewInit(){this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()}ngOnInit(){this.isLoading1=!0,this.createForm();let e=localStorage.getItem("user"),n={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(n).subscribe(l=>{l.List.length>1?(this.showBranch=!0,this.BRANCH=!0,l.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.showBranch=!1,this.BRANCH=!1,this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(n).subscribe(l=>{this.finyear=l.List,this.selectedYear=this.finyear[0].DATEVALUE})}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.tempdata.filter(o=>Object.values(o).some(l=>"string"==typeof l?l.toLowerCase().includes(e):"number"==typeof l&&l.toString().includes(e)))}loadData(){this.Tabledata=[],this.FooterData=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);const n=this.angForm.value;this.angForm.valid?this._CustomerService.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID,CUSTOMER_TYPE:n.CUTOMER_TYPE,WEIGHT:n.WEIGHT}).subscribe(s=>{this.showtable=!0,this.FooterData.push(s.List[s.List.length-1]),this.Tabledata=s.List,this.tempdata=s.List,this.Tabledata.pop(),this.isLoading=!1}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?u().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?u().fire("Warning","Please select branch","info"):null==this.selectedYear&&u().fire("Warning","Please select financial year","info"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(hn),t.Y36(Z._),t.Y36(a.qu),t.Y36(f.eN),t.Y36(x.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customer-ci-grade-per-kg-rate-realization"]],decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],["class","col-sm",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","autofocus","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-3"],[1,"form-check","form-check-inline"],["type","radio","name","CUTOMER_TYPE","id","inlineRadio1","value","0","formControlName","CUTOMER_TYPE",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","CUTOMER_TYPE","id","inlineRadio2","value","1","formControlName","CUTOMER_TYPE",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","radio","name","WEIGHT","id","inlineRadio1","value","0","formControlName","WEIGHT",1,"form-check-input"],["type","radio","name","WEIGHT","id","inlineRadio2","value","1","formControlName","WEIGHT",1,"form-check-input"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","6"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_left",2,"width","20%"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"],[1,"td_right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td_left"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,An,53,10,"div",3),t.YNc(4,Zn,65,28,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,Mn,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,j,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,m.w9,m.jq,a._Y,a.Fj,a._,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On]}),i})(),Nn=(()=>{class i{constructor(e){this.http=e,this.url=v.N.base_url}findAll(e){return this.http.post(this.url+"/enquiry-register/enquiryRegister/",e).pipe((0,A.K)(this.handleError))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Fn(i,r){1&i&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4," * "),t.qZA()()())}function Dn(i,r){if(1&i&&(t.TgZ(0,"ng-option",27),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function On(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",25,26),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.selectedBrach=n)})("focus",function(){t.CHM(e);const n=t.MAs(4),l=t.oxw(2);return t.KtG(l.onFocus(n))}),t.YNc(5,Dn,2,2,"ng-option",17),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function qn(i,r){if(1&i&&(t.TgZ(0,"ng-option",27),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}function En(i,r){if(1&i&&(t.TgZ(0,"ng-option",27),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DateDesc,"")}}function Sn(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",37),t._uU(2),t.qZA(),t.TgZ(3,"td",45),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",45),t._uU(8),t.qZA(),t.TgZ(9,"td",45),t._uU(10),t.qZA(),t.TgZ(11,"td",45),t._uU(12),t.qZA(),t.TgZ(13,"td",45),t._uU(14),t.qZA(),t.TgZ(15,"td",37),t._uU(16),t.qZA(),t.TgZ(17,"td",45),t._uU(18),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(null==e?null:e.SR_NO),t.xp6(2),t.hij(" ",null==e?null:e.TRAN_NO,""),t.xp6(2),t.Oqu(null==e?null:e.TRAN_DATE),t.xp6(2),t.Oqu(null==e?null:e.CUSTOMER_NAME),t.xp6(2),t.Oqu(null==e?null:e.QUOT_TRANNO),t.xp6(2),t.Oqu(null==e?null:e.MATERIAL_NAME),t.xp6(2),t.Oqu(null==e?null:e.PART_CODE),t.xp6(2),t.Oqu(null==e?null:e.QTY),t.xp6(2),t.Oqu(null==e?null:e.SHORT_NARRTN)}}function wn(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Sn,19,9,"tr",47),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function Rn(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3,"No Data"),t.qZA()()())}const y=function(i){return{"show-filter-options":i}};function In(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",4)(5,"div",8)(6,"table",32)(7,"thead",33),t._UZ(8,"tr"),t.TgZ(9,"th",34)(10,"div",35)(11,"input",36),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.searchQuery=n)})("input",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",37),t._uU(14,"Sr.No. "),t.TgZ(15,"div",38)(16,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("SrNo"))}),t._UZ(17,"span",40),t.qZA(),t.TgZ(18,"div",41)(19,"div",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("SrNo","Option 1"))}),t._uU(20,"Filter"),t.qZA(),t.TgZ(21,"div",43)(22,"input",44),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("SrNo"))}),t.qZA()()()()(),t.TgZ(23,"th",45),t._uU(24,"Enquiry Number "),t.TgZ(25,"div",38)(26,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("EnquiryNumber"))}),t._UZ(27,"span",40),t.qZA(),t.TgZ(28,"div",41)(29,"div",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("EnquiryNumber","Option 1"))}),t._uU(30,"Filter"),t.qZA(),t.TgZ(31,"div",43)(32,"input",44),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("EnquiryNumber"))}),t.qZA()()()()(),t.TgZ(33,"th"),t._uU(34,"Date "),t.TgZ(35,"div",38)(36,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("Date"))}),t._UZ(37,"span",40),t.qZA(),t.TgZ(38,"div",41)(39,"div",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("Date","Option 1"))}),t._uU(40,"Filter"),t.qZA(),t.TgZ(41,"div",43)(42,"input",44),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("Date"))}),t.qZA()()()()(),t.TgZ(43,"th",45),t._uU(44,"Customer "),t.TgZ(45,"div",38)(46,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("Customer"))}),t._UZ(47,"span",40),t.qZA(),t.TgZ(48,"div",41)(49,"div",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("Customer","Option 1"))}),t._uU(50,"Filter"),t.qZA(),t.TgZ(51,"div",43)(52,"input",44),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("Customer"))}),t.qZA()()()()(),t.TgZ(53,"th",45),t._uU(54,"RFQ.No./Ref. "),t.TgZ(55,"div",38)(56,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("RFQNoRef"))}),t._UZ(57,"span",40),t.qZA(),t.TgZ(58,"div",41)(59,"div",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("RFQNoRef","Option 1"))}),t._uU(60,"Filter"),t.qZA(),t.TgZ(61,"div",43)(62,"input",44),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("RFQNoRef"))}),t.qZA()()()()(),t.TgZ(63,"th",45),t._uU(64,"Material "),t.TgZ(65,"div",38)(66,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("Material"))}),t._UZ(67,"span",40),t.qZA(),t.TgZ(68,"div",41)(69,"div",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("Material","Option 1"))}),t._uU(70,"Filter"),t.qZA(),t.TgZ(71,"div",43)(72,"input",44),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("Material"))}),t.qZA()()()()(),t.TgZ(73,"th",45),t._uU(74,"Part Code "),t.TgZ(75,"div",38)(76,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("PartCode"))}),t._UZ(77,"span",40),t.qZA(),t.TgZ(78,"div",41)(79,"div",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("PartCode","Option 1"))}),t._uU(80,"Filter"),t.qZA(),t.TgZ(81,"div",43)(82,"input",44),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("PartCode"))}),t.qZA()()()()(),t.TgZ(83,"th",37),t._uU(84,"Oty "),t.TgZ(85,"div",38)(86,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("Oty"))}),t._UZ(87,"span",40),t.qZA(),t.TgZ(88,"div",41)(89,"div",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("Oty","Option 1"))}),t._uU(90,"Filter"),t.qZA(),t.TgZ(91,"div",43)(92,"input",44),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("Oty"))}),t.qZA()()()()(),t.TgZ(93,"th",45),t._uU(94,"Remark "),t.TgZ(95,"div",38)(96,"div",39),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilter("Remark"))}),t._UZ(97,"span",40),t.qZA(),t.TgZ(98,"div",41)(99,"div",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.applyFilter("Remark","Option 1"))}),t._uU(100,"Filter"),t.qZA(),t.TgZ(101,"div",43)(102,"input",44),t.NdJ("blur",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFilterInput("Remark"))}),t.qZA()()()()()()(),t.YNc(103,wn,2,1,"tbody",46),t.YNc(104,Rn,4,0,"tbody",46),t.qZA()()()()()()()}if(2&i){const e=t.oxw(2);t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(7),t.Q6J("ngClass",t.VKq(30,y,e.isFilterOpen.SrNo)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.SrNo),t.xp6(7),t.Q6J("ngClass",t.VKq(32,y,e.isFilterOpen.EnquiryNumber)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.EnquiryNumber),t.xp6(7),t.Q6J("ngClass",t.VKq(34,y,e.isFilterOpen.Date)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Date),t.xp6(7),t.Q6J("ngClass",t.VKq(36,y,e.isFilterOpen.Customer)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Customer),t.xp6(7),t.Q6J("ngClass",t.VKq(38,y,e.isFilterOpen.RFQNoRef)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.RFQNoRef),t.xp6(7),t.Q6J("ngClass",t.VKq(40,y,e.isFilterOpen.Material)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Material),t.xp6(7),t.Q6J("ngClass",t.VKq(42,y,e.isFilterOpen.PartCode)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.PartCode),t.xp6(7),t.Q6J("ngClass",t.VKq(44,y,e.isFilterOpen.Oty)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Oty),t.xp6(7),t.Q6J("ngClass",t.VKq(46,y,e.isFilterOpen.Remark)),t.xp6(3),t.ekj("show-input",e.isFilterInputOpen.Remark),t.xp6(2),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}const z=function(i){return{"fa-spin fa-spinner":i}};function Jn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h5",6),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.reload())}),t._uU(3,"Enquiry Register"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,Fn,5,0,"div",10),t.YNc(8,On,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Financial Year "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedYear=n)})("focus",function(){t.CHM(e);const n=t.MAs(18),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(19,qn,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",11)(21,"label"),t._uU(22,"Select Month "),t.TgZ(23,"sub",12),t._uU(24,"* "),t.qZA()()(),t.TgZ(25,"div",11)(26,"div",13)(27,"span",14)(28,"ng-select",18,19),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedMonth=n)})("focus",function(){t.CHM(e);const n=t.MAs(29),l=t.oxw();return t.KtG(l.onFocus(n))}),t.YNc(30,En,2,2,"ng-option",17),t.qZA()()()()(),t.TgZ(31,"div",20)(32,"div",21)(33,"button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.loadData())}),t._uU(34,"Go "),t._UZ(35,"i",23),t.qZA()()()()(),t.YNc(36,In,105,48,"div",24),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(9),t.Q6J("ngModel",e.selectedMonth)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.month),t.xp6(3),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(12,z,e.isLoading)),t.xp6(1),t.Q6J("ngIf",e.showtable)}}const Un=function(i){return{"d-flex justify-content-center":i}},Yn=[{path:"paymentCollectionPlan",component:mt},{path:"turnOver",component:Ct},{path:"developmentcostdeatils",component:It},{path:"dailysalesdata",component:ie},{path:"monthlysalesandtarget",component:Ae},{path:"customerwiseplanvs.actualsale",component:Ie},{path:"monthlayvalueadditiontargetvsactual",component:$e},{path:"scheduleadherenceforthemonth",component:gn},{path:"customercigradeperkgraterealization",component:yn},{path:"enquiryregister",component:(()=>{class i{toggleFilter(e){this.isFilterOpen[e]=!this.isFilterOpen[e],this.isFilterInputOpen[e]=!1}applyFilter(e,o){}toggleFilterInput(e){this.isFilterInputOpen[e]=!this.isFilterInputOpen[e]}constructor(e,o,n,l,s){this._EnquiryRegisterService=e,this._AppComponentService=o,this.fb=n,this.http=l,this.router=s,this.branch=[],this.finyear=[],this.month=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.tableColumns=["Sr.No.","Enquiry Number","Date","Customer","Part Name","Material","Oty.","Remark","part name"],this.isFilterOpen={},this.isFilterInputOpen={},this.Keyarray=[],this.searchQuery="",this.Tabledata=[],this.FooterData=[],this.tempdata=[]}reload(){window.location.reload()}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",a.kI.required],CUTOMER_TYPE:["0",a.kI.required],MONTH_NAME:["",a.kI.required]})}onFocus(e){e.open()}ngAfterViewInit(){this.renderer.selectRootElement(this.fdateInput.nativeElement).focus()}ngOnInit(){this.isLoading1=!0,this.createForm();let e=localStorage.getItem("user"),n={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(n).subscribe(l=>{l.List.length>1?(this.showBranch=!0,this.BRANCH=!0,l.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.showBranch=!1,this.BRANCH=!1,this.branch=l.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(n).subscribe(l=>{this.finyear=l.List,this.selectedYear=this.finyear[0].DATEVALUE}),this._AppComponentService.month(n).subscribe(l=>{this.month=l.List,this.selectedMonth=this.month[0].DateValue})}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.tempdata.filter(o=>Object.values(o).some(l=>"string"==typeof l?l.toLowerCase().includes(e):"number"==typeof l&&l.toString().includes(e)))}loadData(){this.Tabledata=[],this.FooterData=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._EnquiryRegisterService.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID,MONTH:this.selectedMonth}).subscribe(s=>{this.showtable=!0,this.Tabledata=s.List,this.tempdata=s.List,this.isLoading=!1}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?u().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?u().fire("Warning","Please select branch","info"):null==this.selectedYear&&u().fire("Warning","Please select financial year","info"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Nn),t.Y36(Z._),t.Y36(a.qu),t.Y36(f.eN),t.Y36(x.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-enquiry-register"]],decls:4,vars:7,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"click"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","autofocus","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],["id","MONTH_NAME","bindValue","DateValue","bindLabel","DateDesc","required","","formControlName","MONTH_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["MONTH_NAME",""],[1,"form-group","row","justify-content-md-center"],[1,"col-sm-1"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","10"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_right"],[1,"filter-container"],[1,"filter-toggle",3,"click"],["aria-hidden","true",1,"tnb-icon","fa","fa-caret-down"],[1,"filter-options",3,"ngClass"],[1,"filter-option",3,"click"],[1,"input-box"],["type","text","placeholder"," ",3,"blur"],[1,"td_left"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,Jn,37,14,"div",3)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(3,Un,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(5,z,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1))},dependencies:[d.mk,d.sg,d.O5,m.w9,m.jq,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.On],styles:[".loader[_ngcontent-%COMP%]{position:absolute;top:45%;left:55%;transform:translate(-50%,-50%)}"]}),i})()}];let kn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[x.Bz.forChild(Yn),x.Bz]}),i})(),Ln=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.ez,kn,X.v,W.X,U.m9,$.EW,F.U$,q.kn.forRoot(),m.A0,q.kn,a.UX,a.u5]}),i})()}}]);