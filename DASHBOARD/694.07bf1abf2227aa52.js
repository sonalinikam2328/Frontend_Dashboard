"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[694],{52694:(Zn,y,g)=>{g.r(y),g.d(y,{SalesModule:()=>Nn});var d=g(36895),l=g(24006),I=g(6205),J=g(53185),Q=g(66055),B=g(19668),b=g(85892),v=g(15439),P=g(35226),_=g.n(P),t=g(94650),A=g(92340),T=g(70262),m=g(80529);let D=(()=>{class n{constructor(e){this.http=e,this.url=A.N.base_url}findAll(e){return this.http.post(this.url+"/paymentcollectionplan/paymentcollectionplanData/",e).pipe((0,T.K)(this.handleError))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=g(10275),p=g(90702);const H=["YEAR_NAME"];function G(n,s){1&n&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4,"* "),t.qZA()()())}function V(n,s){if(1&n&&(t.TgZ(0,"ng-option",31),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function K(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",29,30),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedBrach=a)})("focus",function(){t.CHM(e);const a=t.MAs(4),i=t.oxw(2);return t.KtG(i.onFocus(a))}),t.YNc(5,V,2,2,"ng-option",17),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function k(n,s){if(1&n&&(t.TgZ(0,"ng-option",31),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}function j(n,s){if(1&n&&(t.TgZ(0,"ng-option",31),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DateDesc,"")}}const E=function(n){return{"fa-spin fa-spinner":n}};function z(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Payment Collection Plan"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,G,5,0,"div",10),t.YNc(8,K,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Finacial Year "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedYear=a)})("focus",function(){t.CHM(e);const a=t.MAs(18),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(19,k,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",11)(21,"label"),t._uU(22,"Select Month "),t.TgZ(23,"sub",12),t._uU(24,"* "),t.qZA()()(),t.TgZ(25,"div",11)(26,"div",13)(27,"span",14)(28,"ng-select",18,19),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedMonth=a)})("focus",function(){t.CHM(e);const a=t.MAs(29),i=t.oxw();return t.KtG(i.onFocus(a))})("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getMonth())}),t.YNc(30,j,2,2,"ng-option",17),t.qZA()()()()(),t.TgZ(31,"div",9)(32,"div",11)(33,"label"),t._uU(34,"Customer Type "),t.TgZ(35,"sub",12),t._uU(36," * "),t.qZA()()(),t.TgZ(37,"div",20)(38,"div",21),t._UZ(39,"input",22),t.TgZ(40,"label",23),t._uU(41,"Domestic"),t.qZA()(),t.TgZ(42,"div",21),t._UZ(43,"input",24),t.TgZ(44,"label",25),t._uU(45,"Export"),t.qZA()()(),t.TgZ(46,"div",26)(47,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadData())}),t._uU(48,"Go "),t._UZ(49,"i",28),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(9),t.Q6J("ngModel",e.selectedMonth)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.month),t.xp6(17),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(11,E,e.isLoading))}}function W(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",38),t._uU(2),t.qZA(),t.TgZ(3,"td",39),t._uU(4),t.qZA(),t.TgZ(5,"td",38),t._uU(6),t.qZA(),t.TgZ(7,"td",38),t._uU(8),t.qZA(),t.TgZ(9,"td",38),t._uU(10),t.qZA(),t.TgZ(11,"td",38),t._uU(12),t.qZA(),t.TgZ(13,"td",38),t._uU(14),t.qZA(),t.TgZ(15,"td",38),t._uU(16),t.qZA(),t.TgZ(17,"td",38),t._uU(18),t.qZA(),t.TgZ(19,"td",38),t._uU(20),t.qZA(),t.TgZ(21,"td",38),t._uU(22),t.qZA(),t.TgZ(23,"td",38),t._uU(24),t.qZA()()),2&n){const e=s.$implicit,o=s.index;t.xp6(2),t.hij(" ",o+1,""),t.xp6(2),t.hij("",e.SUBGL_LONGNAME," "),t.xp6(2),t.hij(" ",null!=e.INVOICE_AMT?e.INVOICE_AMT:"-",""),t.xp6(2),t.Oqu(null!=e.RECEIPT_AMT?e.RECEIPT_AMT:"-"),t.xp6(2),t.hij("",null!=e.RECV_PERCENT?e.RECV_PERCENT+"%":e.RECV_PERCENT," "),t.xp6(2),t.Oqu(null!=e.CREDIT_DAYS?e.CREDIT_DAYS:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS?e.CR_DAYS:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS1?e.CR_DAYS1:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS2?e.CR_DAYS2:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS3?e.CR_DAYS3:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS4?e.CR_DAYS4:"-"),t.xp6(2),t.Oqu(null!=e.CR_DAYS5?e.CR_DAYS5:"-")}}function $(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,W,25,12,"tr",45),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function X(n,s){1&n&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3,"No Data"),t.qZA()()())}function tt(n,s){1&n&&t._UZ(0,"div",32)}function et(n,s){if(1&n&&(t.TgZ(0,"tr"),t._UZ(1,"td",38),t.TgZ(2,"td",46),t._uU(3),t.qZA(),t.TgZ(4,"td",38),t._uU(5),t.qZA(),t.TgZ(6,"td",38),t._uU(7),t.qZA(),t.TgZ(8,"td",38),t._uU(9),t.qZA(),t.TgZ(10,"td",38),t._uU(11),t.qZA(),t.TgZ(12,"td",38),t._uU(13),t.qZA(),t.TgZ(14,"td",38),t._uU(15),t.qZA(),t.TgZ(16,"td",38),t._uU(17),t.qZA(),t.TgZ(18,"td",38),t._uU(19),t.qZA(),t.TgZ(20,"td",38),t._uU(21),t.qZA(),t.TgZ(22,"td",38),t._uU(23),t.qZA()()),2&n){const e=s.$implicit;t.xp6(3),t.hij("",e.SUBGL_LONGNAME," "),t.xp6(2),t.hij(" ",null!=e.INVOICE_AMT?e.INVOICE_AMT:"",""),t.xp6(2),t.Oqu(null!=e.RECEIPT_AMT?e.RECEIPT_AMT:""),t.xp6(2),t.hij("",null!=e.RECV_PERCENT?e.RECV_PERCENT:""," "),t.xp6(2),t.Oqu(0!=e.CREDIT_DAYS?e.CREDIT_DAYS:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS?e.CR_DAYS:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS1?e.CR_DAYS1:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS2?e.CR_DAYS2:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS3?e.CR_DAYS3:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS4?e.CR_DAYS4:""),t.xp6(2),t.Oqu(0!=e.CR_DAYS5?e.CR_DAYS5:"")}}function nt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35)(4,"div",5)(5,"div",8)(6,"table",36)(7,"thead",37)(8,"tr"),t._UZ(9,"th",38)(10,"th",39)(11,"th",38)(12,"th",38)(13,"th",38)(14,"th",38),t.TgZ(15,"th",38),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"th",38),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"th",38),t._uU(22),t.ALo(23,"date"),t.qZA(),t.TgZ(24,"th",38),t._uU(25),t.ALo(26,"date"),t.qZA(),t.TgZ(27,"th",38),t._uU(28),t.ALo(29,"date"),t.qZA(),t.TgZ(30,"th",38),t._uU(31),t.ALo(32,"date"),t.qZA()()(),t.TgZ(33,"thead",37),t._UZ(34,"tr"),t.TgZ(35,"th",40)(36,"div",41)(37,"input",42),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.searchQuery=a)})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filterData())}),t.qZA()()(),t.TgZ(38,"tr")(39,"th",38),t._uU(40,"Sr. No."),t.qZA(),t.TgZ(41,"th",39),t._uU(42,"Name of Customer"),t.qZA(),t.TgZ(43,"th",38),t._uU(44,"Payment Amount Plan For The Month Rs."),t.qZA(),t.TgZ(45,"th",38),t._uU(46,"Amount Received Rs."),t.qZA(),t.TgZ(47,"th",38),t._uU(48,"% of Recovery"),t.qZA(),t.TgZ(49,"th",38),t._uU(50,"Credit Day"),t.qZA(),t.TgZ(51,"th",38),t._uU(52,"Avg Payment Receipt Days"),t.qZA(),t.TgZ(53,"th",38),t._uU(54,"Avg Payment Receipt Days"),t.qZA(),t.TgZ(55,"th",38),t._uU(56,"Avg Payment Receipt Days"),t.qZA(),t.TgZ(57,"th",38),t._uU(58,"Avg Payment Receipt Days"),t.qZA(),t.TgZ(59,"th",38),t._uU(60,"Avg Payment Receipt Days"),t.qZA(),t.TgZ(61,"th",38),t._uU(62,"Avg Payment Receipt Days"),t.qZA()()(),t.YNc(63,$,2,1,"tbody",43),t.YNc(64,X,4,0,"tbody",43),t.YNc(65,tt,1,0,"div",4),t._UZ(66,"div",33)(67,"div",34)(68,"div",35)(69,"div",5)(70,"div",8),t.TgZ(71,"tfoot",44),t.YNc(72,et,24,11,"tr",45),t.qZA()()()()()()()()}if(2&n){const e=t.oxw();t.xp6(16),t.Oqu(t.xi3(17,11,e.currentMonth,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(20,14,e.priviousOne,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(23,17,e.priviousTwo,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(26,20,e.priviousThree,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(29,23,e.priviousFour,"MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(32,26,e.priviousFive,"MMM yyyy")),t.xp6(6),t.Q6J("ngModel",e.searchQuery),t.xp6(26),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",e.showtable),t.xp6(7),t.Q6J("ngForOf",e.FooterData)}}const it=function(n){return{"d-flex justify-content-center":n}};let at=(()=>{class n{constructor(e,o,a,i,r){this._PaymentService=e,this._AppComponentService=o,this.fb=a,this.http=i,this.router=r,this.branch=[],this.finyear=[],this.Keyarray=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.month=[],this.searchQuery="",this.Tabledata=[],this.FooterData=[]}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",l.kI.required],CUTOMER_TYPE:["0",l.kI.required],MONTH_NAME:["",l.kI.required]})}onFocus(e){e.open()}ngAfterViewInit(){document.querySelector("smart-table"),this.YEAR_NAME&&this.YEAR_NAME.focus()}init(){throw new Error("Method not implemented.")}ngOnInit(){this.isLoading1=!0;let e=localStorage.getItem("user"),a={CODE:JSON.parse(e).COMPANY_ID};this.createForm(),this._AppComponentService.branchList(a).subscribe(i=>{i.List.length>1?(this.showBranch=!0,this.BRANCH=!0,i.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.showBranch=!1,this.BRANCH=!1,this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(a).subscribe(i=>{this.finyear=i.List,this.selectedYear=this.finyear[0].DATEVALUE}),this._AppComponentService.month(a).subscribe(i=>{this.month=i.List,this.selectedMonth=this.month[0].DateValue;let r=this.month.filter(c=>c.DateValue==this.selectedMonth);this.MonthData=r})}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(i=>"string"==typeof i?i.toLowerCase().includes(e):"number"==typeof i&&i.toString().includes(e))),console.log("Tabledata",this.Tabledata)}loadData(){this.Tabledata=[],this.FooterData=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._PaymentService.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID,CUSTOMER_TYPE:this.angForm.value.CUTOMER_TYPE,MONTH:this.selectedMonth}).subscribe(r=>{this.upmonth(),this.showtable=!0,this.FooterData.push(r.List[r.List.length-1]),this.Tabledata=r.List,this.Tabledata.pop(),this.isLoading=!1}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?_().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?_().fire("Warning","Please select branch","info"):null==this.selectedYear&&_().fire("Warning","Please select financial year","info"))}upmonth(){let e,o=this.selectedYear.substr(0,4),a=this.selectedYear.substr(4,4),i=this.selectedMonth.substr(0,2),r=this.MonthData[0].DateDesc;e=i>"03"?r+" "+a:r+" "+o,this.currentMonth=e;let c=v(this.currentMonth,"MMM/YYYY").format("YYYY-MM-DD");this.priviousOne=v(c,"YYYY-MM-DD").subtract(1,"months").format("MMM-YYYY"),this.priviousTwo=v(c,"YYYY-MM-DD").subtract(2,"months").format("MMM-YYYY"),this.priviousThree=v(c,"YYYY-MM-DD").subtract(3,"months").format("MMM-YYYY"),this.priviousFour=v(c,"YYYY-MM-DD").subtract(4,"months").format("MMM-YYYY"),this.priviousFive=v(c,"YYYY-MM-DD").subtract(5,"months").format("MMM-YYYY")}getMonth(){let e=this.month.filter(o=>o.DateValue==this.selectedMonth);this.MonthData=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D),t.Y36(M._),t.Y36(l.qu),t.Y36(m.eN),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-payment-collection-plan"]],viewQuery:function(e,o){if(1&e&&t.Gf(H,5),2&e){let a;t.iGM(a=t.CRH())&&(o.YEAR_NAME=a.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],["id","MONTH_NAME","bindValue","DateValue","bindLabel","DateDesc","required","","formControlName","MONTH_NAME",3,"ngModel","selectOnTab","ngModelChange","focus","change"],["MONTH_NAME",""],[1,"col-sm-3"],[1,"form-check","form-check-inline"],["type","radio","name","CUTOMER_TYPE","id","inlineRadio1","value","0","formControlName","CUTOMER_TYPE",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","CUTOMER_TYPE","id","inlineRadio2","value","1","formControlName","CUTOMER_TYPE",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],[1,"td_right"],[1,"td_left"],["colspan","6"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[4,"ngIf"],[2,"position","sticky","bottom","0","text-align","center"],[4,"ngFor","ngForOf"],[1,"td_left",2,"font-weight","bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,z,50,13,"div",3),t.YNc(4,nt,73,29,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,it,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,E,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,p.w9,p.jq,l._Y,l.Fj,l._,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On,d.uU]}),n})();var x=g(58730);const ot=["table"];let st=(()=>{class n{constructor(){this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(e,o){const a=o;a.query=JSON.stringify(o.query),new window.Smart.Ajax({url:A.N.base_url+"/companyList",dataSourceType:"json",data:a},r=>{e({dataSource:r.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(e){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(e){}}]}ngOnInit(){}ngAfterViewInit(){this.init(),document.querySelector("smart-table")}init(){this.table.addGroup("CREDIT_DAYS")}handleClick(e,o){this.table.exportData(o,"table")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-turn-over"]],viewQuery:function(e,o){if(1&e&&t.Gf(ot,5,x.ac),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first)}},decls:9,vars:4,consts:[[1,"form-control",2,"width","120px","height","30px","font-size","10px","margin-top","3px","float","right",3,"change"],["selected",""],["id","table",3,"dataSource","grouping","keyboardNavigation","columns"],["table",""]],template:function(e,o){1&e&&(t.TgZ(0,"select",0),t.NdJ("change",function(i){return o.handleClick(i,"csv")}),t.TgZ(1,"option",1),t._uU(2,"Export Type "),t.qZA(),t.TgZ(3,"option"),t._uU(4,"CSV"),t.qZA(),t.TgZ(5,"option"),t._uU(6,"PDF"),t.qZA()(),t._UZ(7,"smart-table",2,3)),2&e&&(t.xp6(7),t.Q6J("dataSource",o.dataSource)("grouping",o.grouping)("keyboardNavigation",o.keyboardNavigation)("columns",o.columns))},dependencies:[x.ac,l.YN,l.Kr]}),n})(),lt=(()=>{class n{constructor(e){this.http=e,this.url=A.N.base_url}findAll(e){return this.http.post(this.url+"/developmentcostdetails/DevelopmentcostdetailsData",e).pipe((0,T.K)(this.handleError))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var N=g(29219);const rt=["FROM"];function ct(n,s){1&n&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4,"* "),t.qZA()()())}function dt(n,s){if(1&n&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function _t(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",21)(2,"span",14)(3,"ng-select",22,23),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedBrach=a)})("focus",function(){t.CHM(e);const a=t.MAs(4),i=t.oxw(2);return t.KtG(i.onFocus(a))}),t.YNc(5,dt,2,2,"ng-option",24),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function ut(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1," This field is required "),t.qZA())}function ht(n,s){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,ut,2,0,"div",27),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.angForm.controls.FROM.errors?null:e.angForm.controls.FROM.errors.required)}}function gt(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1," This field is required "),t.qZA())}function pt(n,s){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,gt,2,0,"div",27),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.angForm.controls.TO.errors?null:e.angForm.controls.TO.errors.required)}}const q=function(){return{dateInputFormat:"DD/MM/YYYY"}},S=function(n){return{"fa-spin fa-spinner":n}};function mt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Development Cost Details"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,ct,5,0,"div",10),t.YNc(8,_t,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Dates "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"input",15),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onFocus(a.FROM))})("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.fromdate=a)}),t.qZA()()(),t.YNc(18,ht,2,1,"div",16),t.qZA(),t.TgZ(19,"div",11)(20,"div",13)(21,"span",14)(22,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.todate=a)}),t.qZA()()(),t.YNc(23,pt,2,1,"div",16),t.qZA(),t.TgZ(24,"div",18)(25,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadData())}),t._uU(26,"Go "),t._UZ(27,"i",20),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("bsConfig",t.DdM(13,q))("ngModel",e.fromdate)("maxDate",e.maxDate),t.xp6(1),t.Q6J("ngIf",e.angForm.controls.FROM.invalid&&(e.angForm.controls.FROM.dirty||e.angForm.controls.FROM.touched)),t.xp6(4),t.Q6J("bsConfig",t.DdM(14,q))("minDate",e.fromdate)("ngModel",e.todate),t.xp6(1),t.Q6J("ngIf",e.angForm.controls.TO.invalid&&(e.angForm.controls.TO.dirty||e.angForm.controls.TO.touched)),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(15,S,e.isLoading))}}function ft(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",37),t._uU(2),t.qZA(),t.TgZ(3,"td",37),t._uU(4),t.qZA(),t.TgZ(5,"td",39),t._uU(6),t.qZA(),t.TgZ(7,"td",39),t._uU(8),t.qZA(),t.TgZ(9,"td",37),t._uU(10),t.qZA(),t.TgZ(11,"td",37),t._uU(12),t.qZA(),t.TgZ(13,"td",39),t._uU(14),t.qZA(),t.TgZ(15,"td",39),t._uU(16),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(null==e?null:e.CUSTOMER_NAME),t.xp6(2),t.hij(" ",null==e?null:e.MAT_NAME,""),t.xp6(2),t.Oqu(null==e?null:e.PO_NO),t.xp6(2),t.Oqu(null==e?null:e.ORDER_AMT),t.xp6(2),t.Oqu(null==e?null:e.PROFORMA_INV_DETAILS),t.xp6(2),t.Oqu(null==e?null:e.SALE_INV_DETAILS),t.xp6(2),t.Oqu(null==e?null:e.INVOICE_AMT),t.xp6(2),t.Oqu(null==e?null:e.DIFF_AMT)}}function At(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,ft,17,8,"tr",41),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function Ct(n,s){1&n&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3,"No Data"),t.qZA()()())}function Tt(n,s){1&n&&t._UZ(0,"div",28)}function bt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",5)(5,"div",8)(6,"table",32)(7,"thead",33),t._UZ(8,"tr"),t.TgZ(9,"th",34)(10,"div",35)(11,"input",36),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.searchQuery=a)})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",37),t._uU(14,"Customer Name"),t.qZA(),t.TgZ(15,"th",37),t._uU(16,"Part Name"),t.qZA(),t.TgZ(17,"th",38),t._uU(18,"Development P.O.No/Referance"),t.qZA(),t.TgZ(19,"th",39),t._uU(20,"Approved Development Cost In INR"),t.qZA(),t.TgZ(21,"th",37),t._uU(22,"1st 50% Debit Note/Invoice No."),t.qZA(),t.TgZ(23,"th",37),t._uU(24,"Balance 50% Debit Note/Invoice No."),t.qZA(),t.TgZ(25,"th",39),t._uU(26,"Development Cost Received In INR"),t.qZA(),t.TgZ(27,"th",39),t._uU(28,"Balanced D.C. In INR to be Received"),t.qZA()()(),t.YNc(29,At,2,1,"tbody",27),t.YNc(30,Ct,4,0,"tbody",27),t.YNc(31,Tt,1,0,"div",4),t._UZ(32,"div",29)(33,"div",30)(34,"div",31)(35,"div",5)(36,"div",8),t.TgZ(37,"tfoot",40)(38,"tr")(39,"th",37),t._uU(40,"Total"),t.qZA(),t._UZ(41,"th",37)(42,"th",39),t.TgZ(43,"th",39),t._uU(44),t.qZA(),t._UZ(45,"th",37)(46,"th",37),t.TgZ(47,"th",39),t._uU(48),t.qZA(),t.TgZ(49,"th",39),t._uU(50),t.qZA()()()()()()()()()()}if(2&n){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(18),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",e.showtable),t.xp6(13),t.Oqu(e.totalDevelopmentCost),t.xp6(4),t.Oqu(e.totalDevelopmentCostReceived),t.xp6(2),t.Oqu(e.totalBalanceDcinReceived)}}const vt=function(n){return{"d-flex justify-content-center":n}};let Mt=(()=>{class n{constructor(e,o,a,i,r,c){this._PaymentService=e,this._DevelopmentcostdetailsService=o,this._AppComponentService=a,this.fb=i,this.http=r,this.router=c,this.dataSource=[],this.freezeHeader=!0,this.branch=[],this.Tabledata=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.fromdate=null,this.todate=null,this.searchQuery="",this.Keyarray=[];let u=new Date;this.minDate=new Date,this.maxDate=new Date(u.getFullYear(),u.getMonth(),1),this.minDatet=new Date,this.minDate.setDate(this.minDate.getDate()),this.maxDate.setDate(this.maxDate.getDate()),this.minDatet.setDate(this.maxDate.getDate()+1),this.fromdate=this.maxDate,this.todate=this.minDate}onFocus(e){e.open()}ngAfterViewInit(){this.FROM&&this.FROM.focus()}onValueChange(e){if(this.maxDatet=new Date,this.maxDatet.setDate(this.maxDatet.getDate()),null!=this.fromdate&&null!=this.todate){let o=this.fromdate.getFullYear()+"/"+(this.fromdate.getMonth()+1)+"/"+this.fromdate.getDate(),a=this.todate.getFullYear()+"/"+(this.todate.getMonth()+1)+"/"+this.todate.getDate();o==a&&(_().fire("Error","From date and To date not be equal","error"),this.angForm.controls.TO.reset()),o>a&&(_().fire("Error","To date is must be less than From date","error"),this.angForm.controls.TO.reset())}}createForm(){this.angForm=this.fb.group({FROM:["",[l.kI.required]],TO:["",[l.kI.required]],BRANCH_NAME:[""]})}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(i=>"string"==typeof i?i.toLowerCase().includes(e):"number"==typeof i&&i.toString().includes(e))),console.log("Tabledata",this.Tabledata)}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),a={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(a).subscribe(i=>{i.List.length>1?(this.BRANCH=!0,this.showBranch=!0,i.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)})}loadData(){this.isLoading=!0,this.Tabledata=[];let e=localStorage.getItem("user"),o=JSON.parse(e),i={FROM:v(this.fromdate,"YYYY-MM-DD").format("YYYYMMDD"),TO:v(this.todate,"YYYY-MM-DD").format("YYYYMMDD"),BRANCH_NAME:this.selectedBrach,CODE:o.COMPANY_ID};this.angForm.valid?this._DevelopmentcostdetailsService.findAll(i).subscribe(r=>{this.totalDevelopmentCost=0,this.totalDevelopmentCostReceived=0,this.totalBalanceDcinReceived=0,this.showtable=!0,this.Tabledata=r.List;let u=this.Tabledata.reduce((C,Z)=>C+Z.ORDER_AMT,0);this.totalDevelopmentCost=parseFloat(u).toFixed(2);let h=this.Tabledata.reduce((C,Z)=>C+Z.INVOICE_AMT,0);this.totalDevelopmentCostReceived=parseFloat(h).toFixed(2);let f=this.Tabledata.reduce((C,Z)=>C+Z.DIFF_AMT,0);this.totalBalanceDcinReceived=parseFloat(f).toFixed(2),this.isLoading=!1}):(this.isLoading=!1,_().fire("Warning","Please fill All Details Properly","info"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D),t.Y36(lt),t.Y36(M._),t.Y36(l.qu),t.Y36(m.eN),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-development-cost-details"]],viewQuery:function(e,o){if(1&e&&t.Gf(rt,5),2&e){let a;t.iGM(a=t.CRH())&&(o.FROM=a.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","input-group"],[1,"border-lable-flt"],["type","text","placeholder","dd/mm/yyyy","name","fdate","id","fdate","bsDatepicker","","formControlName","FROM","required","",1,"form-control",2,"max-width","100px",3,"bsConfig","ngModel","maxDate","focus","ngModelChange"],["class","form-group form-primary form-static-label","class","alert alert-danger",4,"ngIf"],["type","text","placeholder","dd/mm/yyyy","name","tdate","id","tdate","bsDatepicker","","formControlName","TO","required","",1,"form-control",2,"max-width","100px",3,"bsConfig","minDate","ngModel","ngModelChange"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"form-group","form-primary","form-static-label"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","8"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_left"],[1,"td_Right"],[1,"td_right"],[2,"position","sticky","bottom","0","text-align","center"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,mt,28,17,"div",3),t.YNc(4,bt,51,7,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,vt,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,S,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,N.Np,N.Y5,p.w9,p.jq,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On]}),n})(),xt=(()=>{class n{constructor(e){this.http=e,this.url=A.N.base_url}companylist(){return this.http.get(this.url+"/companyList").pipe((0,T.K)(this.handleError))}getCustomersLarge(){return this.http.get("./data.json").toPromise().then(e=>e.data).then(e=>e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nt=["table"];function Zt(n,s){1&n&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4,"* "),t.qZA()()())}function yt(n,s){if(1&n&&(t.TgZ(0,"ng-option",31),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function Dt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",23)(1,"div",27)(2,"span",14)(3,"ng-select",28,29),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedBrach=a)})("focus",function(){t.CHM(e);const a=t.MAs(4),i=t.oxw(2);return t.KtG(i.onFocus(a))}),t.YNc(5,yt,2,2,"ng-option",30),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function Et(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1," This field is required "),t.qZA())}function qt(n,s){if(1&n&&(t.TgZ(0,"div",32),t.YNc(1,Et,2,0,"div",33),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.angForm.controls.FROM.errors?null:e.angForm.controls.FROM.errors.required)}}function St(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",40)(2,"input",43),t.NdJ("ngModelChange",function(a){const r=t.CHM(e).$implicit;return t.KtG(r.checked=a)}),t.qZA()(),t.TgZ(3,"td",41),t._uU(4),t.qZA()()}if(2&n){const e=s.$implicit;t.xp6(2),t.s9C("value",e.CODE),t.Q6J("ngModel",e.checked),t.xp6(2),t.Oqu(e.NAME)}}function Yt(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,St,5,3,"tr",42),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function Ot(n,s){1&n&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2,"No Data"),t.qZA()())}function Rt(n,s){if(1&n&&(t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"div",4)(5,"div",7)(6,"table",38)(7,"thead",39)(8,"tr"),t._UZ(9,"th",40),t.TgZ(10,"th",41),t._uU(11,"Customer Name"),t.qZA()()(),t.YNc(12,Yt,2,1,"tbody",33),t.YNc(13,Ot,3,0,"tbody",33),t.qZA()()()()()()()),2&n){const e=t.oxw(2);t.xp6(12),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}function Ft(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",41),t._uU(2),t.qZA(),t.TgZ(3,"td",40),t._uU(4),t.qZA(),t.TgZ(5,"td",40),t._uU(6),t.qZA(),t.TgZ(7,"td",40),t._uU(8),t.qZA(),t.TgZ(9,"td",40),t._uU(10),t.qZA(),t.TgZ(11,"td",40),t._uU(12),t.qZA(),t.TgZ(13,"td",40),t._uU(14),t.qZA(),t.TgZ(15,"td",40),t._uU(16),t.qZA(),t.TgZ(17,"td",40),t._uU(18),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e.CUST_NAME),t.xp6(2),t.Oqu(e.TARGET_SCH_AMT),t.xp6(2),t.Oqu(e.TARGET_AVG_SCH),t.xp6(2),t.Oqu(e.SALE_UPTO_PRVDT),t.xp6(2),t.Oqu(e.TODAYS_SALE),t.xp6(2),t.Oqu(e.TOTAL_SALE),t.xp6(2),t.Oqu(e.REM_SALE),t.xp6(2),t.Oqu(e.CURR_AVG_PER_DAY),t.xp6(2),t.Oqu(e.REM_AVG_PER_DAY)}}function Lt(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,Ft,19,9,"tr",42),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.Tabledata1)}}function Ut(n,s){1&n&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2,"No Data"),t.qZA()())}function wt(n,s){if(1&n&&(t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"div",4)(5,"div",7)(6,"table",44)(7,"thead",39)(8,"tr")(9,"th",41),t._uU(10,"Customer Name"),t.qZA(),t.TgZ(11,"th",40),t._uU(12," Target Sales Amount"),t.qZA(),t.TgZ(13,"th",40),t._uU(14," Target Sales Avg/Day"),t.qZA(),t.TgZ(15,"th",40),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"th",40),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"th",40),t._uU(22," Total Sales"),t.qZA(),t.TgZ(23,"th",40),t._uU(24," Remaining Sales"),t.qZA(),t.TgZ(25,"th",40),t._uU(26," Current Avg/Day(1)"),t.qZA(),t.TgZ(27,"th",40),t._uU(28," Required Avg/Day(26)"),t.qZA()()(),t.YNc(29,Lt,2,1,"tbody",33),t.YNc(30,Ut,3,0,"tbody",33),t.qZA()()()()()()()),2&n){const e=t.oxw(2);t.xp6(16),t.hij(" Sale Up to ",t.xi3(17,4,e.todate,"dd/MM/YYYY"),""),t.xp6(3),t.hij(" Todays Sales ",t.xi3(20,7,e.fromdate,"dd/MM/YYYY"),""),t.xp6(10),t.Q6J("ngIf",0!=e.Tabledata1.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata1.length)}}const It=function(){return{dateInputFormat:"DD/MM/YYYY"}},Y=function(n){return{"fa-spin fa-spinner":n}};function Jt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h5"),t._uU(3,"Daily Sales Data"),t.qZA()(),t.TgZ(4,"form",6)(5,"div",7)(6,"div",8),t.YNc(7,Zt,5,0,"div",9),t.YNc(8,Dt,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Dates "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"input",15),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.fromdate=a)}),t.qZA()()(),t.YNc(18,qt,2,1,"div",16),t.qZA()(),t.TgZ(19,"div",8)(20,"div",11)(21,"label"),t._uU(22,"Customer Select Option "),t.TgZ(23,"sub",12),t._uU(24," * "),t.qZA()()(),t.TgZ(25,"div",17)(26,"div",18)(27,"input",19),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.check(0))}),t.qZA(),t.TgZ(28,"label",20),t._uU(29,"All Customers"),t.qZA()(),t.TgZ(30,"div",18)(31,"input",21),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.check(1))}),t.qZA(),t.TgZ(32,"label",22),t._uU(33,"Selected Customer"),t.qZA()()(),t.TgZ(34,"div",23)(35,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadData())}),t._uU(36,"Go "),t._UZ(37,"i",25),t.qZA()()()()(),t.YNc(38,Rt,14,2,"div",26),t.YNc(39,wt,31,10,"div",26),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("bsConfig",t.DdM(11,It))("ngModel",e.fromdate)("maxDate",e.maxDate),t.xp6(1),t.Q6J("ngIf",e.angForm.controls.FROM.invalid&&(e.angForm.controls.FROM.dirty||e.angForm.controls.FROM.touched)),t.xp6(17),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(12,Y,e.isLoading)),t.xp6(1),t.Q6J("ngIf",e.showtable),t.xp6(1),t.Q6J("ngIf",e.showtable1)}}const Qt=function(n){return{"d-flex justify-content-center":n}};let Bt=(()=>{class n{constructor(e,o,a,i,r){this._AppComponentService=e,this.fb=o,this.http=a,this.router=i,this._dailysalesService=r,this.freezeHeader=!0,this.branch=[],this.fromdate=null,this.showBranch=!0,this.showtable=!1,this.showtable1=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.Tabledata=[],this.Tabledata1=[],this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(c,u){const h=u;h.query=JSON.stringify(u.query),new window.Smart.Ajax({url:A.N.base_url+"/companyList",dataSourceType:"json",data:h},C=>{c({dataSource:C.List,virtualDataSourceLength:10})})}}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.Keyarray=[],this.searchQuery="",this.minDate=new Date,this.maxDate=new Date,this.minDate.setDate(this.minDate.getDate()-1),this.maxDate.setDate(this.maxDate.getDate()),this.fromdate=this.maxDate,this.todate=this.minDate}createForm(){this.angForm=this.fb.group({FROM:["",[l.kI.required]],BRANCH_NAME:[""],Customer_Select_Option:["0"]})}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),a={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(a).subscribe(i=>{i.List.length>1?(this.BRANCH=!0,this.showBranch=!0,i.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)})}onFocus(e){e.open()}onValueChange(e){this.maxDatet=new Date,this.maxDatet.setDate(this.maxDatet.getDate())}loadData(){this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);const a=this.angForm.value;let i="",r=this.Tabledata.filter(c=>1==c.checked);if(0!=a.Customer_Select_Option)for(let c=0;c<=r.length-1;c++)i+=r[c].CODE;else i="0",r.push(i);if(0!=r.length){let c={SP_NAME:"Sel_DBDailySales",PARAM:o.COMPANY_ID+","+this.selectedBrach+","+i+","+v(this.fromdate,"YYYY-MM-DD").format("YYYYMMDD")};this.angForm.valid?this._AppComponentService.findAll(c).subscribe(u=>{this.showtable=!1,this.showtable1=!0,this.Tabledata1=u.List,this.isLoading=!1}):(this.isLoading=!1,_().fire("Warning","Please fill All Fields","info"))}else _().fire("Warning","Please Select Customer","info")}ngAfterViewInit(){this.init(),document.querySelector("smart-table")}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(i=>"string"==typeof i?i.toLowerCase().includes(e):"number"==typeof i&&i.toString().includes(e))),console.log("Tabledata",this.Tabledata)}init(){}handleClick(e,o){this.table.exportData(o,"table")}check(e){this.cdate=v(this.fromdate,"YYYY-MM-DD").format("DD/MM/YYYY"),this.pdate=v(this.todate,"YYYY-MM-DD").format("DD/MM/YYYY");let o=localStorage.getItem("user"),i={CODE:JSON.parse(o).COMPANY_ID};"0"==e?(this.showtable=!1,this.showtable1=!1):this._AppComponentService.customerList(i).subscribe(r=>{this.showtable=!0,this.showtable1=!1,this.Tabledata=r.List;for(let c=0;c<this.Tabledata.length-1;c++)this.Tabledata[c].checked=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M._),t.Y36(l.qu),t.Y36(m.eN),t.Y36(b.F0),t.Y36(xt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-daily-sales-data"]],viewQuery:function(e,o){if(1&e&&t.Gf(Nt,5,x.ac),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first)}},decls:4,vars:7,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],["class","col-sm",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","input-group"],[1,"border-lable-flt"],["type","text","placeholder","dd/mm/yyyy","name","fdate","id","fdate","bsDatepicker","","formControlName","FROM","required","",1,"form-control",2,"max-width","100px",3,"bsConfig","ngModel","maxDate","ngModelChange"],["class","form-group form-primary form-static-label","class","alert alert-danger",4,"ngIf"],[1,"col-sm-4"],[1,"form-check","form-check-inline"],["type","radio","name","Customer_Select_Option","id","inlineRadio1","value","0","formControlName","Customer_Select_Option",1,"form-check-input",3,"change"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","Customer_Select_Option","id","inlineRadio2","value","1","formControlName","Customer_Select_Option",1,"form-check-input",3,"change"],["for","inlineRadio2",1,"form-check-label"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"form-group","form-primary","form-static-label"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact"],[2,"position","sticky","top","0","text-align","center"],[1,"td_right"],[1,"td_left"],[4,"ngFor","ngForOf"],["type","checkbox","id","indexOfelement",3,"value","ngModel","ngModelChange"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,Jt,40,14,"div",3)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(3,Qt,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(5,Y,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1))},dependencies:[d.mk,d.sg,d.O5,N.Np,N.Y5,p.w9,p.jq,l._Y,l.Fj,l.Wl,l._,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On,d.uU]}),n})(),Pt=(()=>{class n{constructor(e){this.http=e,this.url=A.N.base_url}findAll(e){return this.http.post(this.url+"/monthlysalesandtarget/monthlysalesandtargetData",e).pipe((0,T.K)(this.handleError))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ht=["YEAR_NAME"],Gt=["table"];function Vt(n,s){1&n&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4," * "),t.qZA()()())}function Kt(n,s){if(1&n&&(t.TgZ(0,"ng-option",23),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function kt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",21,22),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedBrach=a)})("focus",function(){t.CHM(e);const a=t.MAs(4),i=t.oxw(2);return t.KtG(i.onFocus(a))}),t.YNc(5,Kt,2,2,"ng-option",17),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function jt(n,s){if(1&n&&(t.TgZ(0,"ng-option",23),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}const O=function(n){return{"fa-spin fa-spinner":n}};function zt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Monthly Sales And Target"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,Vt,5,0,"div",10),t.YNc(8,kt,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Finacial year "),t.TgZ(12,"sub",12),t._uU(13," * "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedYear=a)})("focus",function(){t.CHM(e);const a=t.MAs(18),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(19,jt,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",18)(21,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadData())}),t._uU(22,"Go "),t._UZ(23,"i",20),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(8,O,e.isLoading))}}function Wt(n,s){if(1&n&&(t.TgZ(0,"th",36),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij("",e.VALUE," ")}}function $t(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"th",34),t._uU(2,"Month"),t.qZA(),t.YNc(3,Wt,2,1,"th",35),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.Headers)}}function Xt(n,s){if(1&n&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e??0)}}function te(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",38),t._uU(2),t.qZA(),t.YNc(3,Xt,2,1,"td",39),t.qZA()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e[0]),t.xp6(1),t.Q6J("ngForOf",e.slice(1))}}function ee(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,te,4,2,"tr",37),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function ne(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",5)(5,"div",8)(6,"table",28)(7,"thead",29),t._UZ(8,"tr"),t.TgZ(9,"th",30)(10,"div",31)(11,"input",32),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.searchQuery=a)})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filterData())}),t.qZA()()(),t.YNc(12,$t,4,1,"tr",33),t.qZA(),t.YNc(13,ee,2,1,"tbody",33),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(1),t.Q6J("ngIf",0!=e.Headers.length),t.xp6(1),t.Q6J("ngIf",0!=e.Tabledata.length)}}const ie=function(n){return{"d-flex justify-content-center":n}};let ae=(()=>{class n{constructor(e,o,a,i,r){this._AppComponentService=e,this._monthlysalesservice=o,this.fb=a,this.http=i,this.router=r,this.branch=[],this.finyear=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.searchQuery="",this.Keyarray=[],this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(c,u){const h=u;h.query=JSON.stringify(u.query),new window.Smart.Ajax({url:A.N.base_url+"/companyList",dataSourceType:"json",data:h},C=>{c({dataSource:C.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(c){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(c){}}],this.Headers=[],this.Tabledata=[]}onFocus(e){e.open()}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",l.kI.required]})}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),a={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(a).subscribe(i=>{i.List.length>1?(this.BRANCH=!0,this.showBranch=!0,i.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(a).subscribe(i=>{this.finyear=i.List,this.selectedYear=this.finyear[0].DATEVALUE})}ngAfterViewInit(){document.querySelector("smart-table"),this.YEAR_NAME&&this.YEAR_NAME.focus()}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(i=>"string"==typeof i?i.toLowerCase().includes(e):"number"==typeof i&&i.toString().includes(e))),console.log("Tabledata",this.Tabledata)}init(){}handleClick(e,o){this.table.exportData(o,"table")}loadData(){this.Tabledata=[],this.Keyarray=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._monthlysalesservice.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID}).subscribe(c=>{if(console.log("Data from Database:",c),this.showtable=!0,0!=c.List.length){this.Headers=c.Headers;for(let h=0;h<=c.List.length-1;h++){const f=Object.values(c.List[h]);f.shift(),this.Keyarray.push(f)}this.Tabledata=this.Keyarray,this.isLoading=!1}else this.isLoading=!1,_().fire("Warning","No Data Found","info")}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?_().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?_().fire("Warning","Please select branch","info"):null==this.selectedYear&&_().fire("Warning","Please select financial year","info"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M._),t.Y36(Pt),t.Y36(l.qu),t.Y36(m.eN),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-monthly-sales-and-target"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Ht,5),t.Gf(Gt,5,x.ac)),2&e){let a;t.iGM(a=t.CRH())&&(o.YEAR_NAME=a.first),t.iGM(a=t.CRH())&&(o.table=a.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center","width","max-content"],["colspan","17"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[4,"ngIf"],[1,"td_left",2,"width","max-content"],["scope","col","style","width: max-content;","style","text-align: right;",4,"ngFor","ngForOf"],["scope","col",2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"td_left"],["style","text-align: right;",4,"ngFor","ngForOf"],[2,"text-align","right"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,zt,24,10,"div",3),t.YNc(4,ne,14,3,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,ie,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,O,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,p.w9,p.jq,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On]}),n})(),oe=(()=>{class n{constructor(e){this.http=e,this.url=A.N.base_url}findAll(e){return this.http.post(this.url+"/customerwiseplanveactualsales/CustomerwiseplanveactualsalesData/",e).pipe((0,T.K)(this.handleError))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const se=["YEAR_NAME"],le=["table"],re=["class","-actual-sale"];function ce(n,s){1&n&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4,"* "),t.qZA()()())}function de(n,s){if(1&n&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function _e(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",23,24),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedBrach=a)})("focus",function(){t.CHM(e);const a=t.MAs(4),i=t.oxw(2);return t.KtG(i.onFocus(a))}),t.YNc(5,de,2,2,"ng-option",17),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function ue(n,s){if(1&n&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}function he(n,s){if(1&n&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DateDesc,"")}}const R=function(n){return{"fa-spin fa-spinner":n}};function ge(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Customer wise plan vs actual sale"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,ce,5,0,"div",10),t.YNc(8,_e,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Finacial year"),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedYear=a)})("focus",function(){t.CHM(e);const a=t.MAs(18),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(19,ue,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",11)(21,"label"),t._uU(22,"Select Month "),t.TgZ(23,"sub",12),t._uU(24,"* "),t.qZA()()(),t.TgZ(25,"div",11)(26,"div",13)(27,"span",14)(28,"ng-select",18,19),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedMonth=a)})("focus",function(){t.CHM(e);const a=t.MAs(29),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(30,he,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(31,"div",20)(32,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadData())}),t._uU(33,"Go "),t._UZ(34,"i",22),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(9),t.Q6J("ngModel",e.selectedMonth)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.month),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(11,R,e.isLoading))}}function pe(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",39),t._uU(2),t.qZA(),t.TgZ(3,"td",36),t._uU(4),t.qZA(),t.TgZ(5,"td",36),t._uU(6),t.qZA(),t.TgZ(7,"td",36),t._uU(8),t.qZA(),t.TgZ(9,"td",36),t._uU(10),t.qZA(),t.TgZ(11,"td",36),t._uU(12),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e.AC_NAME),t.xp6(2),t.Oqu(e.VA_PERCENT),t.xp6(2),t.Oqu(e.SCH_QTY),t.xp6(2),t.Oqu(e.SALES_QTY),t.xp6(2),t.Oqu(e.DIFF_QTY),t.xp6(2),t.Oqu(e.VA_EFFECT)}}function me(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,pe,13,6,"tr",38),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function fe(n,s){1&n&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2,"No Data"),t.qZA()())}function Ae(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",5)(5,"div",8)(6,"table",30)(7,"thead",31),t._UZ(8,"tr"),t.TgZ(9,"th",32)(10,"div",33)(11,"input",34),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.searchQuery=a)})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",35),t._uU(14,"Customer Name"),t.qZA(),t.TgZ(15,"th",36),t._uU(16,"VA %"),t.qZA(),t.TgZ(17,"th",36),t._uU(18,"Planned Sale"),t.qZA(),t.TgZ(19,"th",36),t._uU(20,"Actual Sale"),t.qZA(),t.TgZ(21,"th",36),t._uU(22,"Difference"),t.qZA(),t.TgZ(23,"th",36),t._uU(24,"VA Effect"),t.qZA()()(),t.YNc(25,me,2,1,"tbody",37),t.YNc(26,fe,3,0,"tbody",37),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(14),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}const Ce=function(n){return{"d-flex justify-content-center":n}};let Te=(()=>{class n{constructor(e,o,a,i,r){this._AppComponentService=e,this._CustomerService=o,this.fb=a,this.http=i,this.router=r,this.branch=[],this.Tabledata=[],this.finyear=[],this.month=[],this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.showBranch=!0,this.searchQuery="",this.Keyarray=[],this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(c,u){const h=u;h.query=JSON.stringify(u.query),new window.Smart.Ajax({url:A.N.base_url+"/companyList",dataSourceType:"json",data:h},C=>{c({dataSource:C.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(c){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(c){}}]}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",l.kI.required],MONTH_NAME:["",l.kI.required]})}onFocus(e){e.open()}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),a={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(a).subscribe(i=>{i.List.length>1?(this.BRANCH=!0,this.showBranch=!0,i.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=i.List,this.selectedBrach=this.branch[0].CODE,this.isLoading1=!1):(this.BRANCH=!1,this.showBranch=!1,this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(a).subscribe(i=>{this.finyear=i.List,this.selectedYear=this.finyear[0].DATEVALUE}),this._AppComponentService.month(a).subscribe(i=>{this.month=i.List,this.selectedMonth=this.month[0].DateValue})}ngAfterViewInit(){document.querySelector("smart-table"),this.YEAR_NAME&&this.YEAR_NAME.focus()}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(i=>"string"==typeof i?i.toLowerCase().includes(e):"number"==typeof i&&i.toString().includes(e))),console.log("Tabledata",this.Tabledata)}init(){}handleClick(e,o){this.table.exportData(o,"table")}loadData(){this.isLoading=!0,this.Tabledata=[];let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._CustomerService.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID}).subscribe(r=>{this.showtable=!0,this.Tabledata=r.List,this.isLoading=!1}):(this.isLoading=!1,_().fire("Warning","Please fill All Details Properly","info"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M._),t.Y36(oe),t.Y36(l.qu),t.Y36(m.eN),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-wise-plan-vs",8,"-actual-sale"]],viewQuery:function(e,o){if(1&e&&(t.Gf(se,5),t.Gf(le,5,x.ac)),2&e){let a;t.iGM(a=t.CRH())&&(o.YEAR_NAME=a.first),t.iGM(a=t.CRH())&&(o.table=a.first)}},attrs:re,decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","2%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],["id","MONTH_NAME","bindValue","DateValue","bindLabel","DateDesc","required","","formControlName","MONTH_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["MONTH_NAME",""],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","6"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_left",2,"width","20%"],[1,"td_right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td_left"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,ge,35,13,"div",3),t.YNc(4,Ae,27,3,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,Ce,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,R,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,p.w9,p.jq,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On]}),n})(),be=(()=>{class n{constructor(e){this.http=e,this.url=A.N.base_url}findAll(e){return this.http.post(this.url+"/monthly-value-addition-target-vs-actual/MonthlyValueAdditionTargetVsActualData",e).pipe((0,T.K)(this.handleError))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ve=["YEAR_NAME"],Me=["table"];function xe(n,s){1&n&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4," * "),t.qZA()()())}function Ne(n,s){if(1&n&&(t.TgZ(0,"ng-option",23),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function Ze(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",21,22),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedBrach=a)})("focus",function(){t.CHM(e);const a=t.MAs(4),i=t.oxw(2);return t.KtG(i.onFocus(a))}),t.YNc(5,Ne,2,2,"ng-option",17),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function ye(n,s){if(1&n&&(t.TgZ(0,"ng-option",23),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}const F=function(n){return{"fa-spin fa-spinner":n}};function De(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Monthly Value Addition Target V/s Actual "),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,xe,5,0,"div",10),t.YNc(8,Ze,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Financial Year "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedYear=a)})("focus",function(){t.CHM(e);const a=t.MAs(18),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(19,ye,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",18)(21,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadData())}),t._uU(22,"Go "),t._UZ(23,"i",20),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(8,F,e.isLoading))}}function Ee(n,s){if(1&n&&(t.TgZ(0,"th",36),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij("",e.VALUE," ")}}function qe(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"th",34),t._uU(2,"Month"),t.qZA(),t.YNc(3,Ee,2,1,"th",35),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.Headers)}}function Se(n,s){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e??0)}}function Ye(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",34),t._uU(2),t.qZA(),t.YNc(3,Se,2,1,"td",38),t.qZA()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e[0]),t.xp6(1),t.Q6J("ngForOf",e.slice(1))}}function Oe(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,Ye,4,2,"tr",37),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function Re(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"div",5)(5,"div",8)(6,"table",28)(7,"thead",29),t._UZ(8,"tr"),t.TgZ(9,"th",30)(10,"div",31)(11,"input",32),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.searchQuery=a)})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filterData())}),t.qZA()()(),t.YNc(12,qe,4,1,"tr",33),t.qZA(),t.YNc(13,Oe,2,1,"tbody",33),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(1),t.Q6J("ngIf",0!=e.Headers.length),t.xp6(1),t.Q6J("ngIf",0!=e.Tabledata.length)}}const Fe=function(n){return{"d-flex justify-content-center":n}};let Le=(()=>{class n{constructor(e,o,a,i,r){this._monthlayvalueadditionservice=e,this._AppComponentService=o,this.fb=a,this.http=i,this.router=r,this.branch=[],this.finyear=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.isLoading=!1,this.BRANCH=!1,this.searchQuery="",this.Keyarray=[],this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(c,u){const h=u;h.query=JSON.stringify(u.query),new window.Smart.Ajax({url:A.N.base_url+"/companyList",dataSourceType:"json",data:h},C=>{c({dataSource:C.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(c){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(c){}}],this.Headers=[],this.Tabledata=[]}onFocus(e){e.open()}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",l.kI.required]})}ngOnInit(){this.createForm(),this.isLoading1=!0;let e=localStorage.getItem("user"),a={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(a).subscribe(i=>{i.List.length>1?(this.BRANCH=!0,this.showBranch=!0,i.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.BRANCH=!1,this.showBranch=!1,this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(a).subscribe(i=>{this.finyear=i.List,this.selectedYear=this.finyear[0].DATEVALUE})}ngAfterViewInit(){document.querySelector("smart-table"),this.YEAR_NAME&&this.YEAR_NAME.focus()}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(i=>"string"==typeof i?i.toLowerCase().includes(e):"number"==typeof i&&i.toString().includes(e))),console.log("Tabledata",this.Tabledata)}init(){}handleClick(e,o){this.table.exportData(o,"table")}loadData(){this.Tabledata=[],this.Keyarray=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._monthlayvalueadditionservice.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID}).subscribe(c=>{if(this.showtable=!0,0!=c.List.length){this.Headers=c.Headers;for(let h=0;h<=c.List.length-1;h++){const f=Object.values(c.List[h]);f.shift(),this.Keyarray.push(f)}let u={};this.Tabledata.unshift(u),this.Tabledata.unshift(u),this.Tabledata=this.Keyarray,this.Tabledata=this.Keyarray,this.isLoading=!1}else this.isLoading=!1,_().fire("Warning","No Data Found","info")}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?_().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?_().fire("Warning","Please select branch","info"):null==this.selectedYear&&_().fire("Warning","Please select financial year","info"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(be),t.Y36(M._),t.Y36(l.qu),t.Y36(m.eN),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-monthly-value-addition-target-vs-actual"]],viewQuery:function(e,o){if(1&e&&(t.Gf(ve,5),t.Gf(Me,5,x.ac)),2&e){let a;t.iGM(a=t.CRH())&&(o.YEAR_NAME=a.first),t.iGM(a=t.CRH())&&(o.table=a.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-1"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","17"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[4,"ngIf"],[1,"td_left"],["scope","col","style","text-align: right;",4,"ngFor","ngForOf"],["scope","col",2,"text-align","right"],[4,"ngFor","ngForOf"],["style","text-align: right;",4,"ngFor","ngForOf"],[2,"text-align","right"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,De,24,10,"div",3),t.YNc(4,Re,14,3,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,Fe,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,F,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,p.w9,p.jq,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On]}),n})(),Ue=(()=>{class n{constructor(e){this.http=e,this.url=A.N.base_url}findAll(e){return this.http.post(this.url+"/scheduleadherenceforthemonth/scheduleadherenceforthemonthData/",e).pipe((0,T.K)(this.handleError))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const we=["YEAR_NAME"],Ie=["table"];function Je(n,s){1&n&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4," * "),t.qZA()()())}function Qe(n,s){if(1&n&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function Be(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",23,24),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedBrach=a)})("focus",function(){t.CHM(e);const a=t.MAs(4),i=t.oxw(2);return t.KtG(i.onFocus(a))}),t.YNc(5,Qe,2,2,"ng-option",17),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function Pe(n,s){if(1&n&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}function He(n,s){if(1&n&&(t.TgZ(0,"ng-option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DateDesc,"")}}const L=function(n){return{"fa-spin fa-spinner":n}};function Ge(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Schedule Adherence For The Month"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,Je,5,0,"div",10),t.YNc(8,Be,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Finacial year "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedYear=a)})("focus",function(){t.CHM(e);const a=t.MAs(18),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(19,Pe,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",11)(21,"label"),t._uU(22,"Select Month "),t.TgZ(23,"sub",12),t._uU(24,"* "),t.qZA()()(),t.TgZ(25,"div",11)(26,"div",13)(27,"span",14)(28,"ng-select",18,19),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedMonth=a)})("focus",function(){t.CHM(e);const a=t.MAs(29),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(30,He,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(31,"div",20)(32,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadData())}),t._uU(33,"Go "),t._UZ(34,"i",22),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(9),t.Q6J("ngModel",e.selectedMonth)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.month),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(11,L,e.isLoading))}}function Ve(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",39),t._uU(2),t.qZA(),t.TgZ(3,"td",40),t._uU(4),t.qZA(),t.TgZ(5,"td",39),t._uU(6),t.qZA(),t.TgZ(7,"td",39),t._uU(8),t.qZA(),t.TgZ(9,"td",39),t._uU(10),t.qZA()()),2&n){const e=s.$implicit,o=s.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.AC_NAME),t.xp6(2),t.Oqu(e.SCH_QTY),t.xp6(2),t.Oqu(e.SALE_QTY),t.xp6(2),t.Oqu(e.ADHERENCE)}}function Ke(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,Ve,11,5,"tr",38),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function ke(n,s){1&n&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2,"No Data"),t.qZA()())}function je(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",5)(5,"div",8)(6,"table",30)(7,"thead",31),t._UZ(8,"tr"),t.TgZ(9,"th",32)(10,"div",33)(11,"input",34),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.searchQuery=a)})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",35),t._uU(14,"Sr. No."),t.qZA(),t.TgZ(15,"th",36),t._uU(16,"Customer"),t.qZA(),t.TgZ(17,"th",35),t._uU(18,"Sch. Qty"),t.qZA(),t.TgZ(19,"th",35),t._uU(20,"Disp. Qty"),t.qZA(),t.TgZ(21,"th",35),t._uU(22,"Adherence"),t.qZA()()(),t.YNc(23,Ke,2,1,"tbody",37),t.YNc(24,ke,3,0,"tbody",37),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(12),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}const ze=function(n){return{"d-flex justify-content-center":n}};let We=(()=>{class n{constructor(e,o,a,i,r){this._AppComponentService=e,this._scheduleadherenceservice=o,this.fb=a,this.http=i,this.router=r,this.branch=[],this.finyear=[],this.month=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.Keyarray=[],this.searchQuery="",this.grouping=!0,this.keyboardNavigation=!0,this.dataSource=new window.Smart.DataAdapter({virtualDataSource:function(c,u){const h=u;h.query=JSON.stringify(u.query),new window.Smart.Ajax({url:A.N.base_url+"/companyList",dataSourceType:"json",data:h},C=>{c({dataSource:C.List,virtualDataSourceLength:10})})},dataFields:["SUBGL_LONGNAME: string","INVOICE_AMT: number","CR_DAYS: number","CREDIT_DAYS: number","SUB_GLACNO: number"]}),this.filtering=!0,this.filterRow=!0,this.sortMode="one",this.paging=!0,this.columnSizeMode="default",this.columns=[{label:"SUBGL_LONGNAME",dataField:"SUBGL_LONGNAME",formatFunction(c){}},{label:"INVOICE_AMT",dataField:"INVOICE_AMT"},{label:"CR_DAYS",dataField:"CR_DAYS"},{label:"CREDIT_DAYS",dataField:"CREDIT_DAYS"},{label:"SUB_GLACNO",dataField:"SUB_GLACNO",formatFunction(c){}}],this.Tabledata=[]}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",l.kI.required],MONTH_NAME:["",l.kI.required]})}onFocus(e){e.open()}ngOnInit(){this.isLoading1=!0;let e=localStorage.getItem("user"),a={CODE:JSON.parse(e).COMPANY_ID};this.createForm(),this._AppComponentService.branchList(a).subscribe(i=>{i.List.length>1?(this.showBranch=!0,this.BRANCH=!0,i.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.showBranch=!1,this.BRANCH=!1,this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(a).subscribe(i=>{this.finyear=i.List,this.selectedYear=this.finyear[0].DATEVALUE}),this._AppComponentService.month(a).subscribe(i=>{this.month=i.List,this.selectedMonth=this.month[0].DateValue})}ngAfterViewInit(){document.querySelector("smart-table"),this.YEAR_NAME&&this.YEAR_NAME.focus()}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(i=>"string"==typeof i?i.toLowerCase().includes(e):"number"==typeof i&&i.toString().includes(e))),console.log("Tabledata",this.Tabledata)}init(){}handleClick(e,o){this.table.exportData(o,"table")}loadData(){this.Tabledata=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._scheduleadherenceservice.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,MONTH:this.selectedMonth,CODE:o.COMPANY_ID}).subscribe(r=>{this.showtable=!0,this.Tabledata=r.List,this.isLoading=!1}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?_().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?_().fire("Warning","Please select branch","info"):null==this.selectedYear&&_().fire("Warning","Please select financial year","info"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M._),t.Y36(Ue),t.Y36(l.qu),t.Y36(m.eN),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-schedule-adherence-for-the-month"]],viewQuery:function(e,o){if(1&e&&(t.Gf(we,5),t.Gf(Ie,5,x.ac)),2&e){let a;t.iGM(a=t.CRH())&&(o.YEAR_NAME=a.first),t.iGM(a=t.CRH())&&(o.table=a.first)}},decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"form-group","row","justify-content-md-center",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],["id","MONTH_NAME","bindValue","DateValue","bindLabel","DateDesc","required","","formControlName","MONTH_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["MONTH_NAME",""],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","6"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],["scope","col",1,"td_right"],["scope","col",1,"td_left"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td_right"],[1,"td_left"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,Ge,35,13,"div",3),t.YNc(4,je,25,3,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,ze,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,L,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,p.w9,p.jq,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On]}),n})(),$e=(()=>{class n{constructor(e){this.http=e,this.url=A.N.base_url}findAll(e){return this.http.post(this.url+"/customer-cigradeperkgraterealization/customercigradeperkgraterealizationData",e).pipe((0,T.K)(this.handleError))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xe(n,s){1&n&&(t.TgZ(0,"div",12)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",13),t._uU(4,"* "),t.qZA()()())}function tn(n,s){if(1&n&&(t.TgZ(0,"ng-option",32),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function en(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",14)(2,"span",15)(3,"ng-select",30,31),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedBrach=a)})("focus",function(){t.CHM(e);const a=t.MAs(4),i=t.oxw(2);return t.KtG(i.onFocus(a))}),t.YNc(5,tn,2,2,"ng-option",18),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function nn(n,s){if(1&n&&(t.TgZ(0,"ng-option",32),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}const U=function(n){return{"fa-spin fa-spinner":n}};function an(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h5"),t._uU(3,"Customer CI Grade Per Kg Rate Realization"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,Xe,5,0,"div",10),t.YNc(8,en,6,4,"div",11),t.TgZ(9,"div",12)(10,"label"),t._uU(11,"Select Finacial Year "),t.TgZ(12,"sub",13),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",12)(15,"div",14)(16,"span",15)(17,"ng-select",16,17),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedYear=a)})("focus",function(){t.CHM(e);const a=t.MAs(18),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(19,nn,2,2,"ng-option",18),t.qZA()()()(),t.TgZ(20,"div",12)(21,"label"),t._uU(22,"Customer Type "),t.TgZ(23,"sub",13),t._uU(24," * "),t.qZA()()(),t.TgZ(25,"div",19)(26,"div",20),t._UZ(27,"input",21),t.TgZ(28,"label",22),t._uU(29,"Domestic"),t.qZA()(),t.TgZ(30,"div",20),t._UZ(31,"input",23),t.TgZ(32,"label",24),t._uU(33,"Export"),t.qZA()()()(),t.TgZ(34,"div",9)(35,"div",12)(36,"label"),t._uU(37,"Weight "),t.TgZ(38,"sub",13),t._uU(39," * "),t.qZA()()(),t.TgZ(40,"div",19)(41,"div",20),t._UZ(42,"input",25),t.TgZ(43,"label",22),t._uU(44,"Casting"),t.qZA()(),t.TgZ(45,"div",20),t._UZ(46,"input",26),t.TgZ(47,"label",24),t._uU(48,"Finished"),t.qZA()()(),t.TgZ(49,"div",27)(50,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadData())}),t._uU(51,"Go "),t._UZ(52,"i",29),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(31),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(8,U,e.isLoading))}}function on(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",46),t._uU(2),t.qZA(),t.TgZ(3,"td",43),t._uU(4),t.qZA(),t.TgZ(5,"td",43),t._uU(6),t.qZA(),t.TgZ(7,"td",46),t._uU(8),t.qZA(),t.TgZ(9,"td",46),t._uU(10),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(null==e?null:e.AC_NAME),t.xp6(2),t.hij(" ",null==e?null:e.Q1_RATE,""),t.xp6(2),t.Oqu(null==e?null:e.Q2_RATE),t.xp6(2),t.Oqu(null==e?null:e.Q3_RATE),t.xp6(2),t.Oqu(null==e?null:e.Q4_RATE)}}function sn(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,on,11,5,"tr",45),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function ln(n,s){1&n&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3,"No Data"),t.qZA()()())}function rn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"div",5)(5,"div",8)(6,"table",37)(7,"thead",38),t._UZ(8,"tr"),t.TgZ(9,"th",39)(10,"div",40)(11,"input",41),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.searchQuery=a)})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",42),t._uU(14,"Customer Name"),t.qZA(),t.TgZ(15,"th",43),t._uU(16,"Quarter 01"),t.qZA(),t.TgZ(17,"th",43),t._uU(18,"Quarter 02"),t.qZA(),t.TgZ(19,"th",43),t._uU(20,"Quarter 03"),t.qZA(),t.TgZ(21,"th",43),t._uU(22,"Quarter 04"),t.qZA()()(),t.YNc(23,sn,2,1,"tbody",44),t.YNc(24,ln,4,0,"tbody",44),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(12),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}const cn=function(n){return{"d-flex justify-content-center":n}};let dn=(()=>{class n{constructor(e,o,a,i,r){this._CustomerService=e,this._AppComponentService=o,this.fb=a,this.http=i,this.router=r,this.branch=[],this.finyear=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.Keyarray=[],this.searchQuery="",this.Tabledata=[],this.FooterData=[]}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",l.kI.required],CUTOMER_TYPE:["0",l.kI.required],WEIGHT:["0",l.kI.required]})}onFocus(e){e.open()}ngOnInit(){this.isLoading1=!0,this.createForm();let e=localStorage.getItem("user"),a={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(a).subscribe(i=>{i.List.length>1?(this.showBranch=!0,this.BRANCH=!0,i.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.showBranch=!1,this.BRANCH=!1,this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(a).subscribe(i=>{this.finyear=i.List,this.selectedYear=this.finyear[0].DATEVALUE})}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(i=>"string"==typeof i?i.toLowerCase().includes(e):"number"==typeof i&&i.toString().includes(e))),console.log("Tabledata",this.Tabledata)}loadData(){this.Tabledata=[],this.FooterData=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);const a=this.angForm.value;this.angForm.valid?this._CustomerService.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID,CUSTOMER_TYPE:a.CUTOMER_TYPE,WEIGHT:a.WEIGHT}).subscribe(r=>{this.showtable=!0,this.FooterData.push(r.List[r.List.length-1]),this.Tabledata=r.List,this.Tabledata.pop(),this.isLoading=!1}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?_().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?_().fire("Warning","Please select branch","info"):null==this.selectedYear&&_().fire("Warning","Please select financial year","info"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($e),t.Y36(M._),t.Y36(l.qu),t.Y36(m.eN),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-ci-grade-per-kg-rate-realization"]],decls:5,vars:8,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],["class","col-sm",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-3"],[1,"form-check","form-check-inline"],["type","radio","name","CUTOMER_TYPE","id","inlineRadio1","value","0","formControlName","CUTOMER_TYPE",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","CUTOMER_TYPE","id","inlineRadio2","value","1","formControlName","CUTOMER_TYPE",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","radio","name","WEIGHT","id","inlineRadio1","value","0","formControlName","WEIGHT",1,"form-check-input"],["type","radio","name","WEIGHT","id","inlineRadio2","value","1","formControlName","WEIGHT",1,"form-check-input"],[1,"col-sm"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","6"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_left",2,"width","20%"],[1,"td_right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"td_left"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,an,53,10,"div",3),t.YNc(4,rn,25,3,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(4,cn,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(6,U,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1),t.xp6(1),t.Q6J("ngIf",o.showtable))},dependencies:[d.mk,d.sg,d.O5,p.w9,p.jq,l._Y,l.Fj,l._,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On],styles:[".loader[_ngcontent-%COMP%]{position:absolute;top:45%;left:55%;transform:translate(-50%,-50%)}"]}),n})(),_n=(()=>{class n{constructor(e){this.http=e,this.url=A.N.base_url}findAll(e){return this.http.post(this.url+"/enquiry-register/enquiryRegister/",e).pipe((0,T.K)(this.handleError))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function un(n,s){1&n&&(t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Select Branch "),t.TgZ(3,"sub",12),t._uU(4," * "),t.qZA()()())}function hn(n,s){if(1&n&&(t.TgZ(0,"ng-option",27),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.NAME,"")}}function gn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",13)(2,"span",14)(3,"ng-select",25,26),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedBrach=a)})("focus",function(){t.CHM(e);const a=t.MAs(4),i=t.oxw(2);return t.KtG(i.onFocus(a))}),t.YNc(5,hn,2,2,"ng-option",17),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.selectedBrach)("selectOnTab",!0)("required",e.BRANCH),t.xp6(2),t.Q6J("ngForOf",e.branch)}}function pn(n,s){if(1&n&&(t.TgZ(0,"ng-option",27),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DATEDESC,"")}}function mn(n,s){if(1&n&&(t.TgZ(0,"ng-option",27),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.DateDesc,"")}}function fn(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",37),t._uU(2),t.qZA(),t.TgZ(3,"td",38),t._uU(4),t.qZA(),t.TgZ(5,"td",38),t._uU(6),t.qZA(),t.TgZ(7,"td",37),t._uU(8),t.qZA(),t.TgZ(9,"td",37),t._uU(10),t.qZA(),t.TgZ(11,"td",37),t._uU(12),t.qZA(),t.TgZ(13,"td",37),t._uU(14),t.qZA(),t.TgZ(15,"td",37),t._uU(16),t.qZA(),t.TgZ(17,"td",37),t._uU(18),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(null==e?null:e.SR_NO),t.xp6(2),t.hij(" ",null==e?null:e.TRAN_NO,""),t.xp6(2),t.Oqu(null==e?null:e.TRAN_DATE),t.xp6(2),t.Oqu(null==e?null:e.CUSTOMER_NAME),t.xp6(2),t.Oqu(null==e?null:e.QUOT_TRANNO),t.xp6(2),t.Oqu(null==e?null:e.MATERIAL_NAME),t.xp6(2),t.Oqu(null==e?null:e.PART_CODE),t.xp6(2),t.Oqu(null==e?null:e.QTY),t.xp6(2),t.Oqu(null==e?null:e.SHORT_NARRTN)}}function An(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,fn,19,9,"tr",40),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.Tabledata)}}function Cn(n,s){1&n&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3,"No Data"),t.qZA()()())}function Tn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",4)(5,"div",8)(6,"table",32)(7,"thead",33),t._UZ(8,"tr"),t.TgZ(9,"th",34)(10,"div",35)(11,"input",36),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.searchQuery=a)})("input",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.filterData())}),t.qZA()()(),t.TgZ(12,"tr")(13,"th",37),t._uU(14,"Sr.No."),t.qZA(),t.TgZ(15,"th",38),t._uU(16,"Enquiry Number"),t.qZA(),t.TgZ(17,"th",38),t._uU(18,"Date"),t.qZA(),t.TgZ(19,"th",38),t._uU(20,"Customer"),t.qZA(),t.TgZ(21,"th",38),t._uU(22,"Part Name"),t.qZA(),t.TgZ(23,"th",38),t._uU(24,"Material"),t.qZA(),t.TgZ(25,"th",38),t._uU(26,"Oty."),t.qZA(),t.TgZ(27,"th",38),t._uU(28,"Remark"),t.qZA()()(),t.YNc(29,An,2,1,"tbody",39),t.YNc(30,Cn,4,0,"tbody",39),t.qZA()()()()()()()}if(2&n){const e=t.oxw(2);t.xp6(11),t.Q6J("ngModel",e.searchQuery),t.xp6(18),t.Q6J("ngIf",0!=e.Tabledata.length),t.xp6(1),t.Q6J("ngIf",0==e.Tabledata.length)}}const w=function(n){return{"fa-spin fa-spinner":n}};function bn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h5",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.reload())}),t._uU(3,"Enquiry Register"),t.qZA()(),t.TgZ(4,"form",7)(5,"div",8)(6,"div",9),t.YNc(7,un,5,0,"div",10),t.YNc(8,gn,6,4,"div",10),t.TgZ(9,"div",11)(10,"label"),t._uU(11,"Select Financial Year "),t.TgZ(12,"sub",12),t._uU(13,"* "),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",13)(16,"span",14)(17,"ng-select",15,16),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedYear=a)})("focus",function(){t.CHM(e);const a=t.MAs(18),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(19,pn,2,2,"ng-option",17),t.qZA()()()(),t.TgZ(20,"div",11)(21,"label"),t._uU(22,"Select Month "),t.TgZ(23,"sub",12),t._uU(24,"* "),t.qZA()()(),t.TgZ(25,"div",11)(26,"div",13)(27,"span",14)(28,"ng-select",18,19),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedMonth=a)})("focus",function(){t.CHM(e);const a=t.MAs(29),i=t.oxw();return t.KtG(i.onFocus(a))}),t.YNc(30,mn,2,2,"ng-option",17),t.qZA()()()()(),t.TgZ(31,"div",20)(32,"div",21)(33,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadData())}),t._uU(34,"Go "),t._UZ(35,"i",23),t.qZA()()()()(),t.YNc(36,Tn,31,3,"div",24),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.angForm),t.xp6(3),t.Q6J("ngIf",e.showBranch),t.xp6(1),t.Q6J("ngIf",e.showBranch),t.xp6(9),t.Q6J("ngModel",e.selectedYear)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.finyear),t.xp6(9),t.Q6J("ngModel",e.selectedMonth)("selectOnTab",!0),t.xp6(2),t.Q6J("ngForOf",e.month),t.xp6(3),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngClass",t.VKq(12,w,e.isLoading)),t.xp6(1),t.Q6J("ngIf",e.showtable)}}const vn=function(n){return{"d-flex justify-content-center":n}},Mn=[{path:"paymentCollectionPlan",component:at},{path:"turnOver",component:st},{path:"developmentcostdeatils",component:Mt},{path:"dailysalesdata",component:Bt},{path:"monthlysalesandtarget",component:ae},{path:"customerwiseplanvs.actualsale",component:Te},{path:"monthlayvalueadditiontargetvsactual",component:Le},{path:"scheduleadherenceforthemonth",component:We},{path:"customercigradeperkgraterealization",component:dn},{path:"enquiryregister",component:(()=>{class n{constructor(e,o,a,i,r){this._EnquiryRegisterService=e,this._AppComponentService=o,this.fb=a,this.http=i,this.router=r,this.branch=[],this.finyear=[],this.month=[],this.showBranch=!0,this.showtable=!1,this.isLoading1=!1,this.BRANCH=!1,this.isLoading=!1,this.Keyarray=[],this.searchQuery="",this.Tabledata=[],this.FooterData=[]}reload(){window.location.reload()}createForm(){this.angForm=this.fb.group({BRANCH_NAME:[""],YEAR_NAME:["",l.kI.required],CUTOMER_TYPE:["0",l.kI.required],MONTH_NAME:["",l.kI.required]})}onFocus(e){e.open()}ngOnInit(){this.isLoading1=!0,this.createForm();let e=localStorage.getItem("user"),a={CODE:JSON.parse(e).COMPANY_ID};this._AppComponentService.branchList(a).subscribe(i=>{i.List.length>1?(this.showBranch=!0,this.BRANCH=!0,i.List.unshift({ADDRESS1:"",ADDRESS2:null,CITY_NAME:"",CODE:"0",EMAIL_ID:null,NAME:"ALL",PHONE_NO:"",PINCODE:"",PREFIX_NAME:null}),this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE):(this.showBranch=!1,this.BRANCH=!1,this.branch=i.List,this.isLoading1=!1,this.selectedBrach=this.branch[0].CODE)}),this._AppComponentService.financialYear(a).subscribe(i=>{this.finyear=i.List,this.selectedYear=this.finyear[0].DATEVALUE}),this._AppComponentService.month(a).subscribe(i=>{this.month=i.List,this.selectedMonth=this.month[0].DateValue})}filterData(){const e=this.searchQuery.toLowerCase().trim();this.Tabledata=this.Keyarray.filter(o=>Object.values(o).some(i=>"string"==typeof i?i.toLowerCase().includes(e):"number"==typeof i&&i.toString().includes(e))),console.log("Tabledata",this.Tabledata)}loadData(){this.Tabledata=[],this.FooterData=[],this.isLoading=!0;let e=localStorage.getItem("user"),o=JSON.parse(e);this.angForm.valid?this._EnquiryRegisterService.findAll({BRANCH_NAME:this.selectedBrach,FINANCIAL_YEAR:this.selectedYear,CODE:o.COMPANY_ID,MONTH:this.selectedMonth}).subscribe(r=>{this.showtable=!0,this.Tabledata=r.List,this.Tabledata.unshift({}),this.isLoading=!1,this.Tabledata.pop()}):(this.isLoading=!1,null==this.selectedBrach&&null==this.selectedYear?_().fire("Warning","Please select branch and financial year","info"):null==this.selectedBrach?_().fire("Warning","Please select branch","info"):null==this.selectedYear&&_().fire("Warning","Please select financial year","info"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_n),t.Y36(M._),t.Y36(l.qu),t.Y36(m.eN),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-enquiry-register"]],decls:4,vars:7,consts:[[1,"text-center"],[1,"fa",2,"font-size","46px",3,"ngClass"],[1,"fa","loader",2,"font-size","46px",3,"ngClass"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[3,"click"],[3,"formGroup"],[1,"card-block"],[1,"row",2,"margin","1%"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],[1,"required"],[1,"form-group","form-primary","form-static-label"],[1,"border-lable-flt"],["id","YEAR_NAME","bindValue","DATEVALUE","bindLabel","DATEDESC","required","","formControlName","YEAR_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["YEAR_NAME",""],[3,"value",4,"ngFor","ngForOf"],["id","MONTH_NAME","bindValue","DateValue","bindLabel","DateDesc","required","","formControlName","MONTH_NAME",3,"ngModel","selectOnTab","ngModelChange","focus"],["MONTH_NAME",""],[1,"form-group","row","justify-content-md-center"],[1,"col-sm-1"],[1,"btn","btn-primary","sm",3,"disabled","click"],[1,"fa",3,"ngClass"],["class","row","id","r1","style","margin-top: 20px;margin-bottom: 20px;",4,"ngIf"],["id","BRANCH_NAME","bindValue","CODE","bindLabel","NAME","formControlName","BRANCH_NAME",3,"ngModel","selectOnTab","required","ngModelChange","focus"],["BRANCH_NAME",""],[3,"value"],["id","r1",1,"row",2,"margin-top","20px","margin-bottom","20px"],[1,"col-12"],[1,"table-responsive"],[1,"table-fixed"],[1,"table","table-striped","table-bordered","table-hover","compact","marginTable"],[2,"position","sticky","top","0","text-align","center"],["colspan","10"],[1,"search-container"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"td_left"],[1,"td_right"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1)(2,"i",2),t.qZA(),t.YNc(3,bn,37,14,"div",3)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(3,vn,o.isLoading1)),t.xp6(1),t.Q6J("ngClass",t.VKq(5,w,o.isLoading1)),t.xp6(1),t.Q6J("ngIf",!o.isLoading1))},dependencies:[d.mk,d.sg,d.O5,p.w9,p.jq,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On],styles:[".loader[_ngcontent-%COMP%]{position:absolute;top:45%;left:55%;transform:translate(-50%,-50%)}"]}),n})()}];let xn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[b.Bz.forChild(Mn),b.Bz]}),n})(),Nn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,xn,B.v,I.X,J.m9,Q.EW,x.U$,N.kn.forRoot(),p.A0,N.kn,l.UX,l.u5]}),n})()}}]);